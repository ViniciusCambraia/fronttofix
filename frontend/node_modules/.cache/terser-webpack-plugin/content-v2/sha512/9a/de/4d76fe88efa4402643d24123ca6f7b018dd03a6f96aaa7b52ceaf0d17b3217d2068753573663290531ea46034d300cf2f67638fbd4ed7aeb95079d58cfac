{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1035:function(e,a){},1037:function(e,a){},1038:function(e,a){},1043:function(e,a){},1045:function(e,a){},1065:function(e,a){},1081:function(e,a){},1084:function(e,a){},1342:function(e,a,t){},1346:function(e,a,t){},1348:function(e,a,t){\"use strict\";t.r(a);var n=t(0),o=t.n(n),r=t(56),l=t.n(r),i=t(1520),s=(t(685),t(642)),c=t(557),d=t(1550),m=t(907);var u=(e,a)=>Object(m.a)({palette:{type:e,mode:e,primary:{main:\"#fbcc3c\",light:\"#ffdf6f\",dark:\"#e0b035\",contrastText:\"#333333\"},secondary:{main:\"#4a6da7\",light:\"#6b8fd9\",dark:\"#2a4d77\",contrastText:\"#ffffff\"},error:{main:\"#f44336\",light:\"#e57373\",dark:\"#d32f2f\"},warning:{main:\"#ff9800\",light:\"#ffb74d\",dark:\"#f57c00\"},info:{main:\"#2196f3\",light:\"#64b5f6\",dark:\"#1976d2\"},success:{main:\"#4caf50\",light:\"#81c784\",dark:\"#388e3c\"},background:{default:\"light\"===e?\"#f8f9fa\":\"#121212\",paper:\"light\"===e?\"#ffffff\":\"#1e1e1e\"},text:{primary:\"light\"===e?\"#333333\":\"#ffffff\",secondary:\"light\"===e?\"#666666\":\"#b0b0b0\"},textPrimary:\"light\"===e?\"#333333\":\"#ffffff\",borderPrimary:\"#fbcc3c\",dark:{main:\"light\"===e?\"#333333\":\"#f0f0f0\"},light:{main:\"light\"===e?\"#f9f9f9\":\"#1a1a1a\"},tabHeaderBackground:\"light\"===e?\"#f8f9fa\":\"#2a2a2a\",optionsBackground:\"light\"===e?\"#ffffff\":\"#2c2c2c\",options:\"light\"===e?\"#ffffff\":\"#2c2c2c\",fontecor:\"#fbcc3c\",fancyBackground:\"light\"===e?\"#f8f9fa\":\"#1e1e1e\",bordabox:\"light\"===e?\"#e6e8eb\":\"#444\",newmessagebox:\"light\"===e?\"#f0f4fa\":\"#2e2e2e\",inputdigita:\"light\"===e?\"#ffffff\":\"#333333\",contactdrawer:\"light\"===e?\"#ffffff\":\"#2a2a2a\",announcements:\"light\"===e?\"#f4f4f4\":\"#2e2e2e\",login:\"light\"===e?\"#ffffff\":\"#1c1c1c\",announcementspopover:\"light\"===e?\"#ffffff\":\"#333333\",chatlist:\"light\"===e?\"#f8f9fa\":\"#2b2b2b\",boxlist:\"light\"===e?\"#f0f2f5\":\"#2b2b2b\",boxchatlist:\"light\"===e?\"#f0f2f5\":\"#2a2a2a\",total:\"light\"===e?\"#ffffff\":\"#1c1c1c\",messageIcons:\"light\"===e?\"#777777\":\"#f0f0f0\",inputBackground:\"light\"===e?\"#ffffff\":\"#2c2c2c\",barraSuperior:\"light\"===e?\"linear-gradient(135deg, #fbcc3c 0%, #ffdf6f 100%)\":\"#2a2a2a\",boxticket:\"light\"===e?\"#f8f9fa\":\"#2e2e2e\",campaigntab:\"light\"===e?\"#f9f9f9\":\"#2e2e2e\",mediainput:\"light\"===e?\"#f4f4f4\":\"#1c1c1c\"},typography:{fontFamily:'\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',h1:{fontWeight:600,fontSize:\"2.5rem\"},h2:{fontWeight:600,fontSize:\"2rem\"},h3:{fontWeight:600,fontSize:\"1.75rem\"},h4:{fontWeight:600,fontSize:\"1.5rem\"},h5:{fontWeight:600,fontSize:\"1.25rem\"},h6:{fontWeight:600,fontSize:\"1rem\"},subtitle1:{fontSize:\"1rem\",fontWeight:500},subtitle2:{fontSize:\"0.875rem\",fontWeight:500},body1:{fontSize:\"1rem\"},body2:{fontSize:\"0.875rem\"},button:{textTransform:\"none\",fontWeight:500}},shape:{borderRadius:8},shadows:[\"none\",\"0 2px 4px rgba(0,0,0,0.05)\",\"0 4px 8px rgba(0,0,0,0.05)\",\"0 6px 12px rgba(0,0,0,0.08)\",\"0 8px 16px rgba(0,0,0,0.08)\",\"0 12px 24px rgba(0,0,0,0.12)\",...Array(19).fill(\"none\")],overrides:{MuiButton:{root:{borderRadius:8,textTransform:\"none\",fontWeight:500,padding:\"8px 16px\"},contained:{boxShadow:\"0 2px 5px rgba(0,0,0,0.08)\",\"&:hover\":{boxShadow:\"0 4px 10px rgba(0,0,0,0.12)\"}},containedPrimary:{backgroundImage:\"linear-gradient(135deg, #fbcc3c 0%, #ffdf6f 100%)\",\"&:hover\":{backgroundImage:\"linear-gradient(135deg, #e0b035 0%, #fbcc3c 100%)\"}}},MuiPaper:{rounded:{borderRadius:12},elevation1:{boxShadow:\"0 2px 10px rgba(0,0,0,0.05)\"},elevation2:{boxShadow:\"0 4px 15px rgba(0,0,0,0.08)\"},elevation3:{boxShadow:\"0 6px 20px rgba(0,0,0,0.1)\"}},MuiCard:{root:{borderRadius:12,overflow:\"hidden\"}},MuiCardHeader:{root:{padding:\"16px 24px\"}},MuiCardContent:{root:{padding:\"16px 24px\",\"&:last-child\":{paddingBottom:24}}},MuiInputBase:{root:{borderRadius:8}},MuiOutlinedInput:{root:{borderRadius:8}},MuiTableCell:{root:{padding:\"12px 16px\"},head:{fontWeight:600,backgroundColor:\"light\"===e?\"#f8f9fa\":\"#2a2a2a\"}},MuiTableRow:{root:{\"&:hover\":{backgroundColor:\"light\"===e?\"rgba(0, 0, 0, 0.02)\":\"rgba(255, 255, 255, 0.02)\"}}},MuiDrawer:{paper:{borderRight:\"light\"===e?\"1px solid rgba(0, 0, 0, 0.08)\":\"1px solid rgba(255, 255, 255, 0.08)\"}},MuiDivider:{root:{backgroundColor:\"light\"===e?\"rgba(0, 0, 0, 0.08)\":\"rgba(255, 255, 255, 0.08)\"}},MuiListItem:{root:{\"&$selected\":{backgroundColor:\"rgba(251, 204, 60, 0.15)\",\"&:hover\":{backgroundColor:\"rgba(251, 204, 60, 0.25)\"}}}},MuiTab:{root:{textTransform:\"none\",fontWeight:500,fontSize:\"0.875rem\"}},MuiChip:{root:{borderRadius:16}}}},a),p=t(1365);var g=o.a.createContext({toggleColorMode:()=>{}}),b=t(906),E=t(643),f=t.n(E);class h{constructor(e){this.socketManager=e,this.rawSocket=e.currentSocket,this.callbacks=[],this.joins=[],this.rawSocket.on(\"connect\",()=>{if(!this.rawSocket.recovered){const e=()=>{for(const e of this.joins)console.debug(\"refreshing join\",e),this.rawSocket.emit(\"join\".concat(e.event),...e.params);this.rawSocket.off(\"ready\",e)};for(const a of this.callbacks)this.rawSocket.off(a.event,a.callback),this.rawSocket.on(a.event,a.callback);this.rawSocket.on(\"ready\",e)}})}on(e,a){return\"ready\"===e||\"connect\"===e?this.socketManager.onReady(a):(this.callbacks.push({event:e,callback:a}),this.rawSocket.on(e,a))}off(e,a){const t=this.callbacks.findIndex(t=>t.event===e&&t.callback===a);return this.callbacks.splice(t,1),this.rawSocket.off(e,a)}emit(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),n=1;n<a;n++)t[n-1]=arguments[n];return e.startsWith(\"join\")&&(this.joins.push({event:e.substring(4),params:t}),console.log(\"Joining\",{event:e.substring(4),params:t})),this.rawSocket.emit(e,...t)}disconnect(){for(const e of this.joins)this.rawSocket.emit(\"leave\".concat(e.event),...e.params);this.joins=[];for(const e of this.callbacks)this.rawSocket.off(e.event,e.callback);this.callbacks=[]}}class A{on(){}off(){}emit(){}disconnect(){}}const y={currentCompanyId:-1,currentUserId:-1,currentSocket:null,socketReady:!1,getSocket:function(e){var a=this;let t=null;if(localStorage.getItem(\"userId\")&&(t=localStorage.getItem(\"userId\")),!e&&!this.currentSocket)return new A;if(e&&\"string\"!==typeof e&&(e=\"\".concat(e)),e!==this.currentCompanyId||t!==this.currentUserId){var n;this.currentSocket&&(console.warn(\"closing old socket - company or user changed\"),this.currentSocket.removeAllListeners(),this.currentSocket.disconnect(),this.currentSocket=null);let o=JSON.parse(localStorage.getItem(\"token\"));const{exp:r}=null!==(n=f.a.decode(o))&&void 0!==n?n:{};if(Date.now()>=1e3*r)return console.warn(\"Expired token, reload after refresh\"),setTimeout(()=>{window.location.reload()},1e3),new A;if(this.currentCompanyId=e,this.currentUserId=t,!o)return new A;this.currentSocket=Object(b.a)(\"https://api.whatspark.com.br\",{transports:[\"websocket\"],pingTimeout:18e3,pingInterval:18e3,query:{token:o}}),this.currentSocket.on(\"disconnect\",e=>{if(console.warn(\"socket disconnected because: \".concat(e)),e.startsWith(\"io \")){console.warn(\"tryng to reconnect\",this.currentSocket);const{exp:e}=f.a.decode(o);if(Date.now()-180>=1e3*e)return console.warn(\"Expired token, reloading app\"),void window.location.reload();this.currentSocket.connect()}}),this.currentSocket.on(\"connect\",(function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];console.warn(\"socket connected\",a)})),this.currentSocket.onAny((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];console.debug(\"Event: \",{socket:a.currentSocket,event:e,args:n})})),this.onReady(()=>{this.socketReady=!0})}return new h(this)},onReady:function(e){this.socketReady?e():this.currentSocket.once(\"ready\",()=>{e()})}},v=Object(n.createContext)();var x=t(54),C=t(91),w=t(11),S=t(6),O=t(32),k=t.n(O),T=t(268),j=t(85),I=t(1624),N=t(1357),M=t(1358),P=t(1491),R=t(1523),D=t(1524),q=t(154),L=t(912),F=t(1508),W=t(836),B=t.n(W),z=t(835),H=t.n(z),U=t(838),V=t.n(U),Q=t(837),K=t.n(Q),G=t(1356),Y=t(1494),X=t(1492),_=t(1496),Z=t(1495),J=t(1359),$=t(809),ee=t.n($),ae=t(281),te=t.n(ae),ne=t(818),oe=t.n(ne),re=t(647),le=t.n(re),ie=t(820),se=t.n(ie),ce=t(813),de=t.n(ce),me=t(819),ue=t.n(me),pe=t(811),ge=t.n(pe),be=t(816),Ee=t.n(be),fe=t(821),he=t.n(fe),Ae=t(814),ye=t.n(Ae),ve=t(815),xe=t.n(ve),Ce=t(385),we=t.n(Ce),Se=t(645),Oe=t.n(Se),ke=t(646),Te=t.n(ke),je=t(461),Ie=t.n(je),Ne=t(460),Me=t.n(Ne),Pe=t(639),Re=t.n(Pe),De=t(459),qe=t.n(De),Le=t(822),Fe=t.n(Le),We=t(543);const Be={pt:{translations:{selectLanguage:\"Selecione um idioma\",signup:{title:\"Cadastre-se\",toasts:{success:\"Usu\\xe1rio criado com sucesso! Fa\\xe7a seu login!!!.\",fail:\"Erro ao criar usu\\xe1rio. Verifique os dados informados.\"},form:{name:\"Nome da empresa\",email:\"Email\",phone:\"Telefone com (DDD)\",plan:\"Plano\",password:\"Senha\"},formErrors:{name:{required:\"Nome da empresa \\xe9 obrigat\\xf3rio\",short:\"Nome muito curto\",long:\"Nome muito longo\"},password:{short:\"Senha muito curta\",long:\"Senha muito longa\"},email:{required:\"Email \\xe9 obrigat\\xf3rio\",invalid:\"Email inv\\xe1lido\"}},buttons:{submit:\"Cadastrar\",login:\"J\\xe1 tem uma conta? Entre!\"},plan:{attendant:\"Atendente\",whatsapp:\"WhatsApp\",queues:\"Filas\"}},login:{title:\"Login\",form:{email:\"Email\",password:\"Senha\"},buttons:{submit:\"Entrar\",register:\"Registre-se, agora mesmo!\"}},resetPassword:{title:\"Redefinir Senha\",toasts:{emailSent:\"Email enviado com sucesso!\",emailNotFound:\"Email n\\xe3o encontrado!\",passwordUpdated:\"Senha atualizada com sucesso!\"},formErrors:{email:{required:\"Email \\xe9 obrigat\\xf3rio\",invalid:\"Email inv\\xe1lido\"},newPassword:{required:\"Nova senha \\xe9 obrigat\\xf3ria\",matches:\"Sua senha precisa ter no m\\xednimo 8 caracteres, sendo uma letra mai\\xfascula, uma min\\xfascula e um n\\xfamero.\"},confirmPassword:{required:\"Confirma\\xe7\\xe3o de senha \\xe9 obrigat\\xf3ria\",matches:\"As senhas n\\xe3o correspondem\"}},form:{email:\"Email\",verificationCode:\"C\\xf3digo de verifica\\xe7\\xe3o\",newPassword:\"Nova senha\",confirmPassword:\"Confirme a nova senha\"},buttons:{submitEmail:\"Enviar email\",submitPassword:\"Redefinir senha\",back:\"N\\xe3o tem uma conta? Cadastre-se!\"}},dashboard:{toasts:{selectFilterError:\"Parametrize o filtro\",userChartError:\"Erro ao obter informa\\xe7\\xf5es da conversa\",dateChartError:\"Erro ao obter informa\\xe7\\xf5es da conversa\"},filters:{initialDate:\"Data Inicial\",finalDate:\"Data Final\",filterType:{title:\"Tipo de Filtro\",options:{perDate:\"Filtro por Data\",perPeriod:\"Filtro por Per\\xedodo\"},helper:\"Selecione o tipo de filtro desejado\"}},periodSelect:{title:\"Per\\xedodo\",options:{none:\"Nenhum selecionado\",last3:\"\\xdaltimos 3 dias\",last7:\"\\xdaltimos 7 dias\",last15:\"\\xdaltimos 15 dias\",last30:\"\\xdaltimos 30 dias\",last60:\"\\xdaltimos 60 dias\",last90:\"\\xdaltimos 90 dias\"},helper:\"Selecione o per\\xedodo desejado\"},counters:{inTalk:\"Em conversa\",waiting:\"Aguardando\",finished:\"Finalizados\",newContacts:\"Novos contatos\",averageTalkTime:\"T.M. de Conversa\",averageWaitTime:\"T.M. de Espera\"},buttons:{filter:\"Filtrar\"},onlineTable:{ratingLabel:\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\",name:\"Nome\",ratings:\"Avalia\\xe7\\xf5es\",avgSupportTime:\"T.M. de Atendimento\",status:\"Status (Atual)\"},charts:{user:{label:\"Gr\\xe1fico de Conversas\",title:\"Total de Conversas por Usu\\xe1rios\",start:\"In\\xedcio\",end:\"Fim\",filter:\"Filtrar\"},date:{label:\"Gr\\xe1fico de Conversas\",title:\"Total\",start:\"In\\xedcio\",end:\"Fim\",filter:\"Filtrar\"}}},plans:{toasts:{errorList:\"N\\xe3o foi poss\\xedvel carregar a lista de registros\",errorOperation:\"N\\xe3o foi poss\\xedvel realizar a opera\\xe7\\xe3o\",error:\"N\\xe3o foi poss\\xedvel realizar a opera\\xe7\\xe3o. Verifique se j\\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente\",success:\"Opera\\xe7\\xe3o realizada com sucesso!\"},confirm:{title:\"Exclus\\xe3o de Registro\",message:\"Deseja realmente excluir o registro?\"},form:{name:\"Nome\",users:\"Usu\\xe1rios\",connections:\"Conex\\xf5es\",queues:\"Filas\",value:\"Valor\",internalChat:\"Chat Interno\",externalApi:\"API Externa\",kanban:\"Kanban\",integrations:\"Integra\\xe7\\xf5es\",campaigns:\"Campanhas\",schedules:\"Agendamentos\",enabled:\"Habilitadas\",disabled:\"Desabilitadas\",clear:\"Cancelar\",delete:\"Excluir\",save:\"Salvar\",yes:\"Sim\",no:\"N\\xe3o\",money:\"R$\"}},kanban:{toasts:{removed:\"Ticket Tag Removido!\",added:\"Ticket Tag Adicionado com Sucesso!\"},open:\"Em aberto\",seeTicket:\"Ver Ticket\"},invoices:{title:\"Faturas\",paid:\"Pago\",open:\"Em Aberto\",expired:\"Vencido\",details:\"Detalhes\",value:\"Valor\",dueDate:\"Data Venc.\",status:\"Status\",action:\"A\\xe7\\xe3o\",PAY:\"PAGAR\",PAID:\"PAGO\"},checkoutPage:{steps:{data:\"Dados\",customize:\"Personalizar\",review:\"Revisar\"},success:\"Assinatura realizada com sucesso!, aguardando a realiza\\xe7\\xe3o do pagamento\",closeToEnd:\"Falta pouco!\",BACK:\"VOLTAR\",PAY:\"PAGAR\",NEXT:\"PR\\xd3XIMO\",review:{title:\"Resumo da assinatura\",details:\"Detalhes do plano\",users:\"Usu\\xe1rios\",whatsapp:\"Whatsapp\",charges:\"Cobran\\xe7a: Mensal\",total:\"Total\"},form:{firstName:{label:\"Nome completo*\",required:\"Nome completo \\xe9 obrigat\\xf3rio\"},lastName:{label:\"Sobrenome*\",required:\"Sobrenome \\xe9 obrigat\\xf3rio\"},address1:{label:\"Endere\\xe7o*\",required:\"Endere\\xe7o \\xe9 obrigat\\xf3rio\"},city:{label:\"Cidade*\",required:\"Cidade \\xe9 obrigat\\xf3rio\"},state:{label:\"Estado*\",required:\"Estado \\xe9 obrigat\\xf3rio\"},zipcode:{label:\"CEP*\",required:\"CEP \\xe9 obrigat\\xf3rio\",invalid:\"Formato de CEP inv\\xe1lido\"},country:{label:\"Pa\\xeds*\",required:\"Pa\\xeds \\xe9 obrigat\\xf3rio\"},useAddressForPaymentDetails:{label:\"Use este endere\\xe7o para os detalhes de pagamento\"},invoiceId:{label:\"Use este invoiceId\"},nameOnCard:{label:\"Nome no cart\\xe3o*\",required:\"Nome no cart\\xe3o \\xe9 obrigat\\xf3rio\"},cardNumber:{label:\"N\\xfamero do cart\\xe3o*\",required:\"N\\xfamero do cart\\xe3o \\xe9 obrigat\\xf3rio\",invalid:\"N\\xfamero do cart\\xe3o inv\\xe1lido (ex: 4111111111111)\"},expiryDate:{label:\"Data de validade*\",required:\"Data de validade \\xe9 obrigat\\xf3ria\",invalid:\"Data de validade inv\\xe1lida\"},cvv:{label:\"CVV*\",required:\"CVV \\xe9 obrigat\\xf3rio\",invalid:\"CVV inv\\xe1lido (ex: 123)\"}},pricing:{users:\"Usu\\xe1rios\",connection:\"Conex\\xe3o\",queues:\"Filas\",SELECT:\"SELECIONAR\",month:\"m\\xeas\"}},companies:{title:\"Cadastrar Empresa\",form:{name:\"Nome da Empresa\",plan:\"Plano\",token:\"Token\",submit:\"Cadastrar\",success:\"Empresa criada com sucesso!\"}},auth:{toasts:{success:\"Login efetuado com sucesso!\"},token:\"Token\"},connections:{title:\"Conex\\xf5es\",toasts:{deleted:\"Conex\\xe3o com o WhatsApp exclu\\xedda com sucesso!\"},confirmationModal:{deleteTitle:\"Deletar\",deleteMessage:\"Voc\\xea tem certeza? Essa a\\xe7\\xe3o n\\xe3o pode ser revertida.\",disconnectTitle:\"Desconectar\",disconnectMessage:\"Tem certeza? Voc\\xea precisar\\xe1 ler o QR Code novamente.\"},buttons:{add:\"Adicionar WhatsApp\",disconnect:\"desconectar\",tryAgain:\"Tentar novamente\",qrcode:\"QR CODE\",newQr:\"Novo QR CODE\",connecting:\"Conectando\"},toolTips:{disconnected:{title:\"Falha ao iniciar sess\\xe3o do WhatsApp\",content:\"Certifique-se de que seu celular esteja conectado \\xe0 internet e tente novamente, ou solicite um novo QR Code\"},qrcode:{title:\"Esperando leitura do QR Code\",content:\"Clique no bot\\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\\xe3o\"},connected:{title:\"Conex\\xe3o estabelecida!\"},timeout:{title:\"A conex\\xe3o com o celular foi perdida\",content:\"Certifique-se de que seu celular esteja conectado \\xe0 internet e o WhatsApp esteja aberto, ou clique no bot\\xe3o 'Desconectar' para obter um novo QR Code\"}},table:{name:\"Nome\",status:\"Status\",lastUpdate:\"\\xdaltima atualiza\\xe7\\xe3o\",default:\"Padr\\xe3o\",actions:\"A\\xe7\\xf5es\",session:\"Sess\\xe3o\"}},whatsappModal:{title:{add:\"Adicionar WhatsApp\",edit:\"Editar WhatsApp\"},formErrors:{name:{required:\"Nome \\xe9 obrigat\\xf3rio\",short:\"Nome muito curto\",long:\"Nome muito longo\"}},tabs:{general:\"Geral\",messages:\"Mensagens\",assessments:\"Avalia\\xe7\\xf5es\",integrations:\"Integra\\xe7\\xf5es\",schedules:\"Hor\\xe1rio de expediente\"},form:{name:\"Nome\",default:\"Padr\\xe3o\",sendIdQueue:\"Fila\",timeSendQueue:\"Redirecionar para fila em X minutos\",queueRedirection:\"Redirecionamento de Fila\",outOfHoursMessage:\"Mensagem de fora de expediente\",queueRedirectionDesc:\"Selecione uma fila para os contatos que n\\xe3o possuem fila serem redirecionados\",prompt:\"Prompt\",queue:\"Fila de Transfer\\xeancia\",timeToTransfer:\"Transferir ap\\xf3s x (minutos)\",expiresTicket:\"Encerrar chats abertos ap\\xf3s x minutos\",expiresInactiveMessage:\"Mensagem de encerramento por inatividade\",greetingMessage:\"Mensagem de sauda\\xe7\\xe3o\",complationMessage:\"Mensagem de conclus\\xe3o\",integration:\"Integra\\xe7\\xf5es\"},buttons:{okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\"},success:\"WhatsApp salvo com sucesso.\"},qrCodeModal:{title:\"Utilize o seu WhatsApp:\",steps:{one:\"1 - Abra o WhatsApp no seu celular\",two:{partOne:\"2 - Toque em Mais op\\xe7\\xf5es no Android\",partTwo:\"ou em Configura\\xe7\\xf5es\",partThree:\"no iPhone\"},three:\"3 - Toque em Dispositivos conectados e, em seguida, em Conectar dispositivos\",four:\"4 - Aponte seu celular para essa tela para capturar o QR Code\"},waiting:\"Aguardando leitura do QR Code\"},qrCode:{message:\"Leia o QrCode para iniciar a sess\\xe3o\"},contacts:{title:\"Contatos\",toasts:{deleted:\"Contato exclu\\xeddo com sucesso!\",deletedAll:\"Todos contatos exclu\\xeddos com sucesso!\"},searchPlaceholder:\"Pesquisar...\",confirmationModal:{deleteTitle:\"Deletar \",deleteAllTitle:\"Deletar Todos\",importTitle:\"Importar contatos\",deleteMessage:\"Tem certeza que deseja deletar este contato? Todos os tickets relacionados ser\\xe3o perdidos.\",deleteAllMessage:\"Tem certeza que deseja deletar todos os contatos? Todos os tickets relacionados ser\\xe3o perdidos.\",importMessage:\"Deseja importar todos os contatos do telefone?\"},buttons:{import:\"Importar Contatos\",add:\"Adicionar Contato\",export:\"Exportar Contatos\",delete:\"Excluir Todos Contatos\"},table:{name:\"Nome\",whatsapp:\"WhatsApp\",email:\"Email\",actions:\"A\\xe7\\xf5es\"}},contactImportModal:{title:\"Plan\\xedlha de contatos\",labels:{import:\"Importar contatos\",result:\"resultados\",added:\"Adicionados\",savedContact:\"Contato salvo\",errors:\"Erros\"},buttons:{download:\"Baixar plan\\xedlha modelo\",import:\"Importar contatos\"}},queueIntegrationModal:{title:{add:\"Adicionar projeto\",edit:\"Editar projeto\"},form:{id:\"ID\",type:\"Tipo\",name:\"Nome\",projectName:\"Nome do Projeto\",language:\"Linguagem\",jsonContent:\"JsonContent\",urlN8N:\"URL\",typebotSlug:\"Typebot - Slug\",typebotExpires:\"Tempo em minutos para expirar uma conversa\",typebotKeywordFinish:\"Palavra para finalizar o ticket\",typebotKeywordRestart:\"Palavra para reiniciar o fluxo\",typebotRestartMessage:\"Mensagem ao reiniciar a conversa\",typebotUnknownMessage:\"Mensagem de op\\xe7\\xe3o inv\\xe1lida\",typebotDelayMessage:\"Intervalo (ms) entre mensagens\"},buttons:{okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\",test:\"Testar Bot\"},messages:{testSuccess:\"Integra\\xe7\\xe3o testada com sucesso!\",addSuccess:\"Integra\\xe7\\xe3o adicionada com sucesso.\",editSuccess:\"Integra\\xe7\\xe3o editada com sucesso.\"}},sideMenu:{name:\"Menu Lateral Inicial\",note:\"Se habilitado, o menu lateral ir\\xe1 iniciar fechado\",options:{enabled:\"Aberto\",disabled:\"Fechado\"}},promptModal:{form:{name:\"Nome\",prompt:\"Prompt\",model:\"Modelo\",max_tokens:\"M\\xe1ximo de Tokens na resposta\",temperature:\"Temperatura\",apikey:\"API Key\",max_messages:\"M\\xe1ximo de mensagens no Hist\\xf3rico\"},formErrors:{name:{short:\"Nome muito curto\",long:\"Nome muito longo\",required:\"Nome \\xe9 obrigat\\xf3rio\"},prompt:{short:\"Prompt muito curto\",required:\"Descreva o treinamento para Intelig\\xeancia Artificial\"},modal:{required:\"Informe o modelo desejado para o Prompt\"},maxTokens:{required:\"Informe o n\\xfamero m\\xe1ximo de tokens na resposta\"},temperature:{required:\"Informe a temperatura\"},apikey:{required:\"Informe a API Key\"},queueId:{required:\"Informe a fila\"},maxMessages:{required:\"Informe o n\\xfamero m\\xe1ximo de mensagens no hist\\xf3rico\"}},success:\"Prompt salvo com sucesso!\",setor:\"Informe o setor\",title:{add:\"Adicionar Prompt\",edit:\"Editar Prompt\"},buttons:{okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\"}},prompts:{title:\"Prompts\",table:{name:\"Nome\",queue:\"Setor/Fila\",max_tokens:\"M\\xe1ximo Tokens Resposta\",actions:\"A\\xe7\\xf5es\"},confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Voc\\xea tem certeza? Essa a\\xe7\\xe3o n\\xe3o pode ser revertida!\"},buttons:{add:\"Adicionar Prompt\"}},contactModal:{title:{add:\"Adicionar contato\",edit:\"Editar contato\"},form:{mainInfo:\"Dados do contato\",extraInfo:\"Informa\\xe7\\xf5es adicionais\",name:\"Nome\",number:\"N\\xfamero do Whatsapp\",email:\"Email\",extraName:\"Nome do campo\",extraValue:\"Valor\",whatsapp:\"Conex\\xe3o Origem: \"},formErrors:{name:{required:\"Nome \\xe9 obrigat\\xf3rio\",short:\"Nome muito curto\",long:\"Nome muito longo\"},phone:{short:\"N\\xfamero muito curto\",long:\"N\\xfamero muito longo\"},email:{invalid:\"Email inv\\xe1lido\"}},buttons:{addExtraInfo:\"Adicionar informa\\xe7\\xe3o\",okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\"},success:\"Contato salvo com sucesso.\"},queueModal:{title:{add:\"Adicionar fila\",edit:\"Editar fila\"},form:{name:\"Nome\",nameShort:\"Nome curto\",nameLong:\"Nome longo\",nameRequired:\"Nome \\xe9 obrigat\\xf3rio\",color:\"Cor\",colorShort:\"Cor curta\",colorLong:\"Cor longa\",greetingMessage:\"Mensagem de sauda\\xe7\\xe3o\",complationMessage:\"Mensagem de conclus\\xe3o\",outOfHoursMessage:\"Mensagem de fora de expediente\",ratingMessage:\"Mensagem de avalia\\xe7\\xe3o\",token:\"Token\",orderQueue:\"Ordem da fila (Bot)\",integrationId:\"Integra\\xe7\\xe3o\"},buttons:{okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\"},toasts:{success:\"Fila salva com sucesso.\",info:\"Clique em salvar para registar as altera\\xe7\\xf5es\"},tabs:{queueData:\"Dados da fila\",attendanceTime:\"Hor\\xe1rios de Atendimento\"}},userModal:{title:{add:\"Adicionar usu\\xe1rio\",edit:\"Editar usu\\xe1rio\"},form:{name:\"Nome\",email:\"Email\",password:\"Senha\",profile:\"Perfil\",whatsapp:\"Conex\\xe3o Padr\\xe3o\",allTicket:\"Ticket Sem Fila [Invis\\xedvel]\",allTicketEnabled:\"Habilitado\",allTicketDesabled:\"Desabilitado\"},formErrors:{name:{required:\"Nome \\xe9 obrigat\\xf3rio\",short:\"Nome muito curto\",long:\"Nome muito longo\"},password:{short:\"Senha muito curta\",long:\"Senha muito longa\"},email:{required:\"Email \\xe9 obrigat\\xf3rio\",invalid:\"Email inv\\xe1lido\"}},labels:{liberations:\"Libera\\xe7\\xf5es\"},buttons:{okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\"},success:\"Usu\\xe1rio salvo com sucesso.\"},scheduleModal:{title:{add:\"Novo Agendamento\",edit:\"Editar Agendamento\"},form:{body:\"Mensagem\",contact:\"Contato\",sendAt:\"Data de Agendamento\",sentAt:\"Data de Envio\"},buttons:{okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\"},success:\"Agendamento salvo com sucesso.\"},tagModal:{title:{add:\"Nova Tag\",edit:\"Editar Tag\"},form:{name:\"Nome\",color:\"Cor\"},buttons:{okAdd:\"Adicionar\",okEdit:\"Salvar\",cancel:\"Cancelar\"},success:\"Tag salvo com sucesso.\"},chat:{toasts:{fillTitle:\"Por favor, preencha o t\\xedtulo da conversa.\",fillUser:\"Por favor, selecione pelo menos um usu\\xe1rio.\"},modal:{title:\"Conversa\",titleField:\"T\\xedtulo\"},confirm:{title:\"Excluir Conversa\",message:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida, confirmar?\"},chats:\"Chats\",messages:\"Mensagens\",noTicketMessage:\"Selecione um ticket para come\\xe7ar a conversar.\",buttons:{close:\"Fechar\",save:\"Salvar\",new:\"Nova\",newChat:\"Novo\"}},uploads:{titles:{titleUploadMsgDragDrop:\"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO\",titleFileList:\"Lista de arquivo(s)\"}},ticketsManager:{buttons:{newTicket:\"Novo\"}},ticketsQueueSelect:{placeholder:\"Filas\"},tickets:{toasts:{deleted:\"O atendimento que voc\\xea estava foi deletado.\",unauthorized:\"Acesso n\\xe3o permitido\"},filters:{user:\"Filtro por usu\\xe1rios\",tags:\"Filtro por tags\"},notification:{message:\"Mensagem de\"},tabs:{open:{title:\"Abertas\"},closed:{title:\"Resolvidos\"},search:{title:\"Busca\"}},search:{placeholder:\"Buscar atendimento e mensagens\"},buttons:{showAll:\"Todos\"}},transferTicketModal:{title:\"Transferir Ticket\",fieldLabel:\"Digite para buscar usu\\xe1rios\",fieldQueueLabel:\"Transferir para fila\",fieldQueuePlaceholder:\"Selecione uma fila\",noOptions:\"Nenhum usu\\xe1rio encontrado com esse nome\",buttons:{ok:\"Transferir\",cancel:\"Cancelar\"}},ticketsList:{pendingHeader:\"Aguardando\",assignedHeader:\"Atendendo\",noTicketsTitle:\"Nada aqui!\",noTicketsMessage:\"Nenhum atendimento encontrado com esse status ou termo pesquisado\",buttons:{accept:\"Aceitar\",closed:\"Finalizar\",reopen:\"Reabrir\"}},ticketsListItem:{tooltip:{chatbot:\"Chatbot\",peek:\"Espiar Conversa\"},noQueue:\"SEM FILA\"},ticketAdvanced:{selectTicket:\"Selecionar Ticket\",ticketNav:\"Ticket\",attendanceNav:\"Atendimentos\"},newTicketModal:{title:\"Criar Ticket\",fieldLabel:\"Digite para pesquisar o contato\",add:\"Adicionar\",searchQueueError:\"Ocorreu um erro inesperado ao tentar buscar as filas\",selectQueue:\"Selecione uma fila\",selectConection:\"Selecione uma conex\\xe3o\",buttons:{ok:\"Salvar\",cancel:\"Cancelar\"}},locationPreview:{button:\"Visualizar\"},mainDrawer:{listItems:{dashboard:\"Dashboard\",connections:\"Conex\\xf5es\",tickets:\"Atendimentos\",quickMessages:\"Respostas R\\xe1pidas\",tasks:\"Tarefas\",contacts:\"Contatos\",queues:\"Filas & Chatbot\",tags:\"Tags\",administration:\"Administra\\xe7\\xe3o\",users:\"Usu\\xe1rios\",settings:\"Configura\\xe7\\xf5es\",helps:\"Ajuda\",messagesAPI:\"API\",schedules:\"Agendamentos\",campaigns:\"Campanhas\",flows:\"Fluxos\",annoucements:\"Informativos\",chats:\"Chat Interno\",financeiro:\"Financeiro\",files:\"Lista de arquivos\",prompts:\"Open.Ai\",queueIntegration:\"Integra\\xe7\\xf5es\"},appBar:{refresh:\"Recarregar p\\xe1gina\",notRegister:\"Sem notifica\\xe7\\xf5es\",greeting:{hello:\"Ol\\xe1\",welcome:\"Bem vindo a\",active:\"Ativo at\\xe9\"},user:{profile:\"Perfil\",logout:\"Sair\"}}},queueIntegration:{title:\"Integra\\xe7\\xf5es\",table:{id:\"ID\",type:\"Tipo\",name:\"Nome\",projectName:\"Nome do Projeto\",language:\"Linguagem\",lastUpdate:\"Ultima atualiza\\xe7\\xe3o\",actions:\"A\\xe7\\xf5es\"},buttons:{add:\"Adicionar Projeto\"},searchPlaceholder:\"Pesquisar...\",confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Voc\\xea tem certeza? Essa a\\xe7\\xe3o n\\xe3o pode ser revertida! e ser\\xe1 removida das filas e conex\\xf5es vinculadas\"}},files:{title:\"Lista de arquivos\",table:{name:\"Nome\",contacts:\"Contatos\",actions:\"A\\xe7\\xe3o\"},toasts:{deleted:\"Lista exclu\\xedda com sucesso!\",deletedAll:\"Todas as listas foram exclu\\xeddas com sucesso!\"},buttons:{add:\"Adicionar\",deleteAll:\"Deletar Todos\"},confirmationModal:{deleteTitle:\"Deletar\",deleteAllTitle:\"Deletar Todos\",deleteMessage:\"Tem certeza que deseja deletar esta lista?\",deleteAllMessage:\"Tem certeza que deseja deletar todas as listas?\"}},messagesAPI:{title:\"API\",labels:{doc:\"Documenta\\xe7\\xe3o para envio de mensagens\",method:\"M\\xe9todos de Envio\",textMessage:\"Mensagem de Texto\",mediaMessage:\"Mensagem de M\\xeddia\",instructions:\"Instru\\xe7\\xf5es\",observations:\"Observa\\xe7\\xf5es importantes\",before1:\"Antes de enviar mensagens, \\xe9 necess\\xe1rio o cadastro do token vinculado \\xe0 conex\\xe3o que enviar\\xe1 as mensagens.\",before2:\"Para realizar o cadastro acesse o menu 'Conex\\xf5es', clique no bot\\xe3o editar da conex\\xe3o e insira o token no devido campo.\",numberDescription:\"O n\\xfamero para envio n\\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:\",countryCode:\"C\\xf3digo do Pa\\xeds\",number:\"N\\xfamero\",textMessage2:\"1. Mensagens de Texto\",textMessageInstructions:\"Seguem abaixo a lista de informa\\xe7\\xf5es necess\\xe1rias para envio das mensagens de texto:\",method2:\"M\\xe9todo\",e:\"e\",tests:\"Teste de Envio\",mediaMessage2:\"2. Mensagens de M\\xeddia\"},textMessage:{number:\"N\\xfamero\",body:\"Mensagem\",token:\"Token cadastrado\"},mediaMessage:{number:\"N\\xfamero\",body:\"Nome do arquivo\",media:\"Arquivo\",token:\"Token cadastrado\"},toasts:{unauthorized:\"Esta empresa n\\xe3o possui permiss\\xe3o para acessar essa p\\xe1gina! Estamos lhe redirecionando.\",success:\"Mensagem enviada com sucesso!\"},buttons:{send:\"Enviar\"}},notifications:{noTickets:\"Nenhuma notifica\\xe7\\xe3o.\"},quickMessages:{title:\"Respostas R\\xe1pidas\",searchPlaceholder:\"Pesquisar...\",noAttachment:\"Sem anexo\",confirmationModal:{deleteTitle:\"Exclus\\xe3o\",deleteMessage:\"Esta a\\xe7\\xe3o \\xe9 irrevers\\xedvel! Deseja prosseguir?\"},buttons:{add:\"Adicionar\",attach:\"Anexar Arquivo\",cancel:\"Cancelar\",edit:\"Editar\"},toasts:{success:\"Atalho adicionado com sucesso!\",deleted:\"Atalho removido com sucesso!\"},dialog:{title:\"Mensagem R\\xe1pida\",shortcode:\"Atalho\",message:\"Resposta\",save:\"Salvar\",cancel:\"Cancelar\",geral:\"Permitir editar\",add:\"Adicionar\",edit:\"Editar\",visao:\"Permitir vis\\xe3o\"},table:{shortcode:\"Atalho\",message:\"Mensagem\",actions:\"A\\xe7\\xf5es\",mediaName:\"Nome do Arquivo\",status:\"Status\"}},messageVariablesPicker:{label:\"Variav\\xe9is dispon\\xedveis\",vars:{contactFirstName:\"Primeiro Nome\",contactName:\"Nome\",greeting:\"Sauda\\xe7\\xe3o\",protocolNumber:\"Protocolo\",date:\"Data\",hour:\"Hora\"}},contactLists:{title:\"Listas de Contatos\",table:{name:\"Nome\",contacts:\"Contatos\",actions:\"A\\xe7\\xf5es\"},buttons:{add:\"Nova Lista\"},dialog:{name:\"Nome\",nameShort:\"Nome curto\",nameLong:\"Nome longo\",nameRequired:\"Nome \\xe9 obrigat\\xf3rio\",company:\"Empresa\",okEdit:\"Editar\",okAdd:\"Adicionar\",add:\"Adicionar\",edit:\"Editar\",cancel:\"Cancelar\"},confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida.\"},toasts:{deleted:\"Registro exclu\\xeddo\",success:\"Opera\\xe7\\xe3o realizada com sucesso\"}},contactListItems:{title:\"Contatos\",searchPlaceholder:\"Pesquisa\",buttons:{add:\"Novo\",lists:\"Listas\",import:\"Importar\"},download:\"Clique aqui para baixar planilha exemplo.\",dialog:{name:\"Nome\",nameShort:\"Nome curto\",nameLong:\"Nome longo\",nameRequired:\"Nome \\xe9 obrigat\\xf3rio\",number:\"N\\xfamero\",numberShort:\"N\\xfamero curto\",numberLong:\"N\\xfamero longo\",whatsapp:\"Whatsapp\",email:\"E-mail\",emailInvalid:\"E-mail inv\\xe1lido\",okEdit:\"Editar\",okAdd:\"Adicionar\",add:\"Adicionar\",edit:\"Editar\",cancel:\"Cancelar\"},table:{name:\"Nome\",number:\"N\\xfamero\",whatsapp:\"Whatsapp\",email:\"E-mail\",actions:\"A\\xe7\\xf5es\"},confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida.\",importMessage:\"Deseja importar os contatos desta planilha? \",importTitlte:\"Importar\"},toasts:{deleted:\"Registro exclu\\xeddo\"}},campaigns:{title:\"Campanhas\",searchPlaceholder:\"Pesquisa\",report:{title:\"Relat\\xf3rio de\",title2:\"Campanha\",of:\"de\",validContacts:\"Contatos v\\xe1lidos\",delivered:\"Entregues\",connection:\"Conex\\xe3o\",contactList:\"Lista de Contatos\",schedule:\"Agendamento\",conclusion:\"Conclus\\xe3o\"},config:{interval:\"Intervalos\",randomInterval:\"Intervalo Rand\\xf4mico de Disparo\",biggerInterval:\"Intervalo Maior Ap\\xf3s\",greaterInterval:\"Intervalo de Disparo Maior\",noInterval:\"Sem Intervalo\",second:\"segundo\",seconds:\"segundos\",notDefined:\"N\\xe3o definido\",addVariable:\"Adicionar Vari\\xe1vel\",save:\"Salvar Configura\\xe7\\xf5es\",shortcut:\"Atalho\",content:\"Conte\\xfado\",close:\"Fechar\",add:\"Adicionar\"},buttons:{add:\"Nova Campanha\",contactLists:\"Listas de Contatos\"},status:{inactive:\"Inativa\",programmed:\"Programada\",inProgress:\"Em andamento\",canceled:\"Cancelada\",finished:\"Finalizada\"},table:{name:\"Nome\",whatsapp:\"Conex\\xe3o\",contactList:\"Lista de Contatos\",status:\"Status\",scheduledAt:\"Agendamento\",completedAt:\"Conclu\\xedda\",confirmation:\"Confirma\\xe7\\xe3o\",actions:\"A\\xe7\\xf5es\",notDefined:\"N\\xe3o definida\",notDefined2:\"N\\xe3o definido\",notScheduled:\"Sem agendamento\",notConcluded:\"N\\xe3o conclu\\xedda\",stopCampaign:\"Parar Campanha\"},dialog:{new:\"Nova Campanha\",update:\"Editar Campanha\",readonly:\"Apenas Visualiza\\xe7\\xe3o\",form:{name:\"Nome\",nameShort:\"Nome curto\",nameLong:\"Nome longo\",helper:\"Utilize vari\\xe1veis como {nome}, {numero}, {email} ou defina vari\\xe1veis personalziadas.\",nameRequired:\"Nome \\xe9 obrigat\\xf3rio\",message1:\"Mensagem 1\",message2:\"Mensagem 2\",message3:\"Mensagem 3\",message4:\"Mensagem 4\",message5:\"Mensagem 5\",messagePlaceholder:\"Conte\\xfado da mensagem\",whatsapp:\"Conex\\xe3o\",status:\"Status\",scheduledAt:\"Agendamento\",confirmation:\"Confirma\\xe7\\xe3o\",contactList:\"Lista de Contato\",tagList:\"Lista de Tags\",fileList:\"Lista de Arquivos\"},buttons:{add:\"Adicionar\",edit:\"Atualizar\",okadd:\"Ok\",cancel:\"Cancelar Disparos\",restart:\"Reiniciar Disparos\",close:\"Fechar\",attach:\"Anexar Arquivo\"}},confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida.\"},toasts:{configSaved:\"Configura\\xe7\\xf5es salvas\",success:\"Opera\\xe7\\xe3o realizada com sucesso\",cancel:\"Campanha cancelada\",restart:\"Campanha reiniciada\",deleted:\"Registro exclu\\xeddo\"}},subscription:{title:\"Assinatura\",testPeriod:\"Per\\xedodo de Teste\",remainingTest:\"Seu per\\xedodo de teste termina em\",remainingTest2:\"dias!\",chargeEmail:\"E-mail de cobran\\xe7a\",signNow:\"Assinar agora!\"},announcements:{active:\"Ativo\",inactive:\"Inativo\",title:\"Informativos\",searchPlaceholder:\"Pesquisa\",high:\"Alta\",medium:\"M\\xe9dia\",low:\"Baixa\",buttons:{add:\"Novo Informativo\",contactLists:\"Listas de Informativos\"},table:{priority:\"Prioridade\",title:\"Title\",text:\"Texto\",mediaName:\"Arquivo\",status:\"Status\",actions:\"A\\xe7\\xf5es\"},dialog:{edit:\"Edi\\xe7\\xe3o de Informativo\",add:\"Novo Informativo\",update:\"Editar Informativo\",readonly:\"Apenas Visualiza\\xe7\\xe3o\",form:{priority:\"Prioridade\",required:\"Campo obrigat\\xf3rio\",title:\"Title\",text:\"Texto\",mediaPath:\"Arquivo\",status:\"Status\"},buttons:{add:\"Adicionar\",edit:\"Atualizar\",okadd:\"Ok\",cancel:\"Cancelar\",close:\"Fechar\",attach:\"Anexar Arquivo\"}},confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida.\"},toasts:{success:\"Opera\\xe7\\xe3o realizada com sucesso\",deleted:\"Registro exclu\\xeddo\",info:\"Esta empresa n\\xe3o possui permiss\\xe3o para acessar essa p\\xe1gina! Estamos lhe redirecionando.\"}},campaignsConfig:{title:\"Configura\\xe7\\xf5es de Campanhas\"},queues:{title:\"Filas & Chatbot\",table:{id:\"ID\",name:\"Nome\",color:\"Cor\",greeting:\"Mensagem de sauda\\xe7\\xe3o\",actions:\"A\\xe7\\xf5es\",orderQueue:\"Ordena\\xe7\\xe3o da fila (bot)\"},buttons:{add:\"Adicionar fila\"},toasts:{success:\"Fila deletada com sucesso.\"},confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Voc\\xea tem certeza? Essa a\\xe7\\xe3o n\\xe3o pode ser revertida! Os atendimentos dessa fila continuar\\xe3o existindo, mas n\\xe3o ter\\xe3o mais nenhuma fila atribu\\xedda.\"}},queueSelect:{inputLabel:\"Filas\"},users:{title:\"Usu\\xe1rios\",table:{id:\"ID\",name:\"Nome\",email:\"Email\",profile:\"Perfil\",actions:\"A\\xe7\\xf5es\"},buttons:{add:\"Adicionar usu\\xe1rio\"},toasts:{deleted:\"Usu\\xe1rio exclu\\xeddo com sucesso.\"},confirmationModal:{deleteTitle:\"Excluir\",deleteMessage:\"Todos os dados do usu\\xe1rio ser\\xe3o perdidos. Os atendimento abertos deste usu\\xe1rio ser\\xe3o movidos para a fila.\"}},todolist:{input:\"Nova tarefa\",buttons:{add:\"Adicionar\",save:\"Salvar\"}},helps:{title:\"Central de Ajuda\"},schedules:{title:\"Agendamentos\",confirmationModal:{deleteTitle:\"Voc\\xea tem certeza que quer excluir este Agendamento?\",deleteMessage:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida.\"},table:{contact:\"Contato\",body:\"Mensagem\",sendAt:\"Data de Agendamento\",sentAt:\"Data de Envio\",status:\"Status\",actions:\"A\\xe7\\xf5es\"},messages:{date:\"Data\",time:\"Hora\",event:\"Evento\",allDay:\"Dia Todo\",week:\"Semana\",work_week:\"Agendamentos\",day:\"Dia\",month:\"M\\xeas\",previous:\"Anterior\",next:\"Pr\\xf3ximo\",yesterday:\"Ontem\",tomorrow:\"Amanh\\xe3\",today:\"Hoje\",agenda:\"Agenda\",noEventsInRange:\"N\\xe3o h\\xe1 agendamentos no per\\xedodo.\",showMore:\"mais\"},buttons:{add:\"Novo Agendamento\"},toasts:{deleted:\"Agendamento exclu\\xeddo com sucesso.\"}},tags:{title:\"Tags\",confirmationModal:{deleteTitle:\"Voc\\xea tem certeza que quer excluir esta Tag?\",deleteMessage:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida.\",deleteAllMessage:\"Tem certeza que deseja deletar todas as Tags?\",deleteAllTitle:\"Deletar Todos\"},table:{name:\"Nome\",color:\"Cor\",tickets:\"Registros Tagdos\",actions:\"A\\xe7\\xf5es\"},buttons:{add:\"Nova Tag\",deleteAll:\"Deletar Todas\"},toasts:{deletedAll:\"Todas Tags exclu\\xeddas com sucesso!\",deleted:\"Tag exclu\\xeddo com sucesso.\"}},settings:{schedulesUpdated:\"Hor\\xe1rios atualizados com sucesso.\",success:\"Configura\\xe7\\xf5es salvas com sucesso.\",title:\"Configura\\xe7\\xf5es\",tabs:{options:\"Op\\xe7\\xf5es\",schedules:\"Hor\\xe1rios\",companies:\"Empresas\",plans:\"Planos\",helps:\"Ajuda\"},options:{toasts:{success:\"Opera\\xe7\\xe3o atualizada com sucesso.\"},fields:{ratings:{title:\"Avalia\\xe7\\xf5es\",disabled:\"Desabilitadas\",enabled:\"Habilitadas\"},expedientManager:{title:\"Gerenciamento de Expediente\",queue:\"Fila\",company:\"Empresa\"},ignoreMessages:{title:\"Ignorar Mensagens de Grupos\"},acceptCall:{title:\"Aceitar Chamada\",disabled:\"N\\xe3o aceitar\",enabled:\"Aceitar\"},chatbotType:{title:\"Tipo Chatbot\",text:\"Texto\"},sendGreetingAccepted:{title:\"Enviar sauda\\xe7\\xe3o ao aceitar o ticket\"},sendMsgTransfTicket:{title:\"Enviar mensagem de transferencia de Fila/agente\"},sendGreetingMessageOneQueues:{title:\"Enviar sauda\\xe7\\xe3o quando houver somente 1 fila<\"},disabled:\"Desabilitado\",active:\"Ativo\",enabled:\"Habilitado\"},updating:\"Atualizando...\",tabs:{integrations:\"INTEGRA\\xc7\\xd5ES\"}},helps:{toasts:{errorList:\"N\\xe3o foi poss\\xedvel carregar a lista de registros\",errorOperation:\"N\\xe3o foi poss\\xedvel realizar a opera\\xe7\\xe3o\",error:\"N\\xe3o foi poss\\xedvel realizar a opera\\xe7\\xe3o. Verifique se j\\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente\",success:\"Opera\\xe7\\xe3o realizada com sucesso!\"},buttons:{clean:\"Limpar\",delete:\"Excluir\",save:\"Salvar\"},grid:{title:\"T\\xedtulo\",description:\"Descri\\xe7\\xe3o\",video:\"V\\xeddeo\"},confirmModal:{title:\"Exclus\\xe3o de Registro\",confirm:\"Deseja realmente excluir esse registro?\"}},company:{toasts:{errorList:\"N\\xe3o foi poss\\xedvel carregar a lista de registros\",errorOperation:\"N\\xe3o foi poss\\xedvel realizar a opera\\xe7\\xe3o\",error:\"N\\xe3o foi poss\\xedvel realizar a opera\\xe7\\xe3o. Verifique se j\\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\",success:\"Opera\\xe7\\xe3o realizada com sucesso!\"},confirmModal:{title:\"Exclus\\xe3o de Registro\",confirm:\"Deseja realmente excluir esse registro?\"},form:{name:\"Nome\",email:\"E-mail\",phone:\"Telefone\",plan:\"Plano\",status:\"Status\",yes:\"Sim\",no:\"N\\xe3o\",campanhas:\"Campanhas\",enabled:\"Habilitadas\",disabled:\"Desabilitadas\",dueDate:\"Data de vencimento\",recurrence:\"Recorr\\xeancia\",monthly:\"Mensal\",expire:\"Vencimento\",createdAt:\"Criada Em\"},buttons:{clear:\"Limpar\",delete:\"Excluir\",expire:\"+ Vencimento\",user:\"Usu\\xe1rio\",save:\"Salvar\"}},schedules:{form:{weekday:\"Dia da Semana\",initialHour:\"Hora Inicial\",finalHour:\"Hora Final\",save:\"Salvar\"}},settings:{userCreation:{name:\"Cria\\xe7\\xe3o de usu\\xe1rio\",options:{enabled:\"Ativado\",disabled:\"Desativado\"}}}},messagesList:{header:{assignedTo:\"Atribu\\xeddo \\xe0:\",buttons:{return:\"Retornar\",resolve:\"Resolver\",reopen:\"Reabrir\",accept:\"Aceitar\",download:\"Baixar\"}},lostCall:\"Chamada de voz/v\\xeddeo perdida \\xe0s\",deletedMessage:\"Essa mensagem foi apagada pelo contato\",edited:\"Editada\",saudation:\"Diga ol\\xe1 para seu novo contato!\"},messagesInput:{placeholderOpen:\"Digite uma mensagem\",placeholderClosed:\"Reabra ou aceite esse ticket para enviar uma mensagem.\",signMessage:\"Assinar\"},contactDrawer:{header:\"Dados do contato\",buttons:{edit:\"Editar contato\"},extraInfo:\"Outras informa\\xe7\\xf5es\"},fileModal:{title:{add:\"Adicionar lista de arquivos\",edit:\"Editar lista de arquivos\"},buttons:{okAdd:\"Salvar\",okEdit:\"Editar\",cancel:\"Cancelar\",fileOptions:\"Adicionar arquivo\"},form:{name:\"Nome da lista de arquivos\",message:\"Detalhes da lista\",fileOptions:\"Lista de arquivos\",extraName:\"Mensagem para enviar com arquivo\",extraValue:\"Valor da op\\xe7\\xe3o\"},formErrors:{name:{required:\"Nome \\xe9 obrigat\\xf3rio\",short:\"Nome muito curto\"},message:{required:\"Mensagem \\xe9 obrigat\\xf3ria\"}},success:\"Lista de arquivos salva com sucesso!\"},ticketOptionsMenu:{schedule:\"Agendamento\",delete:\"Deletar\",transfer:\"Transferir\",registerAppointment:\"Observa\\xe7\\xf5es do Contato\",appointmentsModal:{title:\"Observa\\xe7\\xf5es do Contato\",textarea:\"Observa\\xe7\\xe3o\",placeholder:\"Insira aqui a informa\\xe7\\xe3o que deseja registrar\"},confirmationModal:{title:\"Deletar o ticket\",titleFrom:\"do contato \",message:\"Aten\\xe7\\xe3o! Todas as mensagens relacionadas ao ticket ser\\xe3o perdidas.\"},buttons:{delete:\"Excluir\",cancel:\"Cancelar\"}},confirmationModal:{buttons:{confirm:\"Ok\",cancel:\"Cancelar\"}},messageOptionsMenu:{delete:\"Deletar\",reply:\"Responder\",confirmationModal:{title:\"Apagar mensagem?\",message:\"Esta a\\xe7\\xe3o n\\xe3o pode ser revertida.\"}},backendErrors:{ERR_INTERNAL_SERVER_ERROR:\"Ocorreu um erro inesperado. Por favor, tente novamente mais tarde\",ERR_NO_OTHER_WHATSAPP:\"Deve haver pelo menos um WhatsApp padr\\xe3o.\",ERR_NO_DEF_WAPP_FOUND:\"Nenhum WhatsApp padr\\xe3o encontrado. Verifique a p\\xe1gina de conex\\xf5es.\",ERR_WAPP_NOT_INITIALIZED:\"Esta sess\\xe3o do WhatsApp n\\xe3o foi inicializada. Verifique a p\\xe1gina de conex\\xf5es.\",ERR_WAPP_CHECK_CONTACT:\"N\\xe3o foi poss\\xedvel verificar o contato do WhatsApp. Verifique a p\\xe1gina de conex\\xf5es\",ERR_WAPP_INVALID_CONTACT:\"Este n\\xe3o \\xe9 um n\\xfamero de Whatsapp v\\xe1lido.\",ERR_WAPP_DOWNLOAD_MEDIA:\"N\\xe3o foi poss\\xedvel baixar m\\xeddia do WhatsApp. Verifique a p\\xe1gina de conex\\xf5es.\",ERR_INVALID_CREDENTIALS:\"Erro de autentica\\xe7\\xe3o. Por favor, tente novamente.\",ERR_USER_DONT_EXISTS:\"Usu\\xe1rio n\\xe3o encontrado. Verifique o e-mail informado.\",ERR_SENDING_WAPP_MSG:\"Erro ao enviar mensagem do WhatsApp. Verifique a p\\xe1gina de conex\\xf5es.\",ERR_DELETE_WAPP_MSG:\"N\\xe3o foi poss\\xedvel excluir a mensagem do WhatsApp.\",ERR_OTHER_OPEN_TICKET:\"J\\xe1 existe um t\\xedquete aberto para este contato.\",ERR_SESSION_EXPIRED:\"Sess\\xe3o expirada. Por favor entre.\",ERR_USER_CREATION_DISABLED:\"A cria\\xe7\\xe3o do usu\\xe1rio foi desabilitada pelo administrador.\",ERR_NO_PERMISSION:\"Voc\\xea n\\xe3o tem permiss\\xe3o para acessar este recurso.\",ERR_DUPLICATED_CONTACT:\"J\\xe1 existe um contato com este n\\xfamero.\",ERR_NO_SETTING_FOUND:\"Nenhuma configura\\xe7\\xe3o encontrada com este ID.\",ERR_NO_CONTACT_FOUND:\"Nenhum contato encontrado com este ID.\",ERR_NO_TICKET_FOUND:\"Nenhum t\\xedquete encontrado com este ID.\",ERR_NO_USER_FOUND:\"Nenhum usu\\xe1rio encontrado com este ID.\",ERR_NO_WAPP_FOUND:\"Nenhum WhatsApp encontrado com este ID.\",ERR_CREATING_MESSAGE:\"Erro ao criar mensagem no banco de dados.\",ERR_CREATING_TICKET:\"Erro ao criar t\\xedquete no banco de dados.\",ERR_FETCH_WAPP_MSG:\"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",ERR_QUEUE_COLOR_ALREADY_EXISTS:\"Esta cor j\\xe1 est\\xe1 em uso, escolha outra.\",ERR_WAPP_GREETING_REQUIRED:\"A mensagem de sauda\\xe7\\xe3o \\xe9 obrigat\\xf3rio quando h\\xe1 mais de uma fila.\"}}},en:{translations:{selectLanguage:\"Select Language\",signup:{title:\"Sign Up\",toasts:{success:\"User created successfully! Please login!!!\",fail:\"Error creating user. Please check the provided information.\"},form:{name:\"Company Name\",email:\"Email\",phone:\"Phone Number (with Area Code)\",plan:\"Plan\",password:\"Password\"},formErrors:{name:{required:\"Company name is required\",short:\"Name is too short\",long:\"Name is too long\"},password:{short:\"Password is too short\",long:\"Password is too long\"},email:{required:\"Email is required\",invalid:\"Invalid email\"}},buttons:{submit:\"Register\",login:\"Already have an account? Login!\"},plan:{attendant:\"Attendant\",whatsapp:\"WhatsApp\",queues:\"Queues\"}},login:{title:\"Login\",form:{email:\"Email\",password:\"Password\"},buttons:{submit:\"Login\",register:\"Sign up now!\"}},resetPassword:{title:\"Reset Password\",toasts:{emailSent:\"Email sent successfully!\",emailNotFound:\"Email not found!\",passwordUpdated:\"Password updated successfully!\"},formErrors:{email:{required:\"Email is required\",invalid:\"Invalid email\"},newPassword:{required:\"New password is required\",matches:\"Your password must have at least 8 characters, including one uppercase letter, one lowercase letter, and one number.\"},confirmPassword:{required:\"Password confirmation is required\",matches:\"Passwords do not match\"}},form:{email:\"Email\",verificationCode:\"Verification Code\",newPassword:\"New Password\",confirmPassword:\"Confirm New Password\"},buttons:{submitEmail:\"Send Email\",submitPassword:\"Reset Password\",back:\"Don't have an account? Sign up!\"}},dashboard:{toasts:{selectFilterError:\"Set filter parameters\",userChartError:\"Error getting conversation information\",dateChartError:\"Error getting conversation information\"},filters:{initialDate:\"Start Date\",finalDate:\"End Date\",filterType:{title:\"Filter Type\",options:{perDate:\"Filter by Date\",perPeriod:\"Filter by Period\"},helper:\"Select desired filter type\"}},periodSelect:{title:\"Period\",options:{none:\"None selected\",last3:\"Last 3 days\",last7:\"Last 7 days\",last15:\"Last 15 days\",last30:\"Last 30 days\",last60:\"Last 60 days\",last90:\"Last 90 days\"},helper:\"Select desired period\"},counters:{inTalk:\"In conversation\",waiting:\"Waiting\",finished:\"Finished\",newContacts:\"New contacts\",averageTalkTime:\"Avg. Talk Time\",averageWaitTime:\"Avg. Wait Time\"},buttons:{filter:\"Filter\"},onlineTable:{ratingLabel:\"1 - Unsatisfied, 2 - Satisfied, 3 - Very Satisfied\",name:\"Name\",ratings:\"Ratings\",avgSupportTime:\"Avg. Support Time\",status:\"Status (Current)\"},charts:{user:{label:\"Conversations Chart\",title:\"Total Conversations by Users\",start:\"Start\",end:\"End\",filter:\"Filter\"},date:{label:\"Conversations Chart\",title:\"Total\",start:\"Start\",end:\"End\",filter:\"Filter\"}}},plans:{toasts:{errorList:\"Could not load records list\",errorOperation:\"Could not complete operation\",error:\"Could not complete operation. Check if a plan with the same name already exists or if fields were filled correctly\",success:\"Operation completed successfully!\"},confirm:{title:\"Delete Record\",message:\"Do you really want to delete this record?\"},form:{name:\"Name\",users:\"Users\",connections:\"Connections\",queues:\"Queues\",value:\"Value\",internalChat:\"Internal Chat\",externalApi:\"External API\",kanban:\"Kanban\",integrations:\"Integrations\",campaigns:\"Campaigns\",schedules:\"Schedules\",enabled:\"Enabled\",disabled:\"Disabled\",clear:\"Cancel\",delete:\"Delete\",save:\"Save\",yes:\"Yes\",no:\"No\",money:\"$\"}},kanban:{toasts:{removed:\"Ticket Tag Removed!\",added:\"Ticket Tag Added Successfully!\"},open:\"Open\",seeTicket:\"View Ticket\"},invoices:{title:\"Invoices\",paid:\"Paid\",open:\"Open\",expired:\"Expired\",details:\"Details\",value:\"Amount\",dueDate:\"Due Date\",status:\"Status\",action:\"Action\",PAY:\"PAY\",PAID:\"PAID\"},checkoutPage:{steps:{data:\"Data\",customize:\"Customize\",review:\"Review\"},success:\"Subscription completed successfully! Awaiting payment confirmation\",closeToEnd:\"Almost there!\",BACK:\"BACK\",PAY:\"PAY\",NEXT:\"NEXT\",review:{title:\"Subscription Summary\",details:\"Plan Details\",users:\"Users\",whatsapp:\"WhatsApp\",charges:\"Billing: Monthly\",total:\"Total\"},form:{firstName:{label:\"Full Name*\",required:\"Full name is required\"},lastName:{label:\"Last Name*\",required:\"Last name is required\"},address1:{label:\"Address*\",required:\"Address is required\"},city:{label:\"City*\",required:\"City is required\"},state:{label:\"State*\",required:\"State is required\"},zipcode:{label:\"ZIP Code*\",required:\"ZIP code is required\",invalid:\"Invalid ZIP code format\"},country:{label:\"Country*\",required:\"Country is required\"},useAddressForPaymentDetails:{label:\"Use this address for payment details\"},invoiceId:{label:\"Use this invoice ID\"},nameOnCard:{label:\"Name on Card*\",required:\"Name on card is required\"},cardNumber:{label:\"Card Number*\",required:\"Card number is required\",invalid:\"Invalid card number (ex: 4111111111111)\"},expiryDate:{label:\"Expiration Date*\",required:\"Expiration date is required\",invalid:\"Invalid expiration date\"},cvv:{label:\"CVV*\",required:\"CVV is required\",invalid:\"Invalid CVV (ex: 123)\"}},pricing:{users:\"Users\",connection:\"Connection\",queues:\"Queues\",SELECT:\"SELECT\",month:\"month\"}},companies:{title:\"Register Company\",form:{name:\"Company Name\",plan:\"Plan\",token:\"Token\",submit:\"Register\",success:\"Company created successfully!\"}},auth:{toasts:{success:\"Login successful!\"},token:\"Token\"},connections:{title:\"Connections\",toasts:{deleted:\"WhatsApp connection deleted successfully!\"},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"Are you sure? This action cannot be undone.\",disconnectTitle:\"Disconnect\",disconnectMessage:\"Are you sure? You'll need to scan the QR Code again.\"},buttons:{add:\"Add WhatsApp\",disconnect:\"disconnect\",tryAgain:\"Try again\",qrcode:\"QR CODE\",newQr:\"New QR CODE\",connecting:\"Connecting\"},toolTips:{disconnected:{title:\"Failed to start WhatsApp session\",content:\"Make sure your phone is connected to the internet and try again, or request a new QR Code\"},qrcode:{title:\"Waiting for QR Code scan\",content:\"Click the 'QR CODE' button and scan the QR Code with your phone to start the session\"},connected:{title:\"Connection established!\"},timeout:{title:\"Connection to phone was lost\",content:\"Make sure your phone is connected to the internet and WhatsApp is open, or click the 'Disconnect' button to get a new QR Code\"}},table:{name:\"Name\",status:\"Status\",lastUpdate:\"Last update\",default:\"Default\",actions:\"Actions\",session:\"Session\"}},whatsappModal:{title:{add:\"Add WhatsApp\",edit:\"Edit WhatsApp\"},formErrors:{name:{required:\"Name is required\",short:\"Name is too short\",long:\"Name is too long\"}},tabs:{general:\"General\",messages:\"Messages\",assessments:\"Assessments\",integrations:\"Integrations\",schedules:\"Business Hours\"},form:{name:\"Name\",default:\"Default\",sendIdQueue:\"Queue\",timeSendQueue:\"Redirect to queue in X minutes\",queueRedirection:\"Queue Redirection\",outOfHoursMessage:\"Out of office message\",queueRedirectionDesc:\"Select a queue for contacts without a queue to be redirected to\",prompt:\"Prompt\",queue:\"Transfer Queue\",timeToTransfer:\"Transfer after x (minutes)\",expiresTicket:\"Close open chats after x minutes\",expiresInactiveMessage:\"Inactivity closure message\",greetingMessage:\"Greeting message\",complationMessage:\"Completion message\",integration:\"Integration\"},buttons:{okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\"},success:\"WhatsApp saved successfully.\"},qrCodeModal:{title:\"Use your WhatsApp:\",steps:{one:\"1 - Open WhatsApp on your phone\",two:{partOne:\"2 - Tap More options on Android\",partTwo:\"or Settings\",partThree:\"on iPhone\"},three:\"3 - Tap Linked Devices and then Link a Device\",four:\"4 - Point your phone at this screen to capture the QR Code\"},waiting:\"Waiting for QR Code scan\"},qrCode:{message:\"Scan the QR Code to start the session\"},contacts:{title:\"Contacts\",toasts:{deleted:\"Contact deleted successfully!\",deletedAll:\"All contacts deleted successfully!\"},searchPlaceholder:\"Search...\",confirmationModal:{deleteTitle:\"Delete \",deleteAllTitle:\"Delete All\",importTitle:\"Import contacts\",deleteMessage:\"Are you sure you want to delete this contact? All related tickets will be lost.\",deleteAllMessage:\"Are you sure you want to delete all contacts? All related tickets will be lost.\",importMessage:\"Do you want to import all phone contacts?\"},buttons:{import:\"Import Contacts\",add:\"Add Contact\",export:\"Export Contacts\",delete:\"Delete All Contacts\"},table:{name:\"Name\",whatsapp:\"WhatsApp\",email:\"Email\",actions:\"Actions\"}},contactImportModal:{title:\"Contact Spreadsheet\",labels:{import:\"Import contacts\",result:\"results\",added:\"Added\",savedContact:\"Contact saved\",errors:\"Errors\"},buttons:{download:\"Download template spreadsheet\",import:\"Import contacts\"}},queueIntegrationModal:{title:{add:\"Add project\",edit:\"Edit project\"},form:{id:\"ID\",type:\"Type\",name:\"Name\",projectName:\"Project Name\",language:\"Language\",jsonContent:\"JsonContent\",urlN8N:\"URL\",typebotSlug:\"Typebot - Slug\",typebotExpires:\"Time in minutes to expire a conversation\",typebotKeywordFinish:\"Keyword to finish ticket\",typebotKeywordRestart:\"Keyword to restart flow\",typebotRestartMessage:\"Message when restarting conversation\",typebotUnknownMessage:\"Invalid option message\",typebotDelayMessage:\"Interval (ms) between messages\"},buttons:{okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\",test:\"Test Bot\"},messages:{testSuccess:\"Integration tested successfully!\",addSuccess:\"Integration added successfully.\",editSuccess:\"Integration edited successfully.\"}},sideMenu:{name:\"Initial Side Menu\",note:\"If enabled, the side menu will start closed\",options:{enabled:\"Open\",disabled:\"Closed\"}},promptModal:{form:{name:\"Name\",prompt:\"Prompt\",model:\"Model\",max_tokens:\"Maximum Tokens in response\",temperature:\"Temperature\",apikey:\"API Key\",max_messages:\"Maximum messages in History\"},formErrors:{name:{short:\"Name is too short\",long:\"Name is too long\",required:\"Name is required\"},prompt:{short:\"Prompt is too short\",required:\"Describe the training for Artificial Intelligence\"},modal:{required:\"Enter the desired model for the Prompt\"},maxTokens:{required:\"Enter the maximum number of tokens in the response\"},temperature:{required:\"Enter the temperature\"},apikey:{required:\"Enter the API Key\"},queueId:{required:\"Enter the queue\"},maxMessages:{required:\"Enter the maximum number of messages in history\"}},success:\"Prompt saved successfully!\",setor:\"Enter the sector\",title:{add:\"Add Prompt\",edit:\"Edit Prompt\"},buttons:{okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\"}},prompts:{title:\"Prompts\",table:{name:\"Name\",queue:\"Sector/Queue\",max_tokens:\"Maximum Response Tokens\",actions:\"Actions\"},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"Are you sure? This action cannot be undone!\"},buttons:{add:\"Add Prompt\"}},contactModal:{title:{add:\"Add Contact\",edit:\"Edit Contact\"},form:{mainInfo:\"Contact Information\",extraInfo:\"Additional Information\",name:\"Name\",number:\"WhatsApp Number\",email:\"Email\",extraName:\"Field Name\",extraValue:\"Value\",whatsapp:\"Source Connection: \"},formErrors:{name:{required:\"Name is required\",short:\"Name is too short\",long:\"Name is too long\"},phone:{short:\"Number is too short\",long:\"Number is too long\"},email:{invalid:\"Invalid email\"}},buttons:{addExtraInfo:\"Add Information\",okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\"},success:\"Contact saved successfully.\"},queueModal:{title:{add:\"Add Queue\",edit:\"Edit Queue\"},form:{name:\"Name\",nameShort:\"Short name\",nameLong:\"Long name\",nameRequired:\"Name is required\",color:\"Color\",colorShort:\"Short color\",colorLong:\"Long color\",greetingMessage:\"Greeting message\",complationMessage:\"Completion message\",outOfHoursMessage:\"Out of office message\",ratingMessage:\"Rating message\",token:\"Token\",orderQueue:\"Queue order (Bot)\",integrationId:\"Integration\"},buttons:{okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\"},toasts:{success:\"Queue saved successfully.\",info:\"Click save to register changes\"},tabs:{queueData:\"Queue Data\",attendanceTime:\"Service Hours\"}},userModal:{title:{add:\"Add User\",edit:\"Edit User\"},form:{name:\"Name\",email:\"Email\",password:\"Password\",profile:\"Profile\",whatsapp:\"Default Connection\",allTicket:\"Queueless Ticket [Invisible]\",allTicketEnabled:\"Enabled\",allTicketDesabled:\"Disabled\"},formErrors:{name:{required:\"Name is required\",short:\"Name is too short\",long:\"Name is too long\"},password:{short:\"Password is too short\",long:\"Password is too long\"},email:{required:\"Email is required\",invalid:\"Invalid email\"}},labels:{liberations:\"Releases\"},buttons:{okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\"},success:\"User saved successfully.\"},scheduleModal:{title:{add:\"New Schedule\",edit:\"Edit Schedule\"},form:{body:\"Message\",contact:\"Contact\",sendAt:\"Schedule Date\",sentAt:\"Send Date\"},buttons:{okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\"},success:\"Schedule saved successfully.\"},tagModal:{title:{add:\"New Tag\",edit:\"Edit Tag\"},form:{name:\"Name\",color:\"Color\"},buttons:{okAdd:\"Add\",okEdit:\"Save\",cancel:\"Cancel\"},success:\"Tag saved successfully.\"},chat:{toasts:{fillTitle:\"Please fill in the conversation title.\",fillUser:\"Please select at least one user.\"},modal:{title:\"Conversation\",titleField:\"Title\"},confirm:{title:\"Delete Conversation\",message:\"This action cannot be undone, confirm?\"},chats:\"Chats\",messages:\"Messages\",noTicketMessage:\"Select a ticket to start chatting.\",buttons:{close:\"Close\",save:\"Save\",new:\"New\",newChat:\"New\"}},uploads:{titles:{titleUploadMsgDragDrop:\"DRAG AND DROP FILES IN THE FIELD BELOW\",titleFileList:\"File List\"}},ticketsManager:{buttons:{newTicket:\"New\"}},ticketsQueueSelect:{placeholder:\"Queues\"},tickets:{toasts:{deleted:\"The service you were in has been deleted.\",unauthorized:\"Access not allowed\"},filters:{user:\"Filter by users\",tags:\"Filter by tags\"},notification:{message:\"Message from\"},tabs:{open:{title:\"Open\"},closed:{title:\"Resolved\"},search:{title:\"Search\"}},search:{placeholder:\"Search tickets and messages\"},buttons:{showAll:\"All\"}},transferTicketModal:{title:\"Transfer Ticket\",fieldLabel:\"Type to search users\",fieldQueueLabel:\"Transfer to queue\",fieldQueuePlaceholder:\"Select a queue\",noOptions:\"No user found with that name\",buttons:{ok:\"Transfer\",cancel:\"Cancel\"}},ticketsList:{pendingHeader:\"Waiting\",assignedHeader:\"In Progress\",noTicketsTitle:\"Nothing here!\",noTicketsMessage:\"No service found with this status or search term\",buttons:{accept:\"Accept\",closed:\"Finish\",reopen:\"Reopen\"}},ticketsListItem:{tooltip:{chatbot:\"Chatbot\",peek:\"Peek Conversation\"},noQueue:\"NO QUEUE\"},ticketAdvanced:{selectTicket:\"Select Ticket\",ticketNav:\"Ticket\",attendanceNav:\"Services\"},newTicketModal:{title:\"Create Ticket\",fieldLabel:\"Type to search contact\",add:\"Add\",searchQueueError:\"An unexpected error occurred while trying to fetch queues\",selectQueue:\"Select a queue\",selectConection:\"Select a connection\",buttons:{ok:\"Save\",cancel:\"Cancel\"}},locationPreview:{button:\"Preview\"},mainDrawer:{listItems:{dashboard:\"Dashboard\",connections:\"Connections\",tickets:\"Services\",quickMessages:\"Quick Responses\",tasks:\"Tasks\",contacts:\"Contacts\",queues:\"Queues & Chatbot\",tags:\"Tags\",administration:\"Administration\",users:\"Users\",settings:\"Settings\",helps:\"Help\",messagesAPI:\"API\",schedules:\"Schedules\",campaigns:\"Campaigns\",flows:\"Flows\",annoucements:\"Announcements\",chats:\"Internal Chat\",financeiro:\"Financial\",files:\"File List\",prompts:\"Open.AI\",queueIntegration:\"Integrations\"},appBar:{refresh:\"Reload page\",notRegister:\"No notifications\",greeting:{hello:\"Hello\",welcome:\"Welcome to\",active:\"Active until\"},user:{profile:\"Profile\",logout:\"Logout\"}}},queueIntegration:{title:\"Integrations\",table:{id:\"ID\",type:\"Type\",name:\"Name\",projectName:\"Project Name\",language:\"Language\",lastUpdate:\"Last update\",actions:\"Actions\"},buttons:{add:\"Add Project\"},searchPlaceholder:\"Search...\",confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"Are you sure? This action cannot be undone! It will be removed from linked queues and connections\"}},files:{title:\"File List\",table:{name:\"Name\",contacts:\"Contacts\",actions:\"Action\"},toasts:{deleted:\"List deleted successfully!\",deletedAll:\"All lists deleted successfully!\"},buttons:{add:\"Add\",deleteAll:\"Delete All\"},confirmationModal:{deleteTitle:\"Delete\",deleteAllTitle:\"Delete All\",deleteMessage:\"Are you sure you want to delete this list?\",deleteAllMessage:\"Are you sure you want to delete all lists?\"}},messagesAPI:{title:\"API\",labels:{doc:\"Documentation for sending messages\",method:\"Sending Methods\",textMessage:\"Text Message\",mediaMessage:\"Media Message\",instructions:\"Instructions\",observations:\"Important notes\",before1:\"Before sending messages, you need to register the token linked to the connection that will send the messages.\",before2:\"To register, access the 'Connections' menu, click the edit button of the connection and enter the token in the appropriate field.\",numberDescription:\"The sending number should not have masks or special characters and must be composed of:\",countryCode:\"Country Code\",number:\"Number\",textMessage2:\"1. Text Messages\",textMessageInstructions:\"Below is the list of information needed to send text messages:\",method2:\"Method\",e:\"and\",tests:\"Send Test\",mediaMessage2:\"2. Media Messages\"},textMessage:{number:\"Number\",body:\"Message\",token:\"Registered Token\"},mediaMessage:{number:\"Number\",body:\"File name\",media:\"File\",token:\"Registered Token\"},toasts:{unauthorized:\"This company doesn't have permission to access this page! We are redirecting you.\",success:\"Message sent successfully!\"},buttons:{send:\"Send\"}},notifications:{noTickets:\"No notifications.\"},quickMessages:{title:\"Quick Responses\",searchPlaceholder:\"Search...\",noAttachment:\"No attachment\",confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"This action is irreversible! Do you want to proceed?\"},buttons:{add:\"Add\",attach:\"Attach File\",cancel:\"Cancel\",edit:\"Edit\"},toasts:{success:\"Shortcut added successfully!\",deleted:\"Shortcut removed successfully!\"},dialog:{title:\"Quick Message\",shortcode:\"Shortcut\",message:\"Response\",save:\"Save\",cancel:\"Cancel\",geral:\"Allow edit\",add:\"Add\",edit:\"Edit\",visao:\"Allow view\"},table:{shortcode:\"Shortcut\",message:\"Message\",actions:\"Actions\",mediaName:\"File Name\",status:\"Status\"}},messageVariablesPicker:{label:\"Available Variables\",vars:{contactFirstName:\"First Name\",contactName:\"Name\",greeting:\"Greeting\",protocolNumber:\"Protocol\",date:\"Date\",hour:\"Hour\"}},contactLists:{title:\"Contact Lists\",table:{name:\"Name\",contacts:\"Contacts\",actions:\"Actions\"},buttons:{add:\"New List\"},dialog:{name:\"Name\",nameShort:\"Short name\",nameLong:\"Long name\",nameRequired:\"Name is required\",company:\"Company\",okEdit:\"Edit\",okAdd:\"Add\",add:\"Add\",edit:\"Edit\",cancel:\"Cancel\"},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"This action cannot be undone.\"},toasts:{deleted:\"Record deleted\",success:\"Operation completed successfully\"}},contactListItems:{title:\"Contacts\",searchPlaceholder:\"Search\",buttons:{add:\"New\",lists:\"Lists\",import:\"Import\"},download:\"Click here to download example spreadsheet.\",dialog:{name:\"Name\",nameShort:\"Short name\",nameLong:\"Long name\",nameRequired:\"Name is required\",number:\"Number\",numberShort:\"Short number\",numberLong:\"Long number\",whatsapp:\"WhatsApp\",email:\"Email\",emailInvalid:\"Invalid email\",okEdit:\"Edit\",okAdd:\"Add\",add:\"Add\",edit:\"Edit\",cancel:\"Cancel\"},table:{name:\"Name\",number:\"Number\",whatsapp:\"WhatsApp\",email:\"Email\",actions:\"Actions\"},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"This action cannot be undone.\",importMessage:\"Do you want to import contacts from this spreadsheet? \",importTitle:\"Import\"},toasts:{deleted:\"Record deleted\"}},campaigns:{title:\"Campaigns\",searchPlaceholder:\"Search\",report:{title:\"Report of\",title2:\"Campaign\",of:\"of\",validContacts:\"Valid contacts\",delivered:\"Delivered\",connection:\"Connection\",contactList:\"Contact List\",schedule:\"Schedule\",conclusion:\"Conclusion\"},config:{interval:\"Intervals\",randomInterval:\"Random Send Interval\",biggerInterval:\"Larger Interval After\",greaterInterval:\"Greater Send Interval\",noInterval:\"No Interval\",second:\"second\",seconds:\"seconds\",notDefined:\"Not defined\",addVariable:\"Add Variable\",save:\"Save Settings\",shortcut:\"Shortcut\",content:\"Content\",close:\"Close\",add:\"Add\"},buttons:{add:\"New Campaign\",contactLists:\"Contact Lists\"},status:{inactive:\"Inactive\",programmed:\"Scheduled\",inProgress:\"In progress\",canceled:\"Canceled\",finished:\"Finished\"},table:{name:\"Name\",whatsapp:\"Connection\",contactList:\"Contact List\",status:\"Status\",scheduledAt:\"Schedule\",completedAt:\"Completed\",confirmation:\"Confirmation\",actions:\"Actions\",notDefined:\"Not defined\",notDefined2:\"Not defined\",notScheduled:\"Not scheduled\",notConcluded:\"Not concluded\",stopCampaign:\"Stop Campaign\"},dialog:{new:\"New Campaign\",update:\"Edit Campaign\",readonly:\"View Only\",form:{name:\"Name\",nameShort:\"Short name\",nameLong:\"Long name\",helper:\"Use variables like {name}, {number}, {email} or define custom variables.\",nameRequired:\"Name is required\",message1:\"Message 1\",message2:\"Message 2\",message3:\"Message 3\",message4:\"Message 4\",message5:\"Message 5\",messagePlaceholder:\"Message content\",whatsapp:\"Connection\",status:\"Status\",scheduledAt:\"Schedule\",confirmation:\"Confirmation\",contactList:\"Contact List\",tagList:\"Tag List\",fileList:\"File List\"},buttons:{add:\"Add\",edit:\"Update\",okadd:\"Ok\",cancel:\"Cancel Sends\",restart:\"Restart Sends\",close:\"Close\",attach:\"Attach File\"}},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"This action cannot be undone.\"},toasts:{configSaved:\"Settings saved\",success:\"Operation completed successfully\",cancel:\"Campaign canceled\",restart:\"Campaign restarted\",deleted:\"Record deleted\"}},subscription:{title:\"Subscription\",testPeriod:\"Trial Period\",remainingTest:\"Your trial period ends in\",remainingTest2:\"days!\",chargeEmail:\"Billing email\",signNow:\"Sign up now!\"},announcements:{active:\"Active\",inactive:\"Inactive\",title:\"Announcements\",searchPlaceholder:\"Search\",high:\"High\",medium:\"Medium\",low:\"Low\",buttons:{add:\"New Announcement\",contactLists:\"Announcement Lists\"},table:{priority:\"Priority\",title:\"Title\",text:\"Text\",mediaName:\"File\",status:\"Status\",actions:\"Actions\"},dialog:{edit:\"Edit Announcement\",add:\"New Announcement\",update:\"Edit Announcement\",readonly:\"View Only\",form:{priority:\"Priority\",required:\"Required field\",title:\"Title\",text:\"Text\",mediaPath:\"File\",status:\"Status\"},buttons:{add:\"Add\",edit:\"Update\",okadd:\"Ok\",cancel:\"Cancel\",close:\"Close\",attach:\"Attach File\"}},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"This action cannot be undone.\"},toasts:{success:\"Operation completed successfully\",deleted:\"Record deleted\",info:\"This company doesn't have permission to access this page! We are redirecting you.\"}},campaignsConfig:{title:\"Campaign Settings\"},queues:{title:\"Queues & Chatbot\",table:{id:\"ID\",name:\"Name\",color:\"Color\",greeting:\"Greeting message\",actions:\"Actions\",orderQueue:\"Queue order (bot)\"},buttons:{add:\"Add queue\"},toasts:{success:\"Queue deleted successfully.\"},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"Are you sure? This action cannot be undone! Services in this queue will continue to exist but won't have any queue assigned.\"}},queueSelect:{inputLabel:\"Queues\"},users:{title:\"Users\",table:{id:\"ID\",name:\"Name\",email:\"Email\",profile:\"Profile\",actions:\"Actions\"},buttons:{add:\"Add user\"},toasts:{deleted:\"User deleted successfully.\"},confirmationModal:{deleteTitle:\"Delete\",deleteMessage:\"All user data will be lost. Open services for this user will be moved to the queue.\"}},todolist:{input:\"New task\",buttons:{add:\"Add\",save:\"Save\"}},helps:{title:\"Help Center\"},schedules:{title:\"Schedules\",confirmationModal:{deleteTitle:\"Are you sure you want to delete this Schedule?\",deleteMessage:\"This action cannot be undone.\"},table:{contact:\"Contact\",body:\"Message\",sendAt:\"Schedule Date\",sentAt:\"Send Date\",status:\"Status\",actions:\"Actions\"},messages:{date:\"Date\",time:\"Time\",event:\"Event\",allDay:\"All Day\",week:\"Week\",work_week:\"Schedules\",day:\"Day\",month:\"Month\",previous:\"Previous\",next:\"Next\",yesterday:\"Yesterday\",tomorrow:\"Tomorrow\",today:\"Today\",agenda:\"Agenda\",noEventsInRange:\"No schedules in this period.\",showMore:\"more\"},buttons:{add:\"New Schedule\"},toasts:{deleted:\"Schedule deleted successfully.\"}},tags:{title:\"Tags\",confirmationModal:{deleteTitle:\"Are you sure you want to delete this Tag?\",deleteMessage:\"This action cannot be undone.\",deleteAllMessage:\"Are you sure you want to delete all Tags?\",deleteAllTitle:\"Delete All\"},table:{name:\"Name\",color:\"Color\",tickets:\"Tagged Records\",actions:\"Actions\"},buttons:{add:\"New Tag\",deleteAll:\"Delete All\"},toasts:{deletedAll:\"All Tags deleted successfully!\",deleted:\"Tag deleted successfully.\"}},settings:{schedulesUpdated:\"Schedules updated successfully.\",success:\"Settings saved successfully.\",title:\"Settings\",tabs:{options:\"Options\",schedules:\"Schedules\",companies:\"Companies\",plans:\"Plans\",helps:\"Help\"},options:{toasts:{success:\"Operation updated successfully.\"},fields:{ratings:{title:\"Ratings\",disabled:\"Disabled\",enabled:\"Enabled\"},expedientManager:{title:\"Business Hours Management\",queue:\"Queue\",company:\"Company\"},ignoreMessages:{title:\"Ignore Group Messages\"},acceptCall:{title:\"Accept Call\",disabled:\"Don't accept\",enabled:\"Accept\"},chatbotType:{title:\"Chatbot Type\",text:\"Text\"},sendGreetingAccepted:{title:\"Send greeting when accepting ticket\"},sendMsgTransfTicket:{title:\"Send message on Queue/agent transfer\"},sendGreetingMessageOneQueues:{title:\"Send greeting when there's only 1 queue\"},disabled:\"Disabled\",active:\"Active\",enabled:\"Enabled\"},updating:\"Updating...\",tabs:{integrations:\"INTEGRATIONS\"}},helps:{toasts:{errorList:\"Could not load records list\",errorOperation:\"Could not complete operation\",error:\"Could not complete operation. Check if help with the same name exists or if fields were filled correctly\",success:\"Operation completed successfully!\"},buttons:{clean:\"Clear\",delete:\"Delete\",save:\"Save\"},grid:{title:\"Title\",description:\"Description\",video:\"Video\"},confirmModal:{title:\"Delete Record\",confirm:\"Do you really want to delete this record?\"}},company:{toasts:{errorList:\"Could not load records list\",errorOperation:\"Could not complete operation\",error:\"Could not complete operation. Check if company with same name exists or if fields were filled correctly\",success:\"Operation completed successfully!\"},confirmModal:{title:\"Delete Record\",confirm:\"Do you really want to delete this record?\"},form:{name:\"Name\",email:\"Email\",phone:\"Phone\",plan:\"Plan\",status:\"Status\",yes:\"Yes\",no:\"No\",campanhas:\"Campaigns\",enabled:\"Enabled\",disabled:\"Disabled\",dueDate:\"Due date\",recurrence:\"Recurrence\",monthly:\"Monthly\",expire:\"Expiration\",createdAt:\"Created On\"},buttons:{clear:\"Clear\",delete:\"Delete\",expire:\"+ Expiration\",user:\"User\",save:\"Save\"}},schedules:{form:{weekday:\"Weekday\",initialHour:\"Start Time\",finalHour:\"End Time\",save:\"Save\"}},settings:{userCreation:{name:\"User creation\",options:{enabled:\"Enabled\",disabled:\"Disabled\"}}}},messagesList:{header:{assignedTo:\"Assigned to:\",buttons:{return:\"Return\",resolve:\"Resolve\",reopen:\"Reopen\",accept:\"Accept\",download:\"Download\"}},lostCall:\"Missed voice/video call at\",deletedMessage:\"This message was deleted by the contact\",edited:\"Edited\",saudation:\"Say hello to your new contact!\"},messagesInput:{placeholderOpen:\"Type a message\",placeholderClosed:\"Reopen or accept this ticket to send a message.\",signMessage:\"Sign\"},contactDrawer:{header:\"Contact Information\",buttons:{edit:\"Edit contact\"},extraInfo:\"Other information\"},fileModal:{title:{add:\"Add file list\",edit:\"Edit file list\"},buttons:{okAdd:\"Save\",okEdit:\"Edit\",cancel:\"Cancel\",fileOptions:\"Add file\"},form:{name:\"File list name\",message:\"List details\",fileOptions:\"File list\",extraName:\"Message to send with file\",extraValue:\"Option value\"},formErrors:{name:{required:\"Name is required\",short:\"Name is too short\"},message:{required:\"Message is required\"}},success:\"File list saved successfully!\"},ticketOptionsMenu:{schedule:\"Schedule\",delete:\"Delete\",transfer:\"Transfer\",registerAppointment:\"Contact Notes\",appointmentsModal:{title:\"Contact Notes\",textarea:\"Note\",placeholder:\"Enter the information you want to record here\"},confirmationModal:{title:\"Delete ticket\",titleFrom:\"from contact \",message:\"Warning! All messages related to this ticket will be lost.\"},buttons:{delete:\"Delete\",cancel:\"Cancel\"}},confirmationModal:{buttons:{confirm:\"Ok\",cancel:\"Cancel\"}},messageOptionsMenu:{delete:\"Delete\",reply:\"Reply\",confirmationModal:{title:\"Delete message?\",message:\"This action cannot be undone.\"}},backendErrors:{ERR_INTERNAL_SERVER_ERROR:\"An unexpected error occurred. Please try again later\",ERR_NO_OTHER_WHATSAPP:\"There must be at least one default WhatsApp.\",ERR_NO_DEF_WAPP_FOUND:\"No default WhatsApp found. Check the connections page.\",ERR_WAPP_NOT_INITIALIZED:\"This WhatsApp session hasn't been initialized. Check the connections page.\",ERR_WAPP_CHECK_CONTACT:\"Couldn't verify WhatsApp contact. Check the connections page\",ERR_WAPP_INVALID_CONTACT:\"This is not a valid WhatsApp number.\",ERR_WAPP_DOWNLOAD_MEDIA:\"Couldn't download WhatsApp media. Check the connections page.\",ERR_INVALID_CREDENTIALS:\"Authentication error. Please try again.\",ERR_USER_DONT_EXISTS:\"User not found. Check the provided email.\",ERR_SENDING_WAPP_MSG:\"Error sending WhatsApp message. Check the connections page.\",ERR_DELETE_WAPP_MSG:\"Couldn't delete WhatsApp message.\",ERR_OTHER_OPEN_TICKET:\"There's already an open ticket for this contact.\",ERR_SESSION_EXPIRED:\"Session expired. Please log in.\",ERR_USER_CREATION_DISABLED:\"User creation has been disabled by the administrator.\",ERR_NO_PERMISSION:\"You don't have permission to access this resource.\",ERR_DUPLICATED_CONTACT:\"A contact with this number already exists.\",ERR_NO_SETTING_FOUND:\"No settings found with this ID.\",ERR_NO_CONTACT_FOUND:\"No contact found with this ID.\",ERR_NO_TICKET_FOUND:\"No ticket found with this ID.\",ERR_NO_USER_FOUND:\"No user found with this ID.\",ERR_NO_WAPP_FOUND:\"No WhatsApp found with this ID.\",ERR_CREATING_MESSAGE:\"Error creating message in database.\",ERR_CREATING_TICKET:\"Error creating ticket in database.\",ERR_FETCH_WAPP_MSG:\"Error fetching WhatsApp message, it might be too old.\",ERR_QUEUE_COLOR_ALREADY_EXISTS:\"This color is already in use, choose another.\",ERR_WAPP_GREETING_REQUIRED:\"Greeting message is required when there is more than one queue.\"}}},es:{translations:{selectLanguage:\"Seleccione un idioma\",signup:{title:\"Reg\\xedstrate\",toasts:{success:\"\\xa1Usuario creado con \\xe9xito! \\xa1Inicia sesi\\xf3n!!!\",fail:\"Error al crear usuario. Verifica los datos ingresados.\"},form:{name:\"Nombre de la empresa\",email:\"Correo electr\\xf3nico\",phone:\"Tel\\xe9fono con (c\\xf3digo de \\xe1rea)\",plan:\"Plan\",password:\"Contrase\\xf1a\"},formErrors:{name:{required:\"El nombre de la empresa es obligatorio\",short:\"Nombre demasiado corto\",long:\"Nombre demasiado largo\"},password:{short:\"Contrase\\xf1a demasiado corta\",long:\"Contrase\\xf1a demasiado larga\"},email:{required:\"El correo electr\\xf3nico es obligatorio\",invalid:\"Correo electr\\xf3nico inv\\xe1lido\"}},buttons:{submit:\"Registrar\",login:\"\\xbfYa tienes una cuenta? \\xa1Inicia sesi\\xf3n!\"},plan:{attendant:\"Asistente\",whatsapp:\"WhatsApp\",queues:\"Colas\"}},login:{title:\"Iniciar sesi\\xf3n\",form:{email:\"Correo electr\\xf3nico\",password:\"Contrase\\xf1a\"},buttons:{submit:\"Entrar\",register:\"\\xa1Reg\\xedstrate ahora mismo!\"}},resetPassword:{title:\"Restablecer Contrase\\xf1a\",toasts:{emailSent:\"\\xa1Correo enviado con \\xe9xito!\",emailNotFound:\"\\xa1Correo electr\\xf3nico no encontrado!\",passwordUpdated:\"\\xa1Contrase\\xf1a actualizada con \\xe9xito!\"},formErrors:{email:{required:\"El correo electr\\xf3nico es obligatorio\",invalid:\"Correo electr\\xf3nico inv\\xe1lido\"},newPassword:{required:\"La nueva contrase\\xf1a es obligatoria\",matches:\"Tu contrase\\xf1a debe tener al menos 8 caracteres, incluyendo una letra may\\xfascula, una min\\xfascula y un n\\xfamero.\"},confirmPassword:{required:\"La confirmaci\\xf3n de contrase\\xf1a es obligatoria\",matches:\"Las contrase\\xf1as no coinciden\"}},form:{email:\"Correo electr\\xf3nico\",verificationCode:\"C\\xf3digo de verificaci\\xf3n\",newPassword:\"Nueva contrase\\xf1a\",confirmPassword:\"Confirmar nueva contrase\\xf1a\"},buttons:{submitEmail:\"Enviar correo\",submitPassword:\"Restablecer contrase\\xf1a\",back:\"\\xbfNo tienes una cuenta? \\xa1Reg\\xedstrate!\"}},dashboard:{toasts:{selectFilterError:\"Parametrice el filtro\",userChartError:\"Error al obtener informaci\\xf3n de la conversaci\\xf3n\",dateChartError:\"Error al obtener informaci\\xf3n de la conversaci\\xf3n\"},filters:{initialDate:\"Fecha Inicial\",finalDate:\"Fecha Final\",filterType:{title:\"Tipo de Filtro\",options:{perDate:\"Filtro por Fecha\",perPeriod:\"Filtro por Per\\xedodo\"},helper:\"Seleccione el tipo de filtro deseado\"}},periodSelect:{title:\"Per\\xedodo\",options:{none:\"Ninguno seleccionado\",last3:\"\\xdaltimos 3 d\\xedas\",last7:\"\\xdaltimos 7 d\\xedas\",last15:\"\\xdaltimos 15 d\\xedas\",last30:\"\\xdaltimos 30 d\\xedas\",last60:\"\\xdaltimos 60 d\\xedas\",last90:\"\\xdaltimos 90 d\\xedas\"},helper:\"Seleccione el per\\xedodo deseado\"},counters:{inTalk:\"En conversaci\\xf3n\",waiting:\"En espera\",finished:\"Finalizados\",newContacts:\"Nuevos contactos\",averageTalkTime:\"T.M. de Conversaci\\xf3n\",averageWaitTime:\"T.M. de Espera\"},buttons:{filter:\"Filtrar\"},onlineTable:{ratingLabel:\"1 - Insatisfecho, 2 - Satisfecho, 3 - Muy Satisfecho\",name:\"Nombre\",ratings:\"Evaluaciones\",avgSupportTime:\"T.M. de Atenci\\xf3n\",status:\"Estado (Actual)\"},charts:{user:{label:\"Gr\\xe1fico de Conversaciones\",title:\"Total de Conversaciones por Usuarios\",start:\"Inicio\",end:\"Fin\",filter:\"Filtrar\"},date:{label:\"Gr\\xe1fico de Conversaciones\",title:\"Total\",start:\"Inicio\",end:\"Fin\",filter:\"Filtrar\"}}},plans:{toasts:{errorList:\"No fue posible cargar la lista de registros\",errorOperation:\"No fue posible realizar la operaci\\xf3n\",error:\"No fue posible realizar la operaci\\xf3n. Verifique si ya existe un plan con el mismo nombre o si los campos fueron completados correctamente\",success:\"\\xa1Operaci\\xf3n realizada con \\xe9xito!\"},confirm:{title:\"Eliminaci\\xf3n de Registro\",message:\"\\xbfRealmente desea eliminar el registro?\"},form:{name:\"Nombre\",users:\"Usuarios\",connections:\"Conexiones\",queues:\"Colas\",value:\"Valor\",internalChat:\"Chat Interno\",externalApi:\"API Externa\",kanban:\"Kanban\",integrations:\"Integraciones\",campaigns:\"Campa\\xf1as\",schedules:\"Programaciones\",enabled:\"Habilitadas\",disabled:\"Deshabilitadas\",clear:\"Cancelar\",delete:\"Eliminar\",save:\"Guardar\",yes:\"S\\xed\",no:\"No\",money:\"$\"}},kanban:{toasts:{removed:\"\\xa1Etiqueta de Ticket Eliminada!\",added:\"\\xa1Etiqueta de Ticket Agregada con \\xc9xito!\"},open:\"Abierto\",seeTicket:\"Ver Ticket\"},invoices:{title:\"Facturas\",paid:\"Pagado\",open:\"Pendiente\",expired:\"Vencido\",details:\"Detalles\",value:\"Valor\",dueDate:\"Fecha Venc.\",status:\"Estado\",action:\"Acci\\xf3n\",PAY:\"PAGAR\",PAID:\"PAGADO\"},checkoutPage:{steps:{data:\"Datos\",customize:\"Personalizar\",review:\"Revisar\"},success:\"\\xa1Suscripci\\xf3n realizada con \\xe9xito!, esperando la realizaci\\xf3n del pago\",closeToEnd:\"\\xa1Falta poco!\",BACK:\"VOLVER\",PAY:\"PAGAR\",NEXT:\"SIGUIENTE\",review:{title:\"Resumen de la suscripci\\xf3n\",details:\"Detalles del plan\",users:\"Usuarios\",whatsapp:\"Whatsapp\",charges:\"Cobro: Mensual\",total:\"Total\"},form:{firstName:{label:\"Nombre completo*\",required:\"El nombre completo es obligatorio\"},lastName:{label:\"Apellido*\",required:\"El apellido es obligatorio\"},address1:{label:\"Direcci\\xf3n*\",required:\"La direcci\\xf3n es obligatoria\"},city:{label:\"Ciudad*\",required:\"La ciudad es obligatoria\"},state:{label:\"Estado/Provincia*\",required:\"El estado/provincia es obligatorio\"},zipcode:{label:\"C\\xf3digo Postal*\",required:\"El c\\xf3digo postal es obligatorio\",invalid:\"Formato de c\\xf3digo postal inv\\xe1lido\"},country:{label:\"Pa\\xeds*\",required:\"El pa\\xeds es obligatorio\"},useAddressForPaymentDetails:{label:\"Usar esta direcci\\xf3n para los detalles de pago\"},invoiceId:{label:\"Usar este ID de factura\"},nameOnCard:{label:\"Nombre en la tarjeta*\",required:\"El nombre en la tarjeta es obligatorio\"},cardNumber:{label:\"N\\xfamero de tarjeta*\",required:\"El n\\xfamero de tarjeta es obligatorio\",invalid:\"N\\xfamero de tarjeta inv\\xe1lido (ej: 4111111111111)\"},expiryDate:{label:\"Fecha de vencimiento*\",required:\"La fecha de vencimiento es obligatoria\",invalid:\"Fecha de vencimiento inv\\xe1lida\"},cvv:{label:\"CVV*\",required:\"El CVV es obligatorio\",invalid:\"CVV inv\\xe1lido (ej: 123)\"}},pricing:{users:\"Usuarios\",connection:\"Conexi\\xf3n\",queues:\"Colas\",SELECT:\"SELECCIONAR\",month:\"mes\"}},companies:{title:\"Registrar Empresa\",form:{name:\"Nombre de la Empresa\",plan:\"Plan\",token:\"Token\",submit:\"Registrar\",success:\"\\xa1Empresa creada con \\xe9xito!\"}},auth:{toasts:{success:\"\\xa1Inicio de sesi\\xf3n realizado con \\xe9xito!\"},token:\"Token\"},connections:{title:\"Conexiones\",toasts:{deleted:\"\\xa1Conexi\\xf3n con WhatsApp eliminada con \\xe9xito!\"},confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"\\xbfEst\\xe1 seguro? Esta acci\\xf3n no puede ser revertida.\",disconnectTitle:\"Desconectar\",disconnectMessage:\"\\xbfEst\\xe1 seguro? Necesitar\\xe1 leer el c\\xf3digo QR nuevamente.\"},buttons:{add:\"Agregar WhatsApp\",disconnect:\"desconectar\",tryAgain:\"Intentar nuevamente\",qrcode:\"C\\xd3DIGO QR\",newQr:\"Nuevo C\\xd3DIGO QR\",connecting:\"Conectando\"},toolTips:{disconnected:{title:\"Error al iniciar sesi\\xf3n de WhatsApp\",content:\"Aseg\\xfarese de que su tel\\xe9fono est\\xe9 conectado a internet e intente nuevamente, o solicite un nuevo c\\xf3digo QR\"},qrcode:{title:\"Esperando lectura del c\\xf3digo QR\",content:\"Haga clic en el bot\\xf3n 'C\\xd3DIGO QR' y lea el c\\xf3digo QR con su tel\\xe9fono para iniciar la sesi\\xf3n\"},connected:{title:\"\\xa1Conexi\\xf3n establecida!\"},timeout:{title:\"Se perdi\\xf3 la conexi\\xf3n con el tel\\xe9fono\",content:\"Aseg\\xfarese de que su tel\\xe9fono est\\xe9 conectado a internet y WhatsApp est\\xe9 abierto, o haga clic en el bot\\xf3n 'Desconectar' para obtener un nuevo c\\xf3digo QR\"}},table:{name:\"Nombre\",status:\"Estado\",lastUpdate:\"\\xdaltima actualizaci\\xf3n\",default:\"Predeterminado\",actions:\"Acciones\",session:\"Sesi\\xf3n\"}},whatsappModal:{title:{add:\"Agregar WhatsApp\",edit:\"Editar WhatsApp\"},formErrors:{name:{required:\"El nombre es obligatorio\",short:\"Nombre demasiado corto\",long:\"Nombre demasiado largo\"}},tabs:{general:\"General\",messages:\"Mensajes\",assessments:\"Evaluaciones\",integrations:\"Integraciones\",schedules:\"Horario laboral\"},form:{name:\"Nombre\",default:\"Predeterminado\",sendIdQueue:\"Cola\",timeSendQueue:\"Redirigir a cola en X minutos\",queueRedirection:\"Redirecci\\xf3n de Cola\",outOfHoursMessage:\"Mensaje fuera de horario\",queueRedirectionDesc:\"Seleccione una cola para redirigir los contactos que no tienen cola asignada\",prompt:\"Prompt\",queue:\"Cola de Transferencia\",timeToTransfer:\"Transferir despu\\xe9s de x (minutos)\",expiresTicket:\"Cerrar chats abiertos despu\\xe9s de x minutos\",expiresInactiveMessage:\"Mensaje de cierre por inactividad\",greetingMessage:\"Mensaje de bienvenida\",complationMessage:\"Mensaje de conclusi\\xf3n\",integration:\"Integraci\\xf3n\"},buttons:{okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\"},success:\"WhatsApp guardado con \\xe9xito.\"},qrCodeModal:{title:\"Utilice su WhatsApp:\",steps:{one:\"1 - Abra WhatsApp en su tel\\xe9fono\",two:{partOne:\"2 - Toque en M\\xe1s opciones en Android\",partTwo:\"o en Configuraci\\xf3n\",partThree:\"en iPhone\"},three:\"3 - Toque en Dispositivos vinculados y luego en Vincular un dispositivo\",four:\"4 - Apunte su tel\\xe9fono a esta pantalla para capturar el c\\xf3digo QR\"},waiting:\"Esperando lectura del c\\xf3digo QR\"},qrCode:{message:\"Lea el c\\xf3digo QR para iniciar la sesi\\xf3n\"},contacts:{title:\"Contactos\",toasts:{deleted:\"\\xa1Contacto eliminado con \\xe9xito!\",deletedAll:\"\\xa1Todos los contactos eliminados con \\xe9xito!\"},searchPlaceholder:\"Buscar...\",confirmationModal:{deleteTitle:\"Eliminar \",deleteAllTitle:\"Eliminar Todos\",importTitle:\"Importar contactos\",deleteMessage:\"\\xbfEst\\xe1 seguro que desea eliminar este contacto? Todos los tickets relacionados se perder\\xe1n.\",deleteAllMessage:\"\\xbfEst\\xe1 seguro que desea eliminar todos los contactos? Todos los tickets relacionados se perder\\xe1n.\",importMessage:\"\\xbfDesea importar todos los contactos del tel\\xe9fono?\"},buttons:{import:\"Importar Contactos\",add:\"Agregar Contacto\",export:\"Exportar Contactos\",delete:\"Eliminar Todos los Contactos\"},table:{name:\"Nombre\",whatsapp:\"WhatsApp\",email:\"Email\",actions:\"Acciones\"}},contactImportModal:{title:\"Planilla de contactos\",labels:{import:\"Importar contactos\",result:\"resultados\",added:\"Agregados\",savedContact:\"Contacto guardado\",errors:\"Errores\"},buttons:{download:\"Descargar planilla modelo\",import:\"Importar contactos\"}},queueIntegrationModal:{title:{add:\"Agregar proyecto\",edit:\"Editar proyecto\"},form:{id:\"ID\",type:\"Tipo\",name:\"Nombre\",projectName:\"Nombre del Proyecto\",language:\"Lenguaje\",jsonContent:\"JsonContent\",urlN8N:\"URL\",typebotSlug:\"Typebot - Slug\",typebotExpires:\"Tiempo en minutos para expirar una conversaci\\xf3n\",typebotKeywordFinish:\"Palabra para finalizar el ticket\",typebotKeywordRestart:\"Palabra para reiniciar el flujo\",typebotRestartMessage:\"Mensaje al reiniciar la conversaci\\xf3n\",typebotUnknownMessage:\"Mensaje de opci\\xf3n inv\\xe1lida\",typebotDelayMessage:\"Intervalo (ms) entre mensajes\"},buttons:{okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\",test:\"Probar Bot\"},messages:{testSuccess:\"\\xa1Integraci\\xf3n probada con \\xe9xito!\",addSuccess:\"Integraci\\xf3n agregada con \\xe9xito.\",editSuccess:\"Integraci\\xf3n editada con \\xe9xito.\"}},sideMenu:{name:\"Men\\xfa Lateral Inicial\",note:\"Si est\\xe1 habilitado, el men\\xfa lateral iniciar\\xe1 cerrado\",options:{enabled:\"Abierto\",disabled:\"Cerrado\"}},promptModal:{form:{name:\"Nombre\",prompt:\"Prompt\",model:\"Modelo\",max_tokens:\"M\\xe1ximo de Tokens en la respuesta\",temperature:\"Temperatura\",apikey:\"API Key\",max_messages:\"M\\xe1ximo de mensajes en el Historial\"},formErrors:{name:{short:\"Nombre demasiado corto\",long:\"Nombre demasiado largo\",required:\"El nombre es obligatorio\"},prompt:{short:\"Prompt demasiado corto\",required:\"Describa el entrenamiento para la Inteligencia Artificial\"},modal:{required:\"Informe el modelo deseado para el Prompt\"},maxTokens:{required:\"Informe el n\\xfamero m\\xe1ximo de tokens en la respuesta\"},temperature:{required:\"Informe la temperatura\"},apikey:{required:\"Informe la API Key\"},queueId:{required:\"Informe la cola\"},maxMessages:{required:\"Informe el n\\xfamero m\\xe1ximo de mensajes en el historial\"}},success:\"\\xa1Prompt guardado con \\xe9xito!\",setor:\"Informe el sector\",title:{add:\"Agregar Prompt\",edit:\"Editar Prompt\"},buttons:{okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\"}},prompts:{title:\"Prompts\",table:{name:\"Nombre\",queue:\"Sector/Cola\",max_tokens:\"M\\xe1ximo Tokens Respuesta\",actions:\"Acciones\"},confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"\\xbfEst\\xe1 seguro? \\xa1Esta acci\\xf3n no puede ser revertida!\"},buttons:{add:\"Agregar Prompt\"}},contactModal:{title:{add:\"Agregar contacto\",edit:\"Editar contacto\"},form:{mainInfo:\"Datos del contacto\",extraInfo:\"Informaci\\xf3n adicional\",name:\"Nombre\",number:\"N\\xfamero de WhatsApp\",email:\"Email\",extraName:\"Nombre del campo\",extraValue:\"Valor\",whatsapp:\"Conexi\\xf3n Origen: \"},formErrors:{name:{required:\"El nombre es obligatorio\",short:\"Nombre demasiado corto\",long:\"Nombre demasiado largo\"},phone:{short:\"N\\xfamero demasiado corto\",long:\"N\\xfamero demasiado largo\"},email:{invalid:\"Email inv\\xe1lido\"}},buttons:{addExtraInfo:\"Agregar informaci\\xf3n\",okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\"},success:\"Contacto guardado con \\xe9xito.\"},queueModal:{title:{add:\"Agregar cola\",edit:\"Editar cola\"},form:{name:\"Nombre\",nameShort:\"Nombre corto\",nameLong:\"Nombre largo\",nameRequired:\"El nombre es obligatorio\",color:\"Color\",colorShort:\"Color corto\",colorLong:\"Color largo\",greetingMessage:\"Mensaje de bienvenida\",complationMessage:\"Mensaje de conclusi\\xf3n\",outOfHoursMessage:\"Mensaje fuera de horario\",ratingMessage:\"Mensaje de evaluaci\\xf3n\",token:\"Token\",orderQueue:\"Orden de la cola (Bot)\",integrationId:\"Integraci\\xf3n\"},buttons:{okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\"},toasts:{success:\"Cola guardada con \\xe9xito.\",info:\"Haga clic en guardar para registrar los cambios\"},tabs:{queueData:\"Datos de la cola\",attendanceTime:\"Horarios de Atenci\\xf3n\"}},userModal:{title:{add:\"Agregar usuario\",edit:\"Editar usuario\"},form:{name:\"Nombre\",email:\"Email\",password:\"Contrase\\xf1a\",profile:\"Perfil\",whatsapp:\"Conexi\\xf3n Predeterminada\",allTicket:\"Ticket Sin Cola [Invisible]\",allTicketEnabled:\"Habilitado\",allTicketDesabled:\"Deshabilitado\"},formErrors:{name:{required:\"El nombre es obligatorio\",short:\"Nombre demasiado corto\",long:\"Nombre demasiado largo\"},password:{short:\"Contrase\\xf1a demasiado corta\",long:\"Contrase\\xf1a demasiado larga\"},email:{required:\"El email es obligatorio\",invalid:\"Email inv\\xe1lido\"}},labels:{liberations:\"Liberaciones\"},buttons:{okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\"},success:\"Usuario guardado con \\xe9xito.\"},scheduleModal:{title:{add:\"Nueva Programaci\\xf3n\",edit:\"Editar Programaci\\xf3n\"},form:{body:\"Mensaje\",contact:\"Contacto\",sendAt:\"Fecha de Programaci\\xf3n\",sentAt:\"Fecha de Env\\xedo\"},buttons:{okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\"},success:\"Programaci\\xf3n guardada con \\xe9xito.\"},tagModal:{title:{add:\"Nueva Etiqueta\",edit:\"Editar Etiqueta\"},form:{name:\"Nombre\",color:\"Color\"},buttons:{okAdd:\"Agregar\",okEdit:\"Guardar\",cancel:\"Cancelar\"},success:\"Etiqueta guardada con \\xe9xito.\"},chat:{toasts:{fillTitle:\"Por favor, complete el t\\xedtulo de la conversaci\\xf3n.\",fillUser:\"Por favor, seleccione al menos un usuario.\"},modal:{title:\"Conversaci\\xf3n\",titleField:\"T\\xedtulo\"},confirm:{title:\"Eliminar Conversaci\\xf3n\",message:\"Esta acci\\xf3n no puede ser revertida, \\xbfconfirmar?\"},chats:\"Chats\",messages:\"Mensajes\",noTicketMessage:\"Seleccione un ticket para comenzar a chatear.\",buttons:{close:\"Cerrar\",save:\"Guardar\",new:\"Nueva\",newChat:\"Nuevo\"}},uploads:{titles:{titleUploadMsgDragDrop:\"ARRASTRE Y SUELTE ARCHIVOS EN EL CAMPO DE ABAJO\",titleFileList:\"Lista de archivo(s)\"}},ticketsManager:{buttons:{newTicket:\"Nuevo\"}},ticketsQueueSelect:{placeholder:\"Colas\"},tickets:{toasts:{deleted:\"La atenci\\xf3n que estabas atendiendo fue eliminada.\",unauthorized:\"Acceso no permitido\"},filters:{user:\"Filtrar por usuarios\",tags:\"Filtrar por etiquetas\"},notification:{message:\"Mensaje de\"},tabs:{open:{title:\"Abiertos\"},closed:{title:\"Resueltos\"},search:{title:\"B\\xfasqueda\"}},search:{placeholder:\"Buscar atenci\\xf3n y mensajes\"},buttons:{showAll:\"Todos\"}},transferTicketModal:{title:\"Transferir Ticket\",fieldLabel:\"Escriba para buscar usuarios\",fieldQueueLabel:\"Transferir a cola\",fieldQueuePlaceholder:\"Seleccione una cola\",noOptions:\"Ning\\xfan usuario encontrado con ese nombre\",buttons:{ok:\"Transferir\",cancel:\"Cancelar\"}},ticketsList:{pendingHeader:\"En espera\",assignedHeader:\"En atenci\\xf3n\",noTicketsTitle:\"\\xa1Nada aqu\\xed!\",noTicketsMessage:\"Ninguna atenci\\xf3n encontrada con ese estado o t\\xe9rmino buscado\",buttons:{accept:\"Aceptar\",closed:\"Finalizar\",reopen:\"Reabrir\"}},ticketsListItem:{tooltip:{chatbot:\"Chatbot\",peek:\"Espiar Conversaci\\xf3n\"},noQueue:\"SIN COLA\"},ticketAdvanced:{selectTicket:\"Seleccionar Ticket\",ticketNav:\"Ticket\",attendanceNav:\"Atenciones\"},newTicketModal:{title:\"Crear Ticket\",fieldLabel:\"Escriba para buscar el contacto\",add:\"Agregar\",searchQueueError:\"Ocurri\\xf3 un error inesperado al intentar buscar las colas\",selectQueue:\"Seleccione una cola\",selectConection:\"Seleccione una conexi\\xf3n\",buttons:{ok:\"Guardar\",cancel:\"Cancelar\"}},locationPreview:{button:\"Visualizar\"},mainDrawer:{listItems:{dashboard:\"Dashboard\",connections:\"Conexiones\",tickets:\"Atenciones\",quickMessages:\"Respuestas R\\xe1pidas\",tasks:\"Tareas\",contacts:\"Contactos\",queues:\"Colas & Chatbot\",tags:\"Etiquetas\",administration:\"Administraci\\xf3n\",users:\"Usuarios\",settings:\"Configuraciones\",helps:\"Ayuda\",messagesAPI:\"API\",schedules:\"Programaciones\",campaigns:\"Campa\\xf1as\",flows:\"Flujos\",annoucements:\"Informativos\",chats:\"Chat Interno\",financeiro:\"Financiero\",files:\"Lista de archivos\",prompts:\"Open.AI\",queueIntegration:\"Integraciones\"},appBar:{refresh:\"Recargar p\\xe1gina\",notRegister:\"Sin notificaciones\",greeting:{hello:\"Hola\",welcome:\"Bienvenido a\",active:\"Activo hasta\"},user:{profile:\"Perfil\",logout:\"Salir\"}}},queueIntegration:{title:\"Integraciones\",table:{id:\"ID\",type:\"Tipo\",name:\"Nombre\",projectName:\"Nombre del Proyecto\",language:\"Lenguaje\",lastUpdate:\"\\xdaltima actualizaci\\xf3n\",actions:\"Acciones\"},buttons:{add:\"Agregar Proyecto\"},searchPlaceholder:\"Buscar...\",confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"\\xbfEst\\xe1 seguro? \\xa1Esta acci\\xf3n no puede ser revertida! y ser\\xe1 eliminada de las colas y conexiones vinculadas\"}},files:{title:\"Lista de archivos\",table:{name:\"Nombre\",contacts:\"Contactos\",actions:\"Acci\\xf3n\"},toasts:{deleted:\"\\xa1Lista eliminada con \\xe9xito!\",deletedAll:\"\\xa1Todas las listas fueron eliminadas con \\xe9xito!\"},buttons:{add:\"Agregar\",deleteAll:\"Eliminar Todos\"},confirmationModal:{deleteTitle:\"Eliminar\",deleteAllTitle:\"Eliminar Todos\",deleteMessage:\"\\xbfEst\\xe1 seguro que desea eliminar esta lista?\",deleteAllMessage:\"\\xbfEst\\xe1 seguro que desea eliminar todas las listas?\"}},messagesAPI:{title:\"API\",labels:{doc:\"Documentaci\\xf3n para env\\xedo de mensajes\",method:\"M\\xe9todos de Env\\xedo\",textMessage:\"Mensaje de Texto\",mediaMessage:\"Mensaje Multimedia\",instructions:\"Instrucciones\",observations:\"Observaciones importantes\",before1:\"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexi\\xf3n que enviar\\xe1 los mensajes.\",before2:\"Para realizar el registro acceda al men\\xfa 'Conexiones', haga clic en el bot\\xf3n editar de la conexi\\xf3n e inserte el token en el campo correspondiente.\",numberDescription:\"El n\\xfamero para env\\xedo no debe tener m\\xe1scara o caracteres especiales y debe estar compuesto por:\",countryCode:\"C\\xf3digo del Pa\\xeds\",number:\"N\\xfamero\",textMessage2:\"1. Mensajes de Texto\",textMessageInstructions:\"A continuaci\\xf3n la lista de informaci\\xf3n necesaria para enviar mensajes de texto:\",method2:\"M\\xe9todo\",e:\"y\",tests:\"Prueba de Env\\xedo\",mediaMessage2:\"2. Mensajes Multimedia\"},textMessage:{number:\"N\\xfamero\",body:\"Mensaje\",token:\"Token registrado\"},mediaMessage:{number:\"N\\xfamero\",body:\"Nombre del archivo\",media:\"Archivo\",token:\"Token registrado\"},toasts:{unauthorized:\"\\xa1Esta empresa no tiene permiso para acceder a esta p\\xe1gina! Le estamos redirigiendo.\",success:\"\\xa1Mensaje enviado con \\xe9xito!\"},buttons:{send:\"Enviar\"}},notifications:{noTickets:\"Ninguna notificaci\\xf3n.\"},quickMessages:{title:\"Respuestas R\\xe1pidas\",searchPlaceholder:\"Buscar...\",noAttachment:\"Sin adjunto\",confirmationModal:{deleteTitle:\"Eliminaci\\xf3n\",deleteMessage:\"\\xa1Esta acci\\xf3n es irreversible! \\xbfDesea continuar?\"},buttons:{add:\"Agregar\",attach:\"Adjuntar Archivo\",cancel:\"Cancelar\",edit:\"Editar\"},toasts:{success:\"\\xa1Atajo agregado con \\xe9xito!\",deleted:\"\\xa1Atajo eliminado con \\xe9xito!\"},dialog:{title:\"Mensaje R\\xe1pido\",shortcode:\"Atajo\",message:\"Respuesta\",save:\"Guardar\",cancel:\"Cancelar\",geral:\"Permitir editar\",add:\"Agregar\",edit:\"Editar\",visao:\"Permitir visi\\xf3n\"},table:{shortcode:\"Atajo\",message:\"Mensaje\",actions:\"Acciones\",mediaName:\"Nombre del Archivo\",status:\"Estado\"}},messageVariablesPicker:{label:\"Variables disponibles\",vars:{contactFirstName:\"Primer Nombre\",contactName:\"Nombre\",greeting:\"Saludo\",protocolNumber:\"Protocolo\",date:\"Fecha\",hour:\"Hora\"}},contactLists:{title:\"Listas de Contactos\",table:{name:\"Nombre\",contacts:\"Contactos\",actions:\"Acciones\"},buttons:{add:\"Nueva Lista\"},dialog:{name:\"Nombre\",nameShort:\"Nombre corto\",nameLong:\"Nombre largo\",nameRequired:\"El nombre es obligatorio\",company:\"Empresa\",okEdit:\"Editar\",okAdd:\"Agregar\",add:\"Agregar\",edit:\"Editar\",cancel:\"Cancelar\"},confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"Esta acci\\xf3n no puede ser revertida.\"},toasts:{deleted:\"Registro eliminado\",success:\"Operaci\\xf3n realizada con \\xe9xito\"}},campaigns:{title:\"Campa\\xf1as\",searchPlaceholder:\"Buscar\",report:{title:\"Informe de\",title2:\"Campa\\xf1a\",of:\"de\",validContacts:\"Contactos v\\xe1lidos\",delivered:\"Entregados\",connection:\"Conexi\\xf3n\",contactList:\"Lista de Contactos\",schedule:\"Programaci\\xf3n\",conclusion:\"Conclusi\\xf3n\"},config:{interval:\"Intervalos\",randomInterval:\"Intervalo Aleatorio de Env\\xedo\",biggerInterval:\"Intervalo Mayor Despu\\xe9s de\",greaterInterval:\"Intervalo de Env\\xedo Mayor\",noInterval:\"Sin Intervalo\",second:\"segundo\",seconds:\"segundos\",notDefined:\"No definido\",addVariable:\"Agregar Variable\",save:\"Guardar Configuraci\\xf3n\",shortcut:\"Atajo\",content:\"Contenido\",close:\"Cerrar\",add:\"Agregar\"},buttons:{add:\"Nueva Campa\\xf1a\",contactLists:\"Listas de Contactos\"},status:{inactive:\"Inactiva\",programmed:\"Programada\",inProgress:\"En progreso\",canceled:\"Cancelada\",finished:\"Finalizada\"},table:{name:\"Nombre\",whatsapp:\"Conexi\\xf3n\",contactList:\"Lista de Contactos\",status:\"Estado\",scheduledAt:\"Programaci\\xf3n\",completedAt:\"Completada\",confirmation:\"Confirmaci\\xf3n\",actions:\"Acciones\",notDefined:\"No definida\",notDefined2:\"No definido\",notScheduled:\"Sin programaci\\xf3n\",notConcluded:\"No concluida\",stopCampaign:\"Detener Campa\\xf1a\"},dialog:{new:\"Nueva Campa\\xf1a\",update:\"Editar Campa\\xf1a\",readonly:\"Solo Lectura\",form:{name:\"Nombre\",nameShort:\"Nombre corto\",nameLong:\"Nombre largo\",helper:\"Utilice variables como {nombre}, {numero}, {email} o defina variables personalizadas.\",nameRequired:\"El nombre es obligatorio\",message1:\"Mensaje 1\",message2:\"Mensaje 2\",message3:\"Mensaje 3\",message4:\"Mensaje 4\",message5:\"Mensaje 5\",messagePlaceholder:\"Contenido del mensaje\",whatsapp:\"Conexi\\xf3n\",status:\"Estado\",scheduledAt:\"Programaci\\xf3n\",confirmation:\"Confirmaci\\xf3n\",contactList:\"Lista de Contactos\",tagList:\"Lista de Etiquetas\",fileList:\"Lista de Archivos\"},buttons:{add:\"Agregar\",edit:\"Actualizar\",okadd:\"Ok\",cancel:\"Cancelar Env\\xedos\",restart:\"Reiniciar Env\\xedos\",close:\"Cerrar\",attach:\"Adjuntar Archivo\"}},confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"Esta acci\\xf3n no puede ser revertida.\"},toasts:{configSaved:\"Configuraci\\xf3n guardada\",success:\"Operaci\\xf3n realizada con \\xe9xito\",cancel:\"Campa\\xf1a cancelada\",restart:\"Campa\\xf1a reiniciada\",deleted:\"Registro eliminado\"}},subscription:{title:\"Suscripci\\xf3n\",testPeriod:\"Per\\xedodo de Prueba\",remainingTest:\"Su per\\xedodo de prueba termina en\",remainingTest2:\"d\\xedas!\",chargeEmail:\"Email de facturaci\\xf3n\",signNow:\"\\xa1Suscribirse ahora!\"},announcements:{active:\"Activo\",inactive:\"Inactivo\",title:\"Informativos\",searchPlaceholder:\"Buscar\",high:\"Alta\",medium:\"Media\",low:\"Baja\",buttons:{add:\"Nuevo Informativo\",contactLists:\"Listas de Informativos\"},table:{priority:\"Prioridad\",title:\"T\\xedtulo\",text:\"Texto\",mediaName:\"Archivo\",status:\"Estado\",actions:\"Acciones\"},dialog:{edit:\"Edici\\xf3n de Informativo\",add:\"Nuevo Informativo\",update:\"Editar Informativo\",readonly:\"Solo Lectura\",form:{priority:\"Prioridad\",required:\"Campo obligatorio\",title:\"T\\xedtulo\",text:\"Texto\",mediaPath:\"Archivo\",status:\"Estado\"},buttons:{add:\"Agregar\",edit:\"Actualizar\",okadd:\"Ok\",cancel:\"Cancelar\",close:\"Cerrar\",attach:\"Adjuntar Archivo\"}},confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"Esta acci\\xf3n no puede ser revertida.\"},toasts:{success:\"Operaci\\xf3n realizada con \\xe9xito\",deleted:\"Registro eliminado\",info:\"\\xa1Esta empresa no tiene permiso para acceder a esta p\\xe1gina! Le estamos redirigiendo.\"}},campaignsConfig:{title:\"Configuraci\\xf3n de Campa\\xf1as\"},queues:{title:\"Colas & Chatbot\",table:{id:\"ID\",name:\"Nombre\",color:\"Color\",greeting:\"Mensaje de bienvenida\",actions:\"Acciones\",orderQueue:\"Ordenaci\\xf3n de la cola (bot)\"},buttons:{add:\"Agregar cola\"},toasts:{success:\"Cola eliminada con \\xe9xito.\"},confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"\\xbfEst\\xe1 seguro? \\xa1Esta acci\\xf3n no puede ser revertida! Las atenciones de esta cola seguir\\xe1n existiendo, pero no tendr\\xe1n ninguna cola asignada.\"}},queueSelect:{inputLabel:\"Colas\"},users:{title:\"Usuarios\",table:{id:\"ID\",name:\"Nombre\",email:\"Email\",profile:\"Perfil\",actions:\"Acciones\"},buttons:{add:\"Agregar usuario\"},toasts:{deleted:\"Usuario eliminado con \\xe9xito.\"},confirmationModal:{deleteTitle:\"Eliminar\",deleteMessage:\"Todos los datos del usuario se perder\\xe1n. Las atenciones abiertas de este usuario ser\\xe1n movidas a la cola.\"}},todolist:{input:\"Nueva tarea\",buttons:{add:\"Agregar\",save:\"Guardar\"}},helps:{title:\"Centro de Ayuda\"},schedules:{title:\"Programaciones\",confirmationModal:{deleteTitle:\"\\xbfEst\\xe1 seguro que desea eliminar esta Programaci\\xf3n?\",deleteMessage:\"Esta acci\\xf3n no puede ser revertida.\"},table:{contact:\"Contacto\",body:\"Mensaje\",sendAt:\"Fecha de Programaci\\xf3n\",sentAt:\"Fecha de Env\\xedo\",status:\"Estado\",actions:\"Acciones\"},messages:{date:\"Fecha\",time:\"Hora\",event:\"Evento\",allDay:\"Todo el D\\xeda\",week:\"Semana\",work_week:\"Programaciones\",day:\"D\\xeda\",month:\"Mes\",previous:\"Anterior\",next:\"Siguiente\",yesterday:\"Ayer\",tomorrow:\"Ma\\xf1ana\",today:\"Hoy\",agenda:\"Agenda\",noEventsInRange:\"No hay programaciones en el per\\xedodo.\",showMore:\"m\\xe1s\"},buttons:{add:\"Nueva Programaci\\xf3n\"},toasts:{deleted:\"Programaci\\xf3n eliminada con \\xe9xito.\"}},tags:{title:\"Etiquetas\",confirmationModal:{deleteTitle:\"\\xbfEst\\xe1 seguro que desea eliminar esta Etiqueta?\",deleteMessage:\"Esta acci\\xf3n no puede ser revertida.\",deleteAllMessage:\"\\xbfEst\\xe1 seguro que desea eliminar todas las Etiquetas?\",deleteAllTitle:\"Eliminar Todas\"},table:{name:\"Nombre\",color:\"Color\",tickets:\"Registros Etiquetados\",actions:\"Acciones\"},buttons:{add:\"Nueva Etiqueta\",deleteAll:\"Eliminar Todas\"},toasts:{deletedAll:\"\\xa1Todas las Etiquetas eliminadas con \\xe9xito!\",deleted:\"Etiqueta eliminada con \\xe9xito.\"}},settings:{schedulesUpdated:\"Horarios actualizados con \\xe9xito.\",success:\"Configuraci\\xf3n guardada con \\xe9xito.\",title:\"Configuraci\\xf3n\",tabs:{options:\"Opciones\",schedules:\"Horarios\",companies:\"Empresas\",plans:\"Planes\",helps:\"Ayuda\"},options:{toasts:{success:\"Operaci\\xf3n actualizada con \\xe9xito.\"},fields:{ratings:{title:\"Evaluaciones\",disabled:\"Deshabilitadas\",enabled:\"Habilitadas\"},expedientManager:{title:\"Gesti\\xf3n de Horario Laboral\",queue:\"Cola\",company:\"Empresa\"},ignoreMessages:{title:\"Ignorar Mensajes de Grupos\"},acceptCall:{title:\"Aceptar Llamada\",disabled:\"No aceptar\",enabled:\"Aceptar\"},chatbotType:{title:\"Tipo Chatbot\",text:\"Texto\"},sendGreetingAccepted:{title:\"Enviar saludo al aceptar el ticket\"},sendMsgTransfTicket:{title:\"Enviar mensaje de transferencia de Cola/agente\"},sendGreetingMessageOneQueues:{title:\"Enviar saludo cuando haya solo 1 cola\"},disabled:\"Deshabilitado\",active:\"Activo\",enabled:\"Habilitado\"},updating:\"Actualizando...\",tabs:{integrations:\"INTEGRACIONES\"}},helps:{toasts:{errorList:\"No fue posible cargar la lista de registros\",errorOperation:\"No fue posible realizar la operaci\\xf3n\",error:\"No fue posible realizar la operaci\\xf3n. Verifique si ya existe una ayuda con el mismo nombre o si los campos fueron completados correctamente\",success:\"\\xa1Operaci\\xf3n realizada con \\xe9xito!\"},buttons:{clean:\"Limpiar\",delete:\"Eliminar\",save:\"Guardar\"},grid:{title:\"T\\xedtulo\",description:\"Descripci\\xf3n\",video:\"Video\"},confirmModal:{title:\"Eliminaci\\xf3n de Registro\",confirm:\"\\xbfDesea realmente eliminar este registro?\"}},company:{toasts:{errorList:\"No fue posible cargar la lista de registros\",errorOperation:\"No fue posible realizar la operaci\\xf3n\",error:\"No fue posible realizar la operaci\\xf3n. Verifique si ya existe una empresa con el mismo nombre o si los campos fueron completados correctamente\",success:\"\\xa1Operaci\\xf3n realizada con \\xe9xito!\"},confirmModal:{title:\"Eliminaci\\xf3n de Registro\",confirm:\"\\xbfDesea realmente eliminar este registro?\"},form:{name:\"Nombre\",email:\"Email\",phone:\"Tel\\xe9fono\",plan:\"Plan\",status:\"Estado\",yes:\"S\\xed\",no:\"No\",campanhas:\"Campa\\xf1as\",enabled:\"Habilitadas\",disabled:\"Deshabilitadas\",dueDate:\"Fecha de vencimiento\",recurrence:\"Recurrencia\",monthly:\"Mensual\",expire:\"Vencimiento\",createdAt:\"Creada En\"},buttons:{clear:\"Limpiar\",delete:\"Eliminar\",expire:\"+ Vencimiento\",user:\"Usuario\",save:\"Guardar\"}},schedules:{form:{weekday:\"D\\xeda de la Semana\",initialHour:\"Hora Inicial\",finalHour:\"Hora Final\",save:\"Guardar\"}},settings:{userCreation:{name:\"Creaci\\xf3n de usuario\",options:{enabled:\"Activado\",disabled:\"Desactivado\"}}}},messagesList:{header:{assignedTo:\"Asignado a:\",buttons:{return:\"Regresar\",resolve:\"Resolver\",reopen:\"Reabrir\",accept:\"Aceptar\",download:\"Descargar\"}},lostCall:\"Llamada de voz/video perdida a las\",deletedMessage:\"Este mensaje fue borrado por el contacto\",edited:\"Editado\",saudation:\"\\xa1Saluda a tu nuevo contacto!\"},messagesInput:{placeholderOpen:\"Escribe un mensaje\",placeholderClosed:\"Reabre o acepta este ticket para enviar un mensaje.\",signMessage:\"Firmar\"},contactDrawer:{header:\"Datos del contacto\",buttons:{edit:\"Editar contacto\"},extraInfo:\"Otra informaci\\xf3n\"},fileModal:{title:{add:\"Agregar lista de archivos\",edit:\"Editar lista de archivos\"},buttons:{okAdd:\"Guardar\",okEdit:\"Editar\",cancel:\"Cancelar\",fileOptions:\"Agregar archivo\"},form:{name:\"Nombre de la lista de archivos\",message:\"Detalles de la lista\",fileOptions:\"Lista de archivos\",extraName:\"Mensaje para enviar con archivo\",extraValue:\"Valor de la opci\\xf3n\"},formErrors:{name:{required:\"El nombre es obligatorio\",short:\"Nombre muy corto\"},message:{required:\"El mensaje es obligatorio\"}},success:\"\\xa1Lista de archivos guardada con \\xe9xito!\"},ticketOptionsMenu:{schedule:\"Programaci\\xf3n\",delete:\"Eliminar\",transfer:\"Transferir\",registerAppointment:\"Observaciones del Contacto\",appointmentsModal:{title:\"Observaciones del Contacto\",textarea:\"Observaci\\xf3n\",placeholder:\"Ingrese aqu\\xed la informaci\\xf3n que desea registrar\"},confirmationModal:{title:\"Eliminar el ticket\",titleFrom:\"del contacto \",message:\"\\xa1Atenci\\xf3n! Todos los mensajes relacionados al ticket se perder\\xe1n.\"},buttons:{delete:\"Eliminar\",cancel:\"Cancelar\"}},confirmationModal:{buttons:{confirm:\"Ok\",cancel:\"Cancelar\"}},messageOptionsMenu:{delete:\"Eliminar\",reply:\"Responder\",confirmationModal:{title:\"\\xbfBorrar mensaje?\",message:\"Esta acci\\xf3n no puede ser revertida.\"}},backendErrors:{ERR_INTERNAL_SERVER_ERROR:\"Ocurri\\xf3 un error inesperado. Por favor, intente nuevamente m\\xe1s tarde\",ERR_NO_OTHER_WHATSAPP:\"Debe haber al menos un WhatsApp predeterminado.\",ERR_NO_DEF_WAPP_FOUND:\"No se encontr\\xf3 WhatsApp predeterminado. Verifique la p\\xe1gina de conexiones.\",ERR_WAPP_NOT_INITIALIZED:\"Esta sesi\\xf3n de WhatsApp no fue inicializada. Verifique la p\\xe1gina de conexiones.\",ERR_WAPP_CHECK_CONTACT:\"No fue posible verificar el contacto de WhatsApp. Verifique la p\\xe1gina de conexiones\",ERR_WAPP_INVALID_CONTACT:\"Este no es un n\\xfamero de WhatsApp v\\xe1lido.\",ERR_WAPP_DOWNLOAD_MEDIA:\"No fue posible descargar el archivo multimedia de WhatsApp. Verifique la p\\xe1gina de conexiones.\",ERR_INVALID_CREDENTIALS:\"Error de autenticaci\\xf3n. Por favor, intente nuevamente.\",ERR_USER_DONT_EXISTS:\"Usuario no encontrado. Verifique el email proporcionado.\",ERR_SENDING_WAPP_MSG:\"Error al enviar mensaje de WhatsApp. Verifique la p\\xe1gina de conexiones.\",ERR_DELETE_WAPP_MSG:\"No fue posible eliminar el mensaje de WhatsApp.\",ERR_OTHER_OPEN_TICKET:\"Ya existe un ticket abierto para este contacto.\",ERR_SESSION_EXPIRED:\"Sesi\\xf3n expirada. Por favor inicie sesi\\xf3n.\",ERR_USER_CREATION_DISABLED:\"La creaci\\xf3n de usuarios fue deshabilitada por el administrador.\",ERR_NO_PERMISSION:\"No tiene permiso para acceder a este recurso.\",ERR_DUPLICATED_CONTACT:\"Ya existe un contacto con este n\\xfamero.\",ERR_NO_SETTING_FOUND:\"No se encontr\\xf3 ninguna configuraci\\xf3n con este ID.\",ERR_NO_CONTACT_FOUND:\"No se encontr\\xf3 ning\\xfan contacto con este ID.\",ERR_NO_TICKET_FOUND:\"No se encontr\\xf3 ning\\xfan ticket con este ID.\",ERR_NO_USER_FOUND:\"No se encontr\\xf3 ning\\xfan usuario con este ID.\",ERR_NO_WAPP_FOUND:\"No se encontr\\xf3 ning\\xfan WhatsApp con este ID.\",ERR_CREATING_MESSAGE:\"Error al crear mensaje en la base de datos.\",ERR_CREATING_TICKET:\"Error al crear ticket en la base de datos.\",ERR_FETCH_WAPP_MSG:\"Error al buscar el mensaje en WhatsApp, tal vez sea muy antiguo.\",ERR_QUEUE_COLOR_ALREADY_EXISTS:\"Este color ya est\\xe1 en uso, elija otro.\",ERR_WAPP_GREETING_REQUIRED:\"El mensaje de saludo es obligatorio cuando hay m\\xe1s de una cola.\"}}}},ze=localStorage.getItem(\"i18nextLng\")||\"en\";We.a.init({debug:!0,defaultNS:[\"translations\"],fallbackLng:\"pt\",ns:[\"translations\"],resources:Be,lng:ze});var He=t(30);var Ue=e=>{var a,t;const n=null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error;return n?We.a.exists(\"backendErrors.\".concat(n))?(console.error(\"Error: \".concat(We.a.t(\"backendErrors.\".concat(n)))),void w.b.error(We.a.t(\"backendErrors.\".concat(n)),{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:\"light\"})):void w.b.error(n,{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:\"light\"}):Object(He.isString)(e)?void console.error(\"Error: \".concat(e)):void console.error(\"An error occurred!\")},Ve=t(259),Qe=t.n(Ve);const Ke=Qe.a.create({baseURL:\"https://api.whatspark.com.br\",withCredentials:!0}),Ge=Qe.a.create({baseURL:\"https://api.whatspark.com.br\"});var Ye=Ke;const Xe=(e,a)=>{if(\"LOAD_WHATSAPPS\"===a.type){return[...a.payload]}if(\"UPDATE_WHATSAPPS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"UPDATE_SESSION\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n].status=t.status,e[n].updatedAt=t.updatedAt,e[n].qrcode=t.qrcode,e[n].retries=t.retries,[...e]):[...e]}if(\"DELETE_WHATSAPPS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]};var _e=()=>{const[e,a]=Object(n.useReducer)(Xe,[]),[t,o]=Object(n.useState)(!0),r=Object(n.useContext)(v);return Object(n.useEffect)(()=>{o(!0);(async()=>{try{const{data:e}=await Ye.get(\"/whatsapp/?session=0\");a({type:\"LOAD_WHATSAPPS\",payload:e}),o(!1)}catch(e){o(!1),Ue(e)}})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),t=r.getSocket(e);return t.on(\"company-\".concat(e,\"-whatsapp\"),e=>{\"update\"===e.action&&a({type:\"UPDATE_WHATSAPPS\",payload:e.whatsapp})}),t.on(\"company-\".concat(e,\"-whatsapp\"),e=>{\"delete\"===e.action&&a({type:\"DELETE_WHATSAPPS\",payload:e.whatsappId})}),t.on(\"company-\".concat(e,\"-whatsappSession\"),e=>{\"update\"===e.action&&a({type:\"UPDATE_SESSION\",payload:e.session})}),()=>{t.disconnect()}},[r]),{whatsApps:e,loading:t}};const Ze=Object(n.createContext)(),Je=e=>{let{children:a}=e;const{loading:t,whatsApps:n}=_e();return o.a.createElement(Ze.Provider,{value:{whatsApps:n,loading:t}},a)};var $e=()=>{const e=Object(C.useHistory)(),[a,t]=Object(n.useState)(!1),[o,r]=Object(n.useState)(!0),[l,i]=Object(n.useState)({});Ye.interceptors.request.use(e=>{const a=localStorage.getItem(\"token\");return a&&(e.headers.Authorization=\"Bearer \".concat(JSON.parse(a)),t(!0)),e},e=>{Promise.reject(e)});let s=!1,c=[];Ye.interceptors.response.use(e=>e,async e=>{var a,n,o;const r=e.config;if(403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&!r._retry){if(s)return new Promise((e,a)=>{c.push({resolve:e,reject:a})}).then(e=>(r.headers.Authorization=\"Bearer \".concat(e),Ye(r))).catch(e=>Promise.reject(e));r._retry=!0,s=!0;try{const{data:e}=await Ye.post(\"/auth/refresh_token\");return e&&(localStorage.setItem(\"token\",JSON.stringify(e.token)),Ye.defaults.headers.Authorization=\"Bearer \".concat(e.token),c.forEach(a=>{a.resolve(e.token)}),c=[]),Ye(r)}catch(l){return c.forEach(e=>{e.reject(l)}),c=[],localStorage.removeItem(\"token\"),localStorage.removeItem(\"companyId\"),Ye.defaults.headers.Authorization=void 0,t(!1),Promise.reject(l)}finally{s=!1}}return(401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||403===(null===e||void 0===e||null===(o=e.response)||void 0===o?void 0:o.status)&&r._retry)&&(localStorage.removeItem(\"token\"),localStorage.removeItem(\"companyId\"),Ye.defaults.headers.Authorization=void 0,t(!1)),Promise.reject(e)});const d=Object(n.useContext)(v);Object(n.useEffect)(()=>{const e=localStorage.getItem(\"token\");(async()=>{if(e)try{const{data:e}=await Ye.post(\"/auth/refresh_token\");Ye.defaults.headers.Authorization=\"Bearer \".concat(e.token),t(!0),i(e.user)}catch(a){Ue(a)}r(!1)})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\");if(e){const a=d.getSocket(e);return a.on(\"company-\".concat(e,\"-user\"),e=>{\"update\"===e.action&&e.user.id===l.id&&i(e.user)}),()=>{a.disconnect()}}},[d,l]);return{isAuth:a,user:l,loading:o,handleLogin:async a=>{r(!0);try{const{data:s}=await Ye.post(\"/auth/login\",a),{user:{companyId:c,id:d,company:m}}=s;if(Object(He.has)(m,\"settings\")&&Object(He.isArray)(m.settings)){const e=m.settings.find(e=>\"campaignsEnabled\"===e.key);e&&\"true\"===e.value&&localStorage.setItem(\"cshow\",null)}k.a.locale(\"pt-br\");const u=s.user.company.dueDate,p=(k()(k()()).format(\"DD/MM/yyyy\"),k()(u).format(\"DD/MM/yyyy\"));var n=k()(u).diff(k()(k()()).format()),o=k()(k()().format()).isBefore(u),l=k.a.duration(n).asDays();!0===o?(localStorage.setItem(\"token\",JSON.stringify(s.token)),localStorage.setItem(\"companyId\",c),localStorage.setItem(\"userId\",d),localStorage.setItem(\"companyDueDate\",p),Ye.defaults.headers.Authorization=\"Bearer \".concat(s.token),i(s.user),t(!0),w.b.success(We.a.t(\"auth.toasts.success\")),Math.round(l)<5&&w.b.warn(\"Sua assinatura vence em \".concat(Math.round(l),\" \").concat(1===Math.round(l)?\"dia\":\"dias\",\" \")),e.push(\"/tickets\"),r(!1)):(Ue(\"Opss! Sua assinatura venceu \".concat(p,\".\\nEntre em contato com o Suporte para mais informa\\xe7\\xf5es! \")),r(!1))}catch(s){Ue(s),r(!1)}},handleLogout:async()=>{r(!0);try{await Ye.delete(\"/auth/logout\"),t(!1),i({}),localStorage.removeItem(\"token\"),localStorage.removeItem(\"companyId\"),localStorage.removeItem(\"userId\"),localStorage.removeItem(\"cshow\"),Ye.defaults.headers.Authorization=void 0,r(!1),e.push(\"/login\")}catch(a){Ue(a),r(!1)}},getCurrentUserInfo:async()=>{try{const{data:e}=await Ye.get(\"/auth/me\");return e}catch(e){Ue(e)}}}};const ea=Object(n.createContext)(),aa=e=>{let{children:a}=e;const{loading:t,user:n,isAuth:r,handleLogin:l,handleLogout:i}=$e();return o.a.createElement(ea.Provider,{value:{loading:t,user:n,isAuth:r,handleLogin:l,handleLogout:i}},a)};var ta={user:{static:[]},admin:{static:[\"dashboard:view\",\"drawer-admin-items:view\",\"tickets-manager:showall\",\"user-modal:editProfile\",\"user-modal:editQueues\",\"ticket-options:deleteTicket\",\"contacts-page:deleteContact\",\"connections-page:actionButtons\",\"connections-page:addConnection\",\"connections-page:editOrDeleteConnection\"]}};const na=e=>{let{role:a,perform:t,data:n,yes:o,no:r}=e;return((e,a,t)=>{const n=ta[e];if(!n)return!1;const o=n.static;if(o&&o.includes(a))return!0;const r=n.dynamic;if(r){const e=r[a];return!!e&&e(t)}return!1})(a,t,n)?o():r()};na.defaultProps={yes:()=>null,no:()=>null};var oa=t(810),ra=t.n(oa),la=t(812),ia=t.n(la),sa=t(1352),ca=t(921),da=t(1493),ma=t(311),ua=t.n(ma),pa=t(76),ga=t.n(pa);const ba=Object(T.a)({root:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",margin:\"2rem\"},inputContainer:{display:\"flex\",width:\"100%\",marginBottom:\"1rem\"},input:{flexGrow:1,marginRight:\"1rem\"},listContainer:{width:\"100%\",height:\"100%\",marginTop:\"1rem\",backgroundColor:\"#f5f5f5\",borderRadius:\"5px\"},list:{marginBottom:\"5px\"}});var Ea=()=>{const e=ba(),[a,t]=Object(n.useState)(\"\"),[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)(-1);Object(n.useEffect)(()=>{const e=localStorage.getItem(\"tasks\");e&&l(JSON.parse(e))},[]),Object(n.useEffect)(()=>{localStorage.setItem(\"tasks\",JSON.stringify(r))},[r]);return o.a.createElement(\"div\",{className:e.root},o.a.createElement(\"div\",{className:e.inputContainer},o.a.createElement(sa.a,{className:e.input,label:We.a.t(\"todolist.input\"),value:a,onChange:e=>{t(e.target.value)},variant:\"outlined\"}),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{if(!a.trim())return;const e=new Date;if(i>=0){const n=[...r];n[i]={text:a,updatedAt:e,createdAt:n[i].createdAt},l(n),t(\"\"),s(-1)}else l([...r,{text:a,createdAt:e,updatedAt:e}]),t(\"\")}},i>=0?We.a.t(\"todolist.buttons.save\"):We.a.t(\"todolist.buttons.add\"))),o.a.createElement(\"div\",{className:e.listContainer},o.a.createElement(P.a,null,r.map((a,n)=>o.a.createElement(G.a,{key:n,className:e.list},o.a.createElement(X.a,{primary:a.text,secondary:a.updatedAt.toLocaleString()}),o.a.createElement(da.a,null,o.a.createElement(N.a,{onClick:()=>(e=>{t(r[e].text),s(e)})(n)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{onClick:()=>(e=>{const a=[...r];a.splice(e,1),l(a)})(n)},o.a.createElement(ua.a,null))))))))},fa=t(1497),ha=t(1500),Aa=t(1501),ya=t(1502);var va=()=>({getPlanList:async e=>{const{data:a}=await Ge.request({url:\"/plans/list\",method:\"GET\",params:e});return a},list:async e=>{const{data:a}=await Ye.request({url:\"/plans/all\",method:\"GET\",params:e});return a},save:async e=>{const{data:a}=await Ye.request({url:\"/plans\",method:\"POST\",data:e});return a},update:async e=>{const{data:a}=await Ye.request({url:\"/plans/\".concat(e.id),method:\"PUT\",data:e});return a},finder:async e=>{const{data:a}=await Ye.request({url:\"/plans/\".concat(e),method:\"GET\"});return a},remove:async e=>{const{data:a}=await Ye.request({url:\"/plans/\".concat(e),method:\"DELETE\"});return a},getPlanCompany:async(e,a)=>{const{data:t}=await Ye.request({url:\"/companies/listPlan/\".concat(a),method:\"GET\",params:e});return t}}),xa=t(1498);const Ca=Object(T.a)(e=>({ListSubheader:{height:26,marginTop:\"-15px\",marginBottom:\"-10px\"}}));function wa(e){const{icon:a,primary:t,to:n,className:r}=e,l=o.a.useMemo(()=>o.a.forwardRef((e,a)=>o.a.createElement(x.b,Object.assign({to:n,ref:a},e))),[n]);return o.a.createElement(\"li\",null,o.a.createElement(G.a,{button:!0,dense:!0,component:l,className:r},a?o.a.createElement(Y.a,null,a):null,o.a.createElement(X.a,{primary:t})))}const Sa=(e,a)=>{if(\"LOAD_CHATS\"===a.type){const t=a.payload,n=[];return Object(He.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_CHATS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_CHAT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[];if(\"CHANGE_CHAT\"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};var Oa=e=>{Ca();const{drawerClose:a,collapsed:t}=e,{whatsApps:r}=Object(n.useContext)(Ze),{user:l,handleLogout:i}=Object(n.useContext)(ea),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(!1),y=Object(C.useHistory)(),[x,w]=Object(n.useState)(!1),[S,O]=Object(n.useState)(!1),[k,T]=Object(n.useState)(!1),[j,I]=Object(n.useState)(!0),[N,R]=Object(n.useState)(1),[D]=Object(n.useState)(\"\"),[L,F]=Object(n.useReducer)(Sa,[]),{getPlanCompany:W}=va(),[B,z]=Object(n.useState)(!1),H=Object(n.useContext)(v);Object(n.useEffect)(()=>{},[]),Object(n.useEffect)(()=>{F({type:\"RESET\"}),R(1)},[D]),Object(n.useEffect)(()=>{!async function(){const e=l.companyId,a=await W(void 0,e);p(a.plan.useCampaigns),b(a.plan.useKanban),f(a.plan.useOpenAi),A(a.plan.useIntegrations),w(a.plan.useSchedules),O(a.plan.useInternalChat),T(a.plan.useExternalApi)}()},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{U()},500);return()=>clearTimeout(e)},[D,N]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=H.getSocket(e);return a.on(\"company-\".concat(e,\"-chat\"),e=>{\"new-message\"===e.action&&F({type:\"CHANGE_CHAT\",payload:e}),\"update\"===e.action&&F({type:\"CHANGE_CHAT\",payload:e})}),()=>{a.disconnect()}},[H]),Object(n.useEffect)(()=>{let e=0;if(L.length>0)for(let a of L)for(let t of a.users)t.userId===l.id&&(e+=t.unreads);I(!(e>0))},[L,l.id]),Object(n.useEffect)(()=>{localStorage.getItem(\"cshow\")&&p(!0)},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{if(r.length>0){r.filter(e=>\"qrcode\"===e.status||\"PAIRING\"===e.status||\"DISCONNECTED\"===e.status||\"TIMEOUT\"===e.status||\"OPENING\"===e.status).length>0?c(!0):c(!1)}},2e3);return()=>clearTimeout(e)},[r]);const U=async()=>{try{const{data:e}=await Ye.get(\"/chats/\",{params:{searchParam:D,pageNumber:N}});F({type:\"LOAD_CHATS\",payload:e.records})}catch(e){Ue(e)}};return o.a.createElement(\"div\",{onClick:a},o.a.createElement(na,{role:l.profile,perform:\"dashboard:view\",yes:()=>o.a.createElement(wa,{to:\"/\",primary:\"Dashboard\",icon:o.a.createElement(ee.a,null)})}),o.a.createElement(wa,{to:\"/tickets\",primary:We.a.t(\"mainDrawer.listItems.tickets\"),icon:o.a.createElement(te.a,null)}),g&&o.a.createElement(wa,{to:\"/kanban\",primary:\"Kanban\",icon:o.a.createElement(ra.a,null)}),o.a.createElement(wa,{to:\"/quick-messages\",primary:We.a.t(\"mainDrawer.listItems.quickMessages\"),icon:o.a.createElement(ge.a,null)}),o.a.createElement(wa,{to:\"/todolist\",primary:We.a.t(\"mainDrawer.listItems.tasks\"),icon:o.a.createElement(ia.a,null)}),o.a.createElement(wa,{to:\"/contacts\",primary:We.a.t(\"mainDrawer.listItems.contacts\"),icon:o.a.createElement(de.a,null)}),o.a.createElement(wa,{to:\"/schedules\",primary:We.a.t(\"mainDrawer.listItems.schedules\"),icon:o.a.createElement(ye.a,null)}),o.a.createElement(wa,{to:\"/tags\",primary:We.a.t(\"mainDrawer.listItems.tags\"),icon:o.a.createElement(xe.a,null)}),o.a.createElement(wa,{to:\"/chats\",primary:We.a.t(\"mainDrawer.listItems.chats\"),icon:o.a.createElement(Z.a,{color:\"secondary\",variant:\"dot\",invisible:j},o.a.createElement(qe.a,null))}),o.a.createElement(wa,{to:\"/helps\",primary:We.a.t(\"mainDrawer.listItems.helps\"),icon:o.a.createElement(Ee.a,null)}),o.a.createElement(na,{role:l.profile,perform:\"drawer-admin-items:view\",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,null),o.a.createElement(_.a,{hidden:t,style:{position:\"relative\",fontSize:\"17px\",textAlign:\"left\",paddingLeft:20},inset:!0,color:\"inherit\"},We.a.t(\"mainDrawer.listItems.administration\")),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{button:!0,onClick:()=>m(e=>!e)},o.a.createElement(Y.a,null,o.a.createElement(we.a,null)),o.a.createElement(X.a,{primary:We.a.t(\"mainDrawer.listItems.campaigns\")}),d?o.a.createElement(Oe.a,null):o.a.createElement(Te.a,null)),o.a.createElement(J.a,{style:{paddingLeft:15},in:d,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(P.a,{component:\"div\",disablePadding:!0},o.a.createElement(G.a,{onClick:()=>y.push(\"/campaigns\"),button:!0},o.a.createElement(Y.a,null,o.a.createElement(Me.a,null)),o.a.createElement(X.a,{primary:\"Listagem\"})),o.a.createElement(G.a,{onClick:()=>y.push(\"/contact-lists\"),button:!0},o.a.createElement(Y.a,null,o.a.createElement(Ie.a,null)),o.a.createElement(X.a,{primary:\"Listas de Contatos\"})),o.a.createElement(G.a,{onClick:()=>y.push(\"/campaigns-config\"),button:!0},o.a.createElement(Y.a,null,o.a.createElement(le.a,null)),o.a.createElement(X.a,{primary:\"Configura\\xe7\\xf5es\"})))),o.a.createElement(G.a,{button:!0,onClick:()=>z(e=>!e)},o.a.createElement(Y.a,null,o.a.createElement(fa.a,null)),o.a.createElement(X.a,{primary:We.a.t(\"mainDrawer.listItems.flows\")}),d?o.a.createElement(Oe.a,null):o.a.createElement(Te.a,null)),o.a.createElement(J.a,{style:{paddingLeft:15},in:B,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(P.a,{component:\"div\",disablePadding:!0},o.a.createElement(G.a,{onClick:()=>y.push(\"/phrase-lists\"),button:!0},o.a.createElement(Y.a,null,o.a.createElement(we.a,null)),o.a.createElement(X.a,{primary:\"Campanha\"})),o.a.createElement(G.a,{onClick:()=>y.push(\"/flowbuilders\"),button:!0},o.a.createElement(Y.a,null,o.a.createElement(xa.a,null)),o.a.createElement(X.a,{primary:\"Conversa\"}))))),l.super&&o.a.createElement(wa,{to:\"/announcements\",primary:We.a.t(\"mainDrawer.listItems.annoucements\"),icon:o.a.createElement(Re.a,null)}),E&&o.a.createElement(wa,{to:\"/prompts\",primary:We.a.t(\"mainDrawer.listItems.prompts\"),icon:o.a.createElement(ha.a,null)}),h&&o.a.createElement(wa,{to:\"/queue-integration\",primary:We.a.t(\"mainDrawer.listItems.queueIntegration\"),icon:o.a.createElement(Aa.a,null)}),o.a.createElement(wa,{to:\"/connections\",primary:We.a.t(\"mainDrawer.listItems.connections\"),icon:o.a.createElement(Z.a,{badgeContent:s?\"!\":0,color:\"error\"},o.a.createElement(oe.a,null))}),o.a.createElement(wa,{to:\"/files\",primary:We.a.t(\"mainDrawer.listItems.files\"),icon:o.a.createElement(ya.a,null)}),o.a.createElement(wa,{to:\"/queues\",primary:We.a.t(\"mainDrawer.listItems.queues\"),icon:o.a.createElement(ue.a,null)}),o.a.createElement(wa,{to:\"/users\",primary:We.a.t(\"mainDrawer.listItems.users\"),icon:o.a.createElement(se.a,null)}),k&&o.a.createElement(o.a.Fragment,null,o.a.createElement(wa,{to:\"/messages-api\",primary:We.a.t(\"mainDrawer.listItems.messagesAPI\"),icon:o.a.createElement(he.a,null)})),o.a.createElement(wa,{to:\"/financeiro\",primary:We.a.t(\"mainDrawer.listItems.financeiro\"),icon:o.a.createElement(Fe.a,null)}),o.a.createElement(wa,{to:\"/settings\",primary:We.a.t(\"mainDrawer.listItems.settings\"),icon:o.a.createElement(le.a,null)}),!t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,null),o.a.createElement(q.a,{style:{fontSize:\"12px\",padding:\"10px\",textAlign:\"right\",fontWeight:\"bold\"}},\"8.0.1\")))}))},ka=t(539),Ta=t(462),ja=t(1354),Ia=t(469),Na=t.n(Ia),Ma=t(468),Pa=t(467),Ra=t(556),Da=t(553),qa=t(555),La=t(1518),Fa=t(1621),Wa=t(925),Ba=t(1503);const za=Object(T.a)(e=>({button:{position:\"relative\",borderRadius:\"8px\",transition:\"all 0.3s ease\",fontWeight:500,textTransform:\"none\",fontSize:\"14px\",padding:\"8px 16px\",\"&:hover\":{transform:\"translateY(-2px)\",boxShadow:\"0 4px 8px rgba(0,0,0,0.1)\"},\"&.MuiButton-contained\":{boxShadow:\"0 2px 5px rgba(0,0,0,0.08)\"},\"&.MuiButton-containedPrimary\":{backgroundImage:\"linear-gradient(135deg, \".concat(e.palette.primary.main,\" 0%, \").concat(e.palette.primary.light,\" 100%)\")},\"&.Mui-disabled\":{backgroundImage:\"none\",opacity:.7}},buttonProgress:{color:\"light\"===e.palette.mode?\"#ffffff\":e.palette.primary.light,position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var Ha=e=>{let{loading:a,children:t,...n}=e;const r=za();return o.a.createElement(ca.a,Object.assign({className:r.button,disabled:a,disableElevation:!1},n),t,a&&o.a.createElement(Ba.a,{size:20,thickness:4,className:r.buttonProgress}))},Ua=t(823);const Va=[\"a\",\"abbr\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"base\",\"bdi\",\"bdo\",\"big\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"cite\",\"code\",\"col\",\"colgroup\",\"data\",\"datalist\",\"dd\",\"del\",\"details\",\"dfn\",\"dialog\",\"div\",\"dl\",\"dt\",\"em\",\"embed\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"iframe\",\"img\",\"input\",\"ins\",\"kbd\",\"keygen\",\"label\",\"legend\",\"li\",\"link\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meta\",\"meter\",\"nav\",\"noscript\",\"object\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"param\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"script\",\"section\",\"select\",\"small\",\"source\",\"span\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"title\",\"tr\",\"track\",\"u\",\"ul\",\"var\",\"video\",\"wbr\",\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"foreignObject\",\"g\",\"image\",\"line\",\"linearGradient\",\"marker\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"svg\",\"text\",\"tspan\"],Qa=[\"a\",\"b\",\"strong\",\"em\",\"u\",\"code\",\"del\"],Ka=e=>{let{children:a,...t}=e;return o.a.createElement(\"a\",Object.assign({},t,{target:\"_blank\",rel:\"noopener noreferrer\"}),a)};var Ga=e=>{let{children:a}=e;const t=/\\*(.*?)\\*/g,n=/~(.*?)~/g;a&&t.test(a)&&(a=a.replace(t,\"**$1**\")),a&&n.test(a)&&(a=a.replace(n,\"~~$1~~\"));const r=o.a.useMemo(()=>{const e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:Ka}}};return Va.forEach(a=>{Qa.includes(a)||(e.overrides[a]=e=>e.children||null)}),e},[]);return a?o.a.createElement(Ua.a,{options:r},a):null},Ya=t(1363);const Xa=Object(n.createContext)(),_a=e=>{let{children:a}=e;const[t,r]=Object(n.useState)({id:null,code:null}),l=Object(C.useHistory)();return Object(n.useEffect)(()=>{null!==t.id&&l.push(\"/tickets/\".concat(t.uuid))},[t]),o.a.createElement(Xa.Provider,{value:{currentTicket:t,setCurrentTicket:r}},a)};var Za=t(1606),Ja=t(649),$a=t.n(Ja),et=t(388),at=t.n(et),tt=t(1504),nt=t(1507),ot=t(1509),rt=t(1510),lt=t(1511),it=t(1512),st=t(1513),ct=t(1514),dt=t(909);const mt=Object(T.a)(e=>({messageMedia:{objectFit:\"cover\",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}));var ut=e=>{let{imageUrl:a}=e;const t=mt(),[r,l]=Object(n.useState)(!0),[i,s]=Object(n.useState)(\"\");return Object(n.useEffect)(()=>{if(!a)return;(async()=>{const{data:e,headers:t}=await Ye.get(a,{responseType:\"blob\"}),n=window.URL.createObjectURL(new Blob([e],{type:t[\"content-type\"]}));s(n),l(!1)})()},[a]),o.a.createElement(dt.a,{className:t.messageMedia,smallSrcSet:r?a:i,medium:r?a:i,large:r?a:i,alt:\"image\"})},pt=t(1506),gt=t(1505);var bt=e=>{let{title:a,children:t,open:n,onClose:r,onConfirm:l}=e;return o.a.createElement(tt.a,{open:n,onClose:()=>r(!1),\"aria-labelledby\":\"confirm-dialog\"},o.a.createElement(gt.a,{id:\"confirm-dialog\"},a),o.a.createElement(pt.a,{dividers:!0},o.a.createElement(q.a,null,t)),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{variant:\"contained\",onClick:()=>r(!1),color:\"default\"},We.a.t(\"confirmationModal.buttons.cancel\")),o.a.createElement(ca.a,{variant:\"contained\",onClick:()=>{r(!1),l()},color:\"secondary\"},We.a.t(\"confirmationModal.buttons.confirm\"))))};const Et=Object(n.createContext)(),ft=e=>{let{children:a}=e;const[t,r]=Object(n.useState)(null);return o.a.createElement(Et.Provider,{value:{replyingMessage:t,setReplyingMessage:r}},a)};var ht=e=>{let{message:a,menuOpen:t,handleClose:r,anchorEl:l}=e;const{setReplyingMessage:i}=Object(n.useContext)(Et),[s,c]=Object(n.useState)(!1);return o.a.createElement(o.a.Fragment,null,o.a.createElement(bt,{title:We.a.t(\"messageOptionsMenu.confirmationModal.title\"),open:s,onClose:c,onConfirm:async()=>{try{await Ye.delete(\"/messages/\".concat(a.id))}catch(e){Ue(e)}}},We.a.t(\"messageOptionsMenu.confirmationModal.message\")),o.a.createElement(L.a,{anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:t,onClose:r},a.fromMe&&o.a.createElement(F.a,{onClick:e=>{c(!0),r()}},We.a.t(\"messageOptionsMenu.delete\")),o.a.createElement(F.a,{onClick:()=>{i(a),r()}},We.a.t(\"messageOptionsMenu.reply\"))))},At=t(824),yt=t.n(At);var vt=e=>{let{image:a,link:t,description:r}=e;Object(n.useEffect)(()=>{},[a,t,r]);const l=async()=>{try{window.open(t)}catch(e){Ue(e)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(\"div\",{style:{minWidth:\"250px\"}},o.a.createElement(\"div\",null,o.a.createElement(\"div\",{style:{float:\"left\"}},o.a.createElement(\"img\",{src:a,alt:\"loc\",onClick:l,style:{width:\"100px\"}})),r&&o.a.createElement(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\"}},o.a.createElement(q.a,{style:{marginTop:\"12px\",marginLeft:\"15px\",marginRight:\"15px\",float:\"left\"},variant:\"subtitle1\",color:\"primary\",gutterBottom:!0},o.a.createElement(\"div\",{dangerouslySetInnerHTML:{__html:r.replace(\"\\\\n\",\"<br />\")}}))),o.a.createElement(\"div\",{style:{display:\"block\",content:\"\",clear:\"both\"}}),o.a.createElement(\"div\",null,o.a.createElement(M.a,null),o.a.createElement(ca.a,{fullWidth:!0,color:\"primary\",onClick:l,disabled:!t},We.a.t(\"locationPreview.button\"))))))},xt=t(825),Ct=t.n(xt);const wt=Object(T.a)(e=>({messagesListWrapper:{overflow:\"hidden\",position:\"relative\",display:\"flex\",flexDirection:\"column\",flexGrow:1,width:\"100%\",minWidth:300,minHeight:200},messagesList:{backgroundImage:\"light\"===e.mode?\"url(\".concat(yt.a,\")\"):\"url(\".concat(Ct.a,\")\"),display:\"flex\",flexDirection:\"column\",flexGrow:1,padding:\"20px 20px 20px 20px\",overflowY:\"scroll\",...e.scrollbarStyles},circleLoading:{color:Ra.a[500],position:\"absolute\",opacity:\"70%\",top:0,left:\"50%\",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:\"auto\",display:\"block\",position:\"relative\",\"&:hover #messageActionsButton\":{display:\"flex\",position:\"absolute\",top:0,right:0},whiteSpace:\"pre-wrap\",backgroundColor:\"#ffffff\",color:\"#303030\",alignSelf:\"flex-start\",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:\"0 1px 1px #b3b3b3\"},quotedContainerLeft:{margin:\"-3px -80px 6px -6px\",overflow:\"hidden\",backgroundColor:\"#f0f0f0\",borderRadius:\"7.5px\",display:\"flex\",position:\"relative\"},quotedMsg:{padding:10,maxWidth:300,height:\"auto\",display:\"block\",whiteSpace:\"pre-wrap\",overflow:\"hidden\"},quotedSideColorLeft:{flex:\"none\",width:\"4px\",backgroundColor:\"#6bcbef\"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:\"auto\",display:\"block\",position:\"relative\",\"&:hover #messageActionsButton\":{display:\"flex\",position:\"absolute\",top:0,right:0},whiteSpace:\"pre-wrap\",backgroundColor:\"#dcf8c6\",color:\"#303030\",alignSelf:\"flex-end\",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:\"0 1px 1px #b3b3b3\"},quotedContainerRight:{margin:\"-3px -80px 6px -6px\",overflowY:\"hidden\",backgroundColor:\"#cfe9ba\",borderRadius:\"7.5px\",display:\"flex\",position:\"relative\"},quotedMsgRight:{padding:10,maxWidth:300,height:\"auto\",whiteSpace:\"pre-wrap\"},quotedSideColorRight:{flex:\"none\",width:\"4px\",backgroundColor:\"#35cd96\"},messageActionsButton:{display:\"none\",position:\"relative\",color:\"#999\",zIndex:1,backgroundColor:\"inherit\",opacity:\"90%\",\"&:hover, &.Mui-focusVisible\":{backgroundColor:\"inherit\"}},messageContactName:{display:\"flex\",color:\"#6bcbef\",fontWeight:500},textContentItem:{overflowWrap:\"break-word\",padding:\"3px 80px 6px 6px\"},textContentItemEdited:{overflowWrap:\"break-word\",padding:\"3px 120px 6px 6px\"},textContentItemDeleted:{fontStyle:\"italic\",color:\"rgba(0, 0, 0, 0.36)\",overflowWrap:\"break-word\",padding:\"3px 80px 6px 6px\"},messageMedia:{objectFit:\"cover\",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:\"absolute\",bottom:0,right:5,color:\"#999\"},dailyTimestamp:{alignItems:\"center\",textAlign:\"center\",alignSelf:\"center\",width:\"110px\",backgroundColor:\"#e1f3fb\",margin:\"10px\",borderRadius:\"10px\",boxShadow:\"0 1px 1px #b3b3b3\"},dailyTimestampText:{color:\"#808888\",padding:8,alignSelf:\"center\",marginLeft:\"0px\"},ackIcons:{fontSize:18,verticalAlign:\"middle\",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:\"middle\",marginRight:4},ackDoneAllIcon:{color:Ra.a[500],fontSize:18,verticalAlign:\"middle\",marginLeft:4},downloadMedia:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"inherit\",padding:10}})),St=(e,a)=>{if(\"LOAD_MESSAGES\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...n,...e]}if(\"ADD_MESSAGE\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.push(t),[...e]}if(\"UPDATE_MESSAGE\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n&&(e[n]=t),[...e]}if(\"RESET\"===a.type)return[]};var Ot=e=>{let{ticket:a,ticketId:t,isGroup:r}=e;const l=wt(),[i,s]=Object(n.useReducer)(St,[]),[c,d]=Object(n.useState)(1),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),b=Object(n.useRef)(),[E,f]=Object(n.useState)({}),[h,A]=Object(n.useState)(null),y=Boolean(h),x=Object(n.useRef)(t),C=Object(n.useContext)(v);Object(n.useEffect)(()=>{s({type:\"RESET\"}),d(1),x.current=t},[t]),Object(n.useEffect)(()=>{g(!0);const e=setTimeout(()=>{(async()=>{if(void 0!==t)try{const{data:e}=await Ye.get(\"/messages/\"+t,{params:{pageNumber:c}});x.current===t&&(s({type:\"LOAD_MESSAGES\",payload:e.messages}),u(e.hasMore),g(!1)),1===c&&e.messages.length>1&&w()}catch(e){g(!1),Ue(e)}})()},500);return()=>{clearTimeout(e)}},[c,t]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),t=C.getSocket(e);return t.on(\"ready\",()=>t.emit(\"joinChatBox\",\"\".concat(a.id))),t.on(\"company-\".concat(e,\"-appMessage\"),e=>{\"create\"===e.action&&e.message.ticketId===x.current&&(s({type:\"ADD_MESSAGE\",payload:e.message}),w()),\"update\"===e.action&&e.message.ticketId===x.current&&s({type:\"UPDATE_MESSAGE\",payload:e.message})}),()=>{t.disconnect()}},[t,a,C]);const w=()=>{b.current&&b.current.scrollIntoView({})},O=(e,a)=>{A(e.currentTarget),f(a)},k=e=>{if(\"locationMessage\"===e.mediaType&&e.body.split(\"|\").length>=2){let a=e.body.split(\"|\"),t=a[0],n=a[1],r=null;return a.length>2&&(r=e.body.split(\"|\")[2]),o.a.createElement(vt,{image:t,link:n,description:r})}return\"image\"===e.mediaType?o.a.createElement(ut,{imageUrl:e.mediaUrl}):\"audio\"===e.mediaType?o.a.createElement(\"audio\",{controls:!0},o.a.createElement(\"source\",{src:e.mediaUrl,type:\"audio/ogg\"})):\"video\"===e.mediaType?o.a.createElement(\"video\",{className:l.messageMedia,src:e.mediaUrl,controls:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement(\"div\",{className:l.downloadMedia},o.a.createElement(ca.a,{startIcon:o.a.createElement(ot.a,null),color:\"primary\",variant:\"outlined\",target:\"_blank\",href:e.mediaUrl},We.a.t(\"messagesList.header.buttons.download\"))),o.a.createElement(\"div\",{style:{marginBottom:\"\"===e.body?8:0}},o.a.createElement(M.a,null)))},T=(e,a)=>{if(0===a)return o.a.createElement(\"span\",{className:l.dailyTimestamp,key:\"timestamp-\".concat(e.id)},o.a.createElement(\"div\",{className:l.dailyTimestampText},Object(ka.a)(Object(Pa.a)(i[a].createdAt),\"dd/MM/yyyy\")));if(a<i.length-1){let t=Object(Pa.a)(i[a].createdAt),n=Object(Pa.a)(i[a-1].createdAt);if(!Object(Ma.a)(t,n))return o.a.createElement(\"span\",{className:l.dailyTimestamp,key:\"timestamp-\".concat(e.id)},o.a.createElement(\"div\",{className:l.dailyTimestampText},Object(ka.a)(Object(Pa.a)(i[a].createdAt),\"dd/MM/yyyy\")))}return a===i.length-1?o.a.createElement(\"div\",{key:\"ref-\".concat(e.createdAt),ref:b,style:{float:\"left\",clear:\"both\"}}):void 0},j=(e,a)=>{if(a<i.length&&a>0){var t,n;let r=e.ticketId;null===(t=e.ticket)||void 0===t||null===(n=t.whatsapp)||void 0===n||n.name;if(r!==i[a-1].ticketId)return o.a.createElement(\"center\",null,o.a.createElement(\"div\",{className:l.ticketNunberClosed},\"Conversa encerrada: \",Object(ka.a)(Object(Pa.a)(i[a-1].createdAt),\"dd/MM/yyyy HH:mm:ss\")),o.a.createElement(\"div\",{className:l.ticketNunberOpen},\"Conversa iniciada: \",Object(ka.a)(Object(Pa.a)(e.createdAt),\"dd/MM/yyyy HH:mm:ss\")))}},I=(e,a)=>{if(a<i.length&&a>0){if(i[a].fromMe!==i[a-1].fromMe)return o.a.createElement(\"span\",{style:{marginTop:16},key:\"divider-\".concat(e.id)})}},P=e=>{var a,t,n,r;return o.a.createElement(\"div\",{className:Object(S.a)(l.quotedContainerLeft,{[l.quotedContainerRight]:e.fromMe})},o.a.createElement(\"span\",{className:Object(S.a)(l.quotedSideColorLeft,{[l.quotedSideColorRight]:null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe})}),o.a.createElement(\"div\",{className:l.quotedMsg},!(null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe)&&o.a.createElement(\"span\",{className:l.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(r=n.contact)||void 0===r?void 0:r.name),\"audio\"===e.quotedMsg.mediaType&&o.a.createElement(\"div\",{className:l.downloadMedia},o.a.createElement(\"audio\",{controls:!0},o.a.createElement(\"source\",{src:e.quotedMsg.mediaUrl,type:\"audio/ogg\"}))),\"video\"===e.quotedMsg.mediaType&&o.a.createElement(\"video\",{className:l.messageMedia,src:e.quotedMsg.mediaUrl,controls:!0}),\"application\"===e.quotedMsg.mediaType&&o.a.createElement(\"div\",{className:l.downloadMedia},o.a.createElement(ca.a,{startIcon:o.a.createElement(ot.a,null),color:\"primary\",variant:\"outlined\",target:\"_blank\",href:e.quotedMsg.mediaUrl},We.a.t(\"messagesList.header.buttons.download\"))),\"image\"===e.quotedMsg.mediaType&&o.a.createElement(ut,{imageUrl:e.quotedMsg.mediaUrl}),\"contactMessage\"===e.quotedMsg.mediaType&&o.a.createElement(\"span\",null,e.quotedMsg.body)))};return o.a.createElement(\"div\",{className:l.messagesListWrapper},o.a.createElement(ht,{message:E,anchorEl:h,menuOpen:y,handleClose:e=>{A(null)}}),o.a.createElement(\"div\",{id:\"messagesList\",className:l.messagesList,onScroll:e=>{if(!m)return;const{scrollTop:a}=e.currentTarget;0===a&&(document.getElementById(\"messagesList\").scrollTop=1),p||a<50&&d(e=>e+1)}},i.length>0?(()=>{if(i.length>0){return i.map((e,a)=>{var t,n;return\"call_log\"===e.mediaType?o.a.createElement(o.a.Fragment,{key:e.id},T(e,a),j(e,a),I(e,a),o.a.createElement(\"div\",{className:l.messageCenter},o.a.createElement(N.a,{variant:\"contained\",size:\"small\",id:\"messageActionsButton\",disabled:e.isDeleted,className:l.messageActionsButton,onClick:a=>O(a,e)},o.a.createElement(st.a,null)),r&&o.a.createElement(\"span\",{className:l.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),o.a.createElement(\"div\",null,o.a.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 17\",width:\"20\",height:\"17\"},o.a.createElement(\"path\",{fill:\"#df3333\",d:\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"})),\" \",o.a.createElement(\"span\",null,We.a.t(\"messagesList.lostCall\"),\" \",Object(ka.a)(Object(Pa.a)(e.createdAt),\"HH:mm\"))))):e.fromMe?o.a.createElement(o.a.Fragment,{key:e.id},T(e,a),j(e,a),I(e,a),o.a.createElement(\"div\",{className:l.messageRight},o.a.createElement(N.a,{variant:\"contained\",size:\"small\",id:\"messageActionsButton\",disabled:e.isDeleted,className:l.messageActionsButton,onClick:a=>O(a,e)},o.a.createElement(st.a,null)),(e.mediaUrl||\"locationMessage\"===e.mediaType||\"vcard\"===e.mediaType)&&k(e),o.a.createElement(\"div\",{className:Object(S.a)(l.textContentItem,{[l.textContentItemDeleted]:e.isDeleted,[l.textContentItemEdited]:e.isEdited})},e.isDeleted&&o.a.createElement(ct.a,{color:\"disabled\",fontSize:\"small\",className:l.deletedIcon}),e.quotedMsg&&P(e),o.a.createElement(Ga,null,\"locationMessage\"===e.mediaType?null:e.body),o.a.createElement(\"span\",{className:l.timestamp},e.isEdited&&o.a.createElement(\"span\",null,We.a.t(\"messagesList.edited\")),Object(ka.a)(Object(Pa.a)(e.createdAt),\"HH:mm\"),(e=>1===e.ack?o.a.createElement(rt.a,{fontSize:\"small\",className:l.ackIcons}):2===e.ack?o.a.createElement(lt.a,{fontSize:\"small\",className:l.ackIcons}):3===e.ack?o.a.createElement(it.a,{fontSize:\"small\",className:l.ackIcons}):4===e.ack||5===e.ack?o.a.createElement(it.a,{fontSize:\"small\",className:l.ackDoneAllIcon}):void 0)(e))))):o.a.createElement(o.a.Fragment,{key:e.id},T(e,a),j(e,a),I(e,a),o.a.createElement(\"div\",{className:l.messageLeft},o.a.createElement(N.a,{variant:\"contained\",size:\"small\",id:\"messageActionsButton\",disabled:e.isDeleted,className:l.messageActionsButton,onClick:a=>O(a,e)},o.a.createElement(st.a,null)),r&&o.a.createElement(\"span\",{className:l.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),e.isDeleted&&o.a.createElement(\"div\",null,o.a.createElement(\"span\",{className:\"message-deleted\"},We.a.t(\"messagesList.deletedMessage\"),\" \\xa0\",o.a.createElement(ct.a,{color:\"error\",fontSize:\"small\",className:l.deletedIcon}))),(e.mediaUrl||\"locationMessage\"===e.mediaType||\"vcard\"===e.mediaType)&&k(e),o.a.createElement(\"div\",{className:l.textContentItem},e.quotedMsg&&P(e),o.a.createElement(Ga,null,\"locationMessage\"===e.mediaType?null:e.body),o.a.createElement(\"span\",{className:l.timestamp},e.isEdited&&o.a.createElement(\"span\",null,\"Editada \"),Object(ka.a)(Object(Pa.a)(e.createdAt),\"HH:mm\")))))})}return o.a.createElement(\"div\",null,We.a.t(\"messagesList.saudation\"))})():[]),p&&o.a.createElement(\"div\",null,o.a.createElement(Ba.a,{className:l.circleLoading})))},kt=t(1515),Tt=t(1516),jt=t(1517);const It=Object(T.a)(e=>({ticketHeader:{display:\"flex\",backgroundColor:\"#eee\",flex:\"none\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\"}}));var Nt=()=>{const e=It();return o.a.createElement(kt.a,{square:!0,className:e.ticketHeader},o.a.createElement(Tt.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(jt.a,{animation:\"wave\",variant:\"circle\"},o.a.createElement(Fa.a,{alt:\"contact_image\"})),title:o.a.createElement(jt.a,{animation:\"wave\",width:80}),subheader:o.a.createElement(jt.a,{animation:\"wave\",width:140})}))};const Mt=Object(T.a)(e=>({ticketHeader:{display:\"flex\",backgroundColor:e.palette.tabHeaderBackground,flex:\"none\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",[e.breakpoints.down(\"sm\")]:{flexWrap:\"wrap\"}}}));var Pt=e=>{let{loading:a,children:t}=e;const n=Mt();return o.a.createElement(o.a.Fragment,null,a?o.a.createElement(Nt,null):o.a.createElement(kt.a,{square:!0,className:n.ticketHeader},t))};var Rt=e=>{let{contact:a,ticket:t,onClick:r}=e;const{user:l}=t,[i,s]=Object(n.useState)(\"\"),[c,d]=Object(n.useState)(\"\");return Object(n.useEffect)(()=>{if(a&&(d(a.name),document.body.offsetWidth<600&&a.name.length>10)){const e=a.name.substring(0,10)+\"...\";d(e)}l&&a&&(s(\"\".concat(We.a.t(\"messagesList.header.assignedTo\"),\" \").concat(l.name)),document.body.offsetWidth<600&&s(\"\".concat(l.name)))},[]),o.a.createElement(Tt.a,{onClick:r,style:{cursor:\"pointer\"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(Fa.a,{src:a.profilePicUrl,alt:\"contact_image\"}),title:\"\".concat(c,\" #\").concat(t.id),subheader:t.user&&\"\".concat(i)})};const Dt=Object(T.a)(e=>({root:{display:\"flex\",height:\"100%\",position:\"relative\",overflow:\"hidden\"},mainWrapper:{flex:1,height:\"100%\",display:\"flex\",flexDirection:\"column\",overflow:\"hidden\",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:\"0\",marginRight:-320,transition:e.transitions.create(\"margin\",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create(\"margin\",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));function qt(e){let{open:a,handleClose:t,ticketId:r}=e;const l=Object(C.useHistory)(),i=Dt(),{user:s}=Object(n.useContext)(ea),[,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!0),[u,p]=Object(n.useState)({}),[g,b]=Object(n.useState)({}),E=Object(n.useContext)(v);Object(n.useEffect)(()=>{let e=null;return a&&(m(!0),e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/tickets/\"+r),{queueId:a}=e,{queues:t,profile:n}=s;if(void 0===t.find(e=>e.id===a)&&\"admin\"!==n)return w.b.error(\"Acesso n\\xe3o permitido\"),void l.push(\"/tickets\");p(e.contact),b(e),m(!1)}catch(e){m(!1),Ue(e)}})()},500)),()=>{null!==e&&clearTimeout(e)}},[r,s,l,a]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\");if(a){const a=E.getSocket(e);a.on(\"ready\",()=>a.emit(\"joinChatBox\",\"\".concat(g.id))),a.on(\"company-\".concat(e,\"-ticket\"),e=>{\"update\"===e.action&&e.ticket.id===g.id&&b(e.ticket),\"delete\"===e.action&&e.ticketId===g.id&&l.push(\"/tickets\")}),a.on(\"company-\".concat(e,\"-contact\"),e=>{\"update\"===e.action&&p(a=>{var t;return a.id===(null===(t=e.contact)||void 0===t?void 0:t.id)?{...a,...e.contact}:a})})}return()=>{0}},[r,g,l,a,E]);const f=()=>{c(!0)};return o.a.createElement(tt.a,{maxWidth:\"md\",onClose:t,open:a},o.a.createElement(Pt,{loading:d},(()=>{if(void 0!==g.user)return o.a.createElement(Rt,{contact:u,ticket:g,onClick:f})})()),o.a.createElement(ft,null,o.a.createElement(Wa.a,{className:i.root},o.a.createElement(Ot,{ticket:g,ticketId:g.id,isGroup:g.isGroup}))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:t,color:\"primary\"},\"Fechar\")))}var Lt=t(1378);const Ft=Object(Lt.a)(e=>({tag:{padding:\"1px 5px\",borderRadius:\"3px\",fontSize:\"0.8em\",fontWeight:\"bold\",color:\"#FFF\",marginRight:\"5px\",whiteSpace:\"nowrap\"}}));var Wt=e=>{let{tag:a}=e;const t=Ft();return o.a.createElement(\"div\",{className:t.tag,style:{backgroundColor:a.color,marginTop:\"2px\"}},a.name.toUpperCase())};const Bt=Object(T.a)(e=>({ticket:{position:\"relative\"},pendingTicket:{cursor:\"unset\"},queueTag:{background:\"#FCFCFC\",color:\"#000\",marginRight:1,padding:1,fontWeight:\"bold\",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:\"0.8em\",whiteSpace:\"nowrap\"},noTicketsDiv:{display:\"flex\",height:\"100px\",margin:40,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"},newMessagesCount:{position:\"absolute\",alignSelf:\"center\",marginRight:8,marginLeft:\"auto\",top:\"10px\",left:\"20px\",borderRadius:0},noTicketsText:{textAlign:\"center\",color:\"rgb(104, 121, 146)\",fontSize:\"14px\",lineHeight:\"1.4\"},connectionTag:{background:\"green\",color:\"#FFF\",marginRight:1,padding:1,fontWeight:\"bold\",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:\"0.8em\",whiteSpace:\"nowrap\"},noTicketsTitle:{textAlign:\"center\",fontSize:\"16px\",fontWeight:\"600\",margin:\"0px\"},contactNameWrapper:{display:\"flex\",justifyContent:\"space-between\",marginLeft:\"5px\"},lastMessageTime:{justifySelf:\"flex-end\",textAlign:\"right\",position:\"relative\",top:-21},closedBadge:{alignSelf:\"center\",justifySelf:\"flex-end\",marginRight:32,marginLeft:\"auto\"},contactLastMessage:{paddingRight:\"0%\",marginLeft:\"5px\"},badgeStyle:{color:\"white\",backgroundColor:Ra.a[500]},acceptButton:{position:\"absolute\",right:\"108px\"},acceptButton:{position:\"absolute\",left:\"50%\"},ticketQueueColor:{flex:\"none\",width:\"8px\",height:\"100%\",position:\"absolute\",top:\"0%\",left:\"0%\"},ticketInfo:{position:\"relative\",top:-13},secondaryContentSecond:{display:\"flex\",alignItems:\"flex-start\",flexWrap:\"wrap\",flexDirection:\"row\",alignContent:\"flex-start\"},ticketInfo1:{position:\"relative\",top:13,right:0},Radiusdot:{\"& .MuiBadge-badge\":{borderRadius:2,position:\"inherit\",height:16,margin:2,padding:3},\"& .MuiBadge-anchorOriginTopRightRectangle\":{transform:\"scale(1) translate(0%, -40%)\"}}}));var zt=e=>{var a,t,r,l,i,s,c,d,m,u,p;let{ticket:g}=e;const b=Bt(),E=Object(C.useHistory)(),[f,h]=Object(n.useState)(!1),[A,y]=Object(n.useState)(null),[v,x]=Object(n.useState)(null),[w,O]=Object(n.useState)(null),[k,T]=Object(n.useState)([]),[j,I]=Object(n.useState)(null),[N,P]=Object(n.useState)(!1),{ticketId:R}=Object(C.useParams)(),D=Object(n.useRef)(!0),{setCurrentTicket:L}=Object(n.useContext)(Xa),{user:F}=Object(n.useContext)(ea),{profile:W}=F;Object(n.useEffect)(()=>{var e,a,t,n,o,r;g.userId&&g.user&&y(null===(n=g.user)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.toUpperCase());(x(null===(e=g.queue)||void 0===e||null===(a=e.name)||void 0===a?void 0:a.toUpperCase()),O(null===(t=g.queue)||void 0===t?void 0:t.color),g.whatsappId&&g.whatsapp)&&I(null===(r=g.whatsapp.name)||void 0===r?void 0:r.toUpperCase());return T(null===g||void 0===g?void 0:g.tags),()=>{D.current=!1}},[]);const B=async e=>{const a=\"{{ms}} *{{name}}*, meu nome \\xe9 *\".concat(null===F||void 0===F?void 0:F.name,\"* e agora vou prosseguir com seu\\xa0atendimento!\"),t={read:1,fromMe:!0,mediaUrl:\"\",body:\"*Mensagem Autom\\xe1tica:*\\n\".concat(a.trim())};try{await Ye.post(\"/messages/\".concat(e),t)}catch(n){Ue(n)}};return o.a.createElement(o.a.Fragment,{key:g.id},o.a.createElement(qt,{open:N,handleClose:()=>P(!1),ticketId:g.id}),o.a.createElement(G.a,{dense:!0,button:!0,onClick:e=>{\"pending\"!==g.status&&(e=>{const a=Object(Za.a)(),{id:t,uuid:n}=e;L({id:t,uuid:n,code:a})})(g)},selected:R&&+R===g.id,className:Object(S.a)(b.ticket,{[b.pendingTicket]:\"pending\"===g.status})},o.a.createElement(Ya.a,{arrow:!0,placement:\"right\",title:(null===(a=g.queue)||void 0===a||null===(t=a.name)||void 0===t?void 0:t.toUpperCase())||We.a.t(\"ticketsListItem.noQueue\")},o.a.createElement(\"span\",{style:{backgroundColor:(null===(r=g.queue)||void 0===r?void 0:r.color)||\"#7C7C7C\"},className:b.ticketQueueColor})),o.a.createElement(La.a,null,\"pending\"!==g.status?o.a.createElement(Fa.a,{style:{marginTop:\"-20px\",marginLeft:\"-3px\",width:\"55px\",height:\"55px\",borderRadius:\"10%\"},src:null===g||void 0===g||null===(l=g.contact)||void 0===l?void 0:l.profilePicUrl}):o.a.createElement(Fa.a,{style:{marginTop:\"-30px\",marginLeft:\"0px\",width:\"50px\",height:\"50px\",borderRadius:\"10%\"},src:null===g||void 0===g||null===(i=g.contact)||void 0===i?void 0:i.profilePicUrl})),o.a.createElement(X.a,{disableTypography:!0,primary:o.a.createElement(\"span\",{className:b.contactNameWrapper},o.a.createElement(q.a,{noWrap:!0,component:\"span\",variant:\"body2\",color:\"textPrimary\"},g.contact.name,\"admin\"===W&&o.a.createElement(Ya.a,{title:We.a.t(\"ticketsListItem.tooltip.peek\")},o.a.createElement(at.a,{onClick:()=>P(!0),fontSize:\"small\",style:{color:qa.a[700],cursor:\"pointer\",marginLeft:10,verticalAlign:\"middle\"}}))),o.a.createElement(da.a,null,o.a.createElement(Wa.a,{className:b.ticketInfo1},o.a.createElement(o.a.Fragment,null,g.chatbot&&o.a.createElement(Ya.a,{title:We.a.t(\"ticketsListItem.tooltip.chatbot\")},o.a.createElement($a.a,{fontSize:\"small\",style:{color:Da.a[700],marginRight:5}})))))),secondary:o.a.createElement(\"span\",{className:b.contactNameWrapper},o.a.createElement(q.a,{className:b.contactLastMessage,noWrap:!0,component:\"span\",variant:\"body2\",color:\"textSecondary\"},\" \",g.lastMessage.includes(\"data:image/png;base64\")?o.a.createElement(Ga,null,\" Localiza\\xe7\\xe3o\"):o.a.createElement(Ga,null,g.lastMessage),o.a.createElement(\"span\",{className:b.secondaryContentSecond},(null===g||void 0===g||null===(s=g.whatsapp)||void 0===s?void 0:s.name)?o.a.createElement(Z.a,{className:b.connectionTag},null===g||void 0===g||null===(c=g.whatsapp)||void 0===c||null===(d=c.name)||void 0===d?void 0:d.toUpperCase()):o.a.createElement(\"br\",null),A?o.a.createElement(Z.a,{style:{backgroundColor:\"#000000\"},className:b.connectionTag},A):o.a.createElement(\"br\",null),o.a.createElement(Z.a,{style:{backgroundColor:(null===(m=g.queue)||void 0===m?void 0:m.color)||\"#7c7c7c\"},className:b.connectionTag},(null===(u=g.queue)||void 0===u||null===(p=u.name)||void 0===p?void 0:p.toUpperCase())||We.a.t(\"ticketsListItem.noQueue\"))),o.a.createElement(\"span\",{style:{paddingTop:\"2px\"},className:b.secondaryContentSecond},null===k||void 0===k?void 0:k.map(e=>o.a.createElement(Wt,{tag:e,key:\"ticket-contact-tag-\".concat(g.id,\"-\").concat(e.id)})))),o.a.createElement(Z.a,{className:b.newMessagesCount,badgeContent:g.unreadMessages,classes:{badge:b.badgeStyle}}))}),o.a.createElement(da.a,null,g.lastMessage&&o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{className:b.lastMessageTime,component:\"span\",variant:\"body2\",color:\"textSecondary\"},Object(Ma.a)(Object(Pa.a)(g.updatedAt),new Date)?o.a.createElement(o.a.Fragment,null,Object(ka.a)(Object(Pa.a)(g.updatedAt),\"HH:mm\")):o.a.createElement(o.a.Fragment,null,Object(ka.a)(Object(Pa.a)(g.updatedAt),\"dd/MM/yyyy\"))),o.a.createElement(\"br\",null))),o.a.createElement(\"span\",{className:b.secondaryContentSecond},\"pending\"===g.status&&o.a.createElement(Ha,{style:{backgroundColor:\"green\",color:\"white\",padding:\"0px\",bottom:\"17px\",borderRadius:\"0px\",left:\"8px\",fontSize:\"0.6rem\"},variant:\"contained\",className:b.acceptButton,size:\"small\",loading:f,onClick:e=>(async e=>{h(!0);try{let t;await Ye.put(\"/tickets/\".concat(e),{status:\"open\",userId:null===F||void 0===F?void 0:F.id});try{const{data:e}=await Ye.get(\"/settings/\");t=e.filter(e=>\"sendGreetingAccepted\"===e.key)}catch(a){Ue(a)}\"enabled\"!==t[0].value||g.isGroup||B(g.id)}catch(a){h(!1),Ue(a)}D.current&&h(!1),E.push(\"/tickets/\".concat(g.uuid))})(g.id)},We.a.t(\"ticketsList.buttons.accept\")),\"closed\"!==g.status&&o.a.createElement(Ha,{style:{backgroundColor:\"red\",color:\"white\",padding:\"0px\",bottom:\"0px\",borderRadius:\"0px\",left:\"8px\",fontSize:\"0.6rem\"},variant:\"contained\",className:b.acceptButton,size:\"small\",loading:f,onClick:e=>(async e=>{T(null===g||void 0===g?void 0:g.tags),h(!0);try{var a;await Ye.put(\"/tickets/\".concat(e),{status:\"closed\",userId:null===F||void 0===F?void 0:F.id,queueId:null===g||void 0===g||null===(a=g.queue)||void 0===a?void 0:a.id,useIntegration:!1,promptId:null,integrationId:null})}catch(t){h(!1),Ue(t)}D.current&&h(!1),E.push(\"/tickets/\")})(g.id)},We.a.t(\"ticketsList.buttons.closed\")),\"closed\"===g.status&&o.a.createElement(Ha,{style:{backgroundColor:\"red\",color:\"white\",padding:\"0px\",bottom:\"0px\",borderRadius:\"0px\",left:\"8px\",fontSize:\"0.6rem\"},variant:\"contained\",className:b.acceptButton,size:\"small\",loading:f,onClick:e=>(async e=>{h(!0);try{var a;await Ye.put(\"/tickets/\".concat(e),{status:\"open\",userId:null===F||void 0===F?void 0:F.id,queueId:null===g||void 0===g||null===(a=g.queue)||void 0===a?void 0:a.id})}catch(t){h(!1),Ue(t)}D.current&&h(!1),E.push(\"/tickets/\".concat(g.uuid))})(g.id)},We.a.t(\"ticketsList.buttons.reopen\")))),o.a.createElement(M.a,{variant:\"inset\",component:\"li\"}))};var Ht=e=>{let{searchParam:a,tags:t,users:o,pageNumber:r,status:l,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m}=e;const[u,p]=Object(n.useState)(!0),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)([]);return Object(n.useEffect)(()=>{p(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/tickets\",{params:{searchParam:a,pageNumber:r,tags:t,users:o,status:l,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m}});f(e.tickets),b(e.hasMore),p(!1)}catch(e){p(!1),Ue(e)}})()},500);return()=>clearTimeout(e)},[a,t,o,r,l,i,s,c,d,m]),{tickets:E,loading:u,hasMore:g}},Ut=t(827),Vt=t.n(Ut);const Qt=Object(T.a)(e=>({tabContainer:{overflowY:\"auto\",maxHeight:350,...e.scrollbarStyles},popoverPaper:{width:\"100%\",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down(\"sm\")]:{maxWidth:270}},noShadow:{boxShadow:\"none !important\"}}));var Kt=e=>{const a=Qt(),t=Object(C.useHistory)(),{user:r}=Object(n.useContext)(ea),l=+t.location.pathname.split(\"/\")[2],i=Object(n.useRef)(l),s=Object(n.useRef)(),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[,b]=Object(n.useState)([]),{tickets:E}=Ht({withUnreadMessages:\"true\"}),[f]=Object(Ta.a)(Vt.a,e),h=Object(n.useRef)(),A=Object(n.useRef)(t),y=Object(n.useContext)(v);Object(n.useEffect)(()=>{(async()=>{try{\"enable\"===r.allTicket&&g(!0)}catch(e){Ue(e)}})()},[]),Object(n.useEffect)(()=>{h.current=f,\"Notification\"in window?Notification.requestPermission():console.log(\"This browser doesn't support notifications\")},[f]),Object(n.useEffect)(()=>{(()=>{if(p)u(E);else{const e=E.filter(e=>\"pending\"!==e.status);u(e)}})()},[E]),Object(n.useEffect)(()=>{i.current=l},[l]),Object(n.useEffect)(()=>{const e=y.getSocket(r.companyId);return e.on(\"ready\",()=>e.emit(\"joinNotification\")),e.on(\"company-\".concat(r.companyId,\"-ticket\"),e=>{\"updateUnread\"!==e.action&&\"delete\"!==e.action||(u(a=>{const t=a.findIndex(a=>a.id===e.ticketId);return-1!==t?(a.splice(t,1),[...a]):a}),b(a=>{const t=a.findIndex(a=>a.tag===String(e.ticketId));return-1!==t?(a[t].close(),a.splice(t,1),[...a]):a}))}),e.on(\"company-\".concat(r.companyId,\"-appMessage\"),e=>{var a;if(\"create\"===e.action&&!e.message.fromMe&&\"pending\"!==e.ticket.status&&(!e.message.read||\"pending\"===e.ticket.status)&&(e.ticket.userId===(null===r||void 0===r?void 0:r.id)||!e.ticket.userId)&&((null===r||void 0===r||null===(a=r.queues)||void 0===a?void 0:a.some(a=>a.id===e.ticket.queueId))||!e.ticket.queueId)){u(a=>{const t=a.findIndex(a=>a.id===e.ticket.id);return-1!==t?(a[t]=e.ticket,[...a]):[e.ticket,...a]});if(e.message.ticketId===i.current&&\"visible\"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===r||void 0===r?void 0:r.id)||e.ticket.isGroup)return;x(e)}}),()=>{e.disconnect()}},[r,p,y]);const x=e=>{const{message:a,contact:t,ticket:n}=e,o={body:\"\".concat(a.body,\" - \").concat(Object(ka.a)(new Date,\"HH:mm\")),icon:t.urlPicture,tag:n.id,renotify:!0},r=new Notification(\"\".concat(We.a.t(\"tickets.notification.message\"),\" \").concat(t.name),o);r.onclick=e=>{e.preventDefault(),window.focus(),A.current.push(\"/tickets/\".concat(n.uuid))},b(e=>{const a=e.findIndex(e=>e.tag===r.tag);return-1!==a?(e[a]=r,[...e]):[r,...e]}),h.current()},w=()=>{d(!1)},S=e=>{let{children:a}=e;return o.a.createElement(\"div\",{onClick:w},a)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{onClick:()=>{d(e=>!e)},ref:s,\"aria-label\":\"Open Notifications\",color:\"inherit\",style:{color:\"white\"}},o.a.createElement(Z.a,{overlap:\"rectangular\",badgeContent:m.length,color:\"secondary\"},o.a.createElement(Na.a,null))),o.a.createElement(ja.a,{disableScrollLock:!0,open:c,anchorEl:s.current,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},classes:{paper:a.popoverPaper},onClose:w},o.a.createElement(P.a,{dense:!0,className:a.tabContainer},0===m.length?o.a.createElement(G.a,null,o.a.createElement(X.a,null,We.a.t(\"notifications.noTickets\"))):m.map(e=>o.a.createElement(S,{key:e.id},o.a.createElement(zt,{ticket:e}))))))},Gt=t(650),Yt=t.n(Gt),Xt=t(828),_t=t.n(Xt),Zt=t(1519),Jt=t(929);const $t=Object(T.a)(e=>({tabContainer:{padding:e.spacing(2)},popoverPaper:{width:\"100%\",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down(\"sm\")]:{maxWidth:270}},noShadow:{boxShadow:\"none !important\"},icons:{color:\"#fff\"},customBadge:{backgroundColor:\"#f44336\",color:\"#fff\"}}));var en=e=>{let{volume:a,setVolume:t}=e;const r=$t(),l=Object(n.useRef)(),[i,s]=Object(n.useState)(!1);return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{className:r.icons,onClick:()=>{s(e=>!e)},ref:l,\"aria-label\":\"Open Notifications\"},o.a.createElement(Yt.a,{color:\"inherit\"})),o.a.createElement(ja.a,{disableScrollLock:!0,open:i,anchorEl:l.current,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},classes:{paper:r.popoverPaper},onClose:()=>{s(!1)}},o.a.createElement(P.a,{dense:!0,className:r.tabContainer},o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{item:!0},o.a.createElement(_t.a,null)),o.a.createElement(Zt.a,{item:!0,xs:!0},o.a.createElement(Jt.a,{value:a,\"aria-labelledby\":\"continuous-slider\",step:.1,min:0,max:1,onChange:(e,a)=>(e=>{t(e),localStorage.setItem(\"volume\",e)})(a)})),o.a.createElement(Zt.a,{item:!0},o.a.createElement(Yt.a,null))))))},an=t(17),tn=t(7),nn=t(1377),on=t(928),rn=t(660),ln=t(1622);const sn=Object(T.a)(e=>({chips:{display:\"flex\",flexWrap:\"wrap\"},chip:{margin:2}}));var cn=e=>{let{selectedQueueIds:a,onChange:t,multiple:r=!0,title:l=We.a.t(\"queueSelect.inputLabel\")}=e;const i=sn(),[s,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{d()},[]);const d=async()=>{try{const{data:e}=await Ye.get(\"/queue\");c(e)}catch(e){Ue(e)}};return o.a.createElement(\"div\",null,o.a.createElement(rn.a,{fullWidth:!0,margin:\"dense\",variant:\"outlined\"},o.a.createElement(on.a,{shrink:!!a},l),o.a.createElement(nn.a,{label:l,multiple:r,labelWidth:60,value:a,onChange:e=>{t(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:e=>{var a,t;return o.a.createElement(\"div\",{className:i.chips},(null===e||void 0===e?void 0:e.length)>0&&r?e.map(e=>{const a=s.find(a=>a.id===e);return a?o.a.createElement(ln.a,{key:e,style:{backgroundColor:a.color},variant:\"outlined\",label:a.name,className:i.chip}):null}):o.a.createElement(ln.a,{key:e,variant:\"outlined\",style:{backgroundColor:null===(a=s.find(a=>a.id===e))||void 0===a?void 0:a.color},label:null===(t=s.find(a=>a.id===e))||void 0===t?void 0:t.name,className:i.chip}))}},!r&&o.a.createElement(F.a,{value:null},\"Nenhum\"),s.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))};const dn=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),mn=an.b().shape({name:an.d().min(2,We.a.t(\"userModal.formErrors.name.short\")).max(50,We.a.t(\"userModal.formErrors.name.long\")).required(We.a.t(\"userModal.formErrors.name.required\")),password:an.d().min(5,We.a.t(\"userModal.formErrors.password.short\")).max(50,We.a.t(\"userModal.formErrors.password.long\")),email:an.d().email(We.a.t(\"userModal.formErrors.email.invalid\")).required(We.a.t(\"userModal.formErrors.email.required\"))});var un=e=>{let{open:a,onClose:t,userId:r}=e;const l=dn(),i={name:\"\",email:\"\",password:\"\",profile:\"user\",allTicket:\"desabled\"},{user:s}=Object(n.useContext)(ea),[c,d]=Object(n.useState)(i),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),{loading:b,whatsApps:E}=_e();Object(n.useEffect)(()=>{(async()=>{if(r)try{var e;const{data:a}=await Ye.get(\"/users/\".concat(r));d(e=>({...e,...a}));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);u(t),g(a.whatsappId?a.whatsappId:\"\")}catch(a){Ue(a)}})()},[r,a]);const f=()=>{t(),d(i)};return o.a.createElement(\"div\",{className:l.root},o.a.createElement(tt.a,{open:a,onClose:f,maxWidth:\"xs\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"userModal.title.edit\"):We.a.t(\"userModal.title.add\"))),o.a.createElement(tn.e,{initialValues:c,enableReinitialize:!0,validationSchema:mn,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,whatsappId:p,queueIds:m,allTicket:e.allTicket};try{r?await Ye.put(\"/users/\".concat(r),a):await Ye.post(\"/users\",a),w.b.success(We.a.t(\"userModal.success\"))}catch(t){Ue(t)}f()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(\"div\",{className:l.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"userModal.form.name\"),autoFocus:!0,name:\"name\",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"userModal.form.password\"),type:\"password\",name:\"password\",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(\"div\",{className:l.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"userModal.form.email\"),name:\"email\",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(rn.a,{variant:\"outlined\",className:l.formControl,margin:\"dense\"},o.a.createElement(na,{role:s.profile,perform:\"user-modal:editProfile\",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(on.a,{id:\"profile-selection-input-label\"},We.a.t(\"userModal.form.profile\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"userModal.form.profile\"),name:\"profile\",labelId:\"profile-selection-label\",id:\"profile-selection\",required:!0},o.a.createElement(F.a,{value:\"admin\"},\"Admin\"),o.a.createElement(F.a,{value:\"user\"},\"User\")))}))),o.a.createElement(na,{role:s.profile,perform:\"user-modal:editQueues\",yes:()=>o.a.createElement(cn,{selectedQueueIds:m,onChange:e=>u(e)})}),o.a.createElement(na,{role:s.profile,perform:\"user-modal:editProfile\",yes:()=>o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",className:l.maxWidth,fullWidth:!0},o.a.createElement(on.a,null,We.a.t(\"userModal.form.whatsapp\")),o.a.createElement(tn.b,{as:nn.a,value:p,onChange:e=>g(e.target.value),label:We.a.t(\"userModal.form.whatsapp\")},o.a.createElement(F.a,{value:\"\"},\"\\xa0\"),E.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))}),o.a.createElement(\"div\",{className:l.divider},o.a.createElement(\"span\",{className:l.dividerText},We.a.t(\"userModal.labels.liberations\"))),o.a.createElement(na,{role:s.profile,perform:\"user-modal:editProfile\",yes:()=>!b&&o.a.createElement(\"div\",{className:l.textField},o.a.createElement(rn.a,{variant:\"outlined\",className:l.maxWidth,margin:\"dense\",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(on.a,{id:\"profile-selection-input-label\"},We.a.t(\"userModal.form.allTicket\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"allTicket.form.viewTags\"),name:\"allTicket\",labelId:\"allTicket-selection-label\",id:\"allTicket-selection\",required:!0},o.a.createElement(F.a,{value:\"enabled\"},We.a.t(\"userModal.form.allTicketEnabled\")),o.a.createElement(F.a,{value:\"desabled\"},We.a.t(\"userModal.form.allTicketDesabled\"))))))})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:f,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"userModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:l.btnWrapper},\"\".concat(r?We.a.t(\"userModal.buttons.okEdit\"):We.a.t(\"userModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:l.buttonProgress}))))})))},pn=t(1362);const gn=Object(T.a)(e=>({backdrop:{zIndex:e.zIndex.drawer+1,color:\"#fff\"}}));var bn=()=>{const e=gn();return o.a.createElement(pn.a,{className:e.backdrop,open:!0},o.a.createElement(Ba.a,{color:\"inherit\"}))},En=t(479),fn=t.n(En),hn=t(480),An=t.n(hn);Object(T.a)(e=>({icons:{color:\"#fff\"},switch:{color:\"#fff\"},visible:{display:\"none\"},btnHeader:{color:\"#fff\"}}));var yn=t(833),vn=t.n(yn),xn=t(1521),Cn=t(560);const wn=Object(T.a)(e=>({mainPaper:{flex:1,maxHeight:3e3,maxWidth:5e3,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));function Sn(e){let{announcement:a,open:t,handleClose:n}=e;return o.a.createElement(tt.a,{open:t,onClose:()=>n(),\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\"},o.a.createElement(gt.a,{id:\"alert-dialog-title\"},a.title),o.a.createElement(pt.a,null,a.mediaPath&&o.a.createElement(\"div\",{style:{border:\"1px solid #f1f1f1\",margin:\"0 auto 20px\",textAlign:\"center\",width:\"400px\",height:300,backgroundImage:\"url(\".concat((r=a.mediaPath,\"\".concat(\"https://api.whatspark.com.br\",\"/public/\").concat(r)),\")\"),backgroundRepeat:\"no-repeat\",backgroundSize:\"contain\",backgroundPosition:\"center\"}}),o.a.createElement(xn.a,{id:\"alert-dialog-description\"},a.text)),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:()=>n(),color:\"primary\",autoFocus:!0},\"Fechar\")));var r}const On=(e,a)=>{if(\"LOAD_ANNOUNCEMENTS\"===a.type){const t=a.payload,n=[];return Object(He.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_ANNOUNCEMENTS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_ANNOUNCEMENT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]};function kn(){const e=wn(),[a,t]=Object(n.useState)(!1),[r,l]=Object(n.useState)(null),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m]=Object(n.useState)(\"\"),[u,p]=Object(n.useReducer)(On,[]),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)({}),[h,A]=Object(n.useState)(!1),y=Object(n.useContext)(v);Object(n.useEffect)(()=>{p({type:\"RESET\"}),s(1)},[m]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{x()},500);return()=>clearTimeout(e)},[m,i]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=y.getSocket(e);return a?(a.on(\"company-announcement\",e=>{\"update\"!==e.action&&\"create\"!==e.action||(p({type:\"UPDATE_ANNOUNCEMENTS\",payload:e.record}),b(!1)),\"delete\"===e.action&&p({type:\"DELETE_ANNOUNCEMENT\",payload:+e.id})}),()=>{a.disconnect()}):()=>{}},[y]);const x=async()=>{try{const{data:e}=await Ye.get(\"/announcements/\",{params:{searchParam:m,pageNumber:i}});p({type:\"LOAD_ANNOUNCEMENTS\",payload:e.records}),d(e.hasMore),t(!1)}catch(e){Ue(e)}},C=Boolean(r),w=C?\"simple-popover\":void 0;return o.a.createElement(\"div\",null,o.a.createElement(Sn,{announcement:E,open:h,handleClose:()=>A(!1)}),o.a.createElement(N.a,{variant:\"contained\",\"aria-describedby\":w,onClick:e=>{l(e.currentTarget),b(!0)},style:{color:\"white\"}},o.a.createElement(Z.a,{color:\"secondary\",variant:\"dot\",invisible:g||u.length<1},o.a.createElement(vn.a,null))),o.a.createElement(ja.a,{id:w,open:C,anchorEl:r,onClose:()=>{l(null)},anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},transformOrigin:{vertical:\"top\",horizontal:\"center\"}},o.a.createElement(Cn.a,{variant:\"outlined\",onScroll:e=>{if(!c||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&s(e=>e+1)},className:e.mainPaper},o.a.createElement(P.a,{component:\"nav\",\"aria-label\":\"main mailbox folders\",style:{minWidth:300}},Object(He.isArray)(u)&&u.map((e,a)=>{return o.a.createElement(G.a,{key:a,style:{border:\"1px solid #eee\",borderLeft:(n=e.priority,1===n?\"4px solid #b81111\":2===n?\"4px solid orange\":3===n?\"4px solid grey\":void 0),cursor:\"pointer\"},onClick:()=>(f(e),A(!0),void l(null))},e.mediaPath&&o.a.createElement(La.a,null,o.a.createElement(Fa.a,{alt:e.mediaName,src:(t=e.mediaPath,\"\".concat(\"https://api.whatspark.com.br\",\"/public/\").concat(t))})),o.a.createElement(X.a,{primary:e.title,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"span\",style:{fontSize:12}},k()(e.createdAt).format(\"DD/MM/YYYY\")),o.a.createElement(\"span\",{style:{marginTop:5,display:\"block\"}}),o.a.createElement(q.a,{component:\"span\",variant:\"body2\"},e.text))}));var t,n}),Object(He.isArray)(u)&&0===u.length&&o.a.createElement(X.a,{primary:\"Nenhum registro\"})))))}var Tn=t(166),jn=t.n(Tn);function In(){return{dateToClient:function(e){return k()(e).isValid()?k()(e).format(\"DD/MM/YYYY\"):e},datetimeToClient:function(e){return k()(e).isValid()?k()(e).format(\"DD/MM/YYYY HH:mm\"):e},dateToDatabase:function(e){return k()(e,\"DD/MM/YYYY\").isValid()?k()(e).format(\"YYYY-MM-DD HH:mm:ss\"):e}}}var Nn=t(834),Mn=t.n(Nn);const Pn=Object(T.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}})),Rn=(e,a)=>{if(\"LOAD_CHATS\"===a.type){const t=a.payload,n=[];return Object(He.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_CHATS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_CHAT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[];if(\"CHANGE_CHAT\"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};function Dn(){const e=Pn(),{user:a}=Object(n.useContext)(ea),[t,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(null),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[u]=Object(n.useState)(\"\"),[p,g]=Object(n.useReducer)(Rn,[]),[b,E]=Object(n.useState)(!0),{datetimeToClient:f}=In(),[h]=Object(Ta.a)(Mn.a),A=Object(n.useRef)(),y=Object(n.useContext)(v);Object(n.useEffect)(()=>{A.current=h,\"Notification\"in window?Notification.requestPermission():console.log(\"This browser doesn't support notifications\")},[h]),Object(n.useEffect)(()=>{g({type:\"RESET\"}),c(1)},[u]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{x()},500);return()=>clearTimeout(e)},[u,s]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),t=y.getSocket(e);return t?(t.on(\"company-\".concat(e,\"-chat\"),e=>{if(\"new-message\"===e.action){g({type:\"CHANGE_CHAT\",payload:e});e.newMessage.chat.users.map(e=>e.userId).includes(a.id)&&e.newMessage.senderId!==a.id&&A.current()}\"update\"===e.action&&g({type:\"CHANGE_CHAT\",payload:e})}),()=>{t.disconnect()}):()=>{}},[y,a.id]),Object(n.useEffect)(()=>{let e=0;if(p.length>0)for(let t of p)for(let n of t.users)n.userId===a.id&&(e+=n.unreads);E(!(e>0))},[p,a.id]);const x=async()=>{try{const{data:e}=await Ye.get(\"/chats/\",{params:{searchParam:u,pageNumber:s}});g({type:\"LOAD_CHATS\",payload:e.records}),m(e.hasMore),r(!1)}catch(e){Ue(e)}},C=Boolean(l),w=C?\"simple-popover\":void 0;return o.a.createElement(\"div\",null,o.a.createElement(N.a,{\"aria-describedby\":w,variant:\"contained\",color:b?\"default\":\"inherit\",onClick:e=>{i(e.currentTarget),E(!0)},style:{color:\"white\"}},o.a.createElement(Z.a,{color:\"secondary\",variant:\"dot\",invisible:b},o.a.createElement(qe.a,null))),o.a.createElement(ja.a,{id:w,open:C,anchorEl:l,onClose:()=>{i(null)},anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},transformOrigin:{vertical:\"top\",horizontal:\"center\"}},o.a.createElement(Cn.a,{variant:\"outlined\",onScroll:e=>{if(!d||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&c(e=>e+1)},className:e.mainPaper},o.a.createElement(P.a,{component:\"nav\",\"aria-label\":\"main mailbox folders\",style:{minWidth:300}},Object(He.isArray)(p)&&p.map((e,a)=>o.a.createElement(G.a,{key:a,style:{background:a%2===0?\"#ededed\":\"white\",border:\"1px solid #eee\",cursor:\"pointer\"},onClick:()=>{return a=e,void(window.location.href=\"/chats/\".concat(a.uuid));var a},button:!0},o.a.createElement(X.a,{primary:e.lastMessage,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"span\",style:{fontSize:12}},f(e.updatedAt)),o.a.createElement(\"span\",{style:{marginTop:5,display:\"block\"}}))}))),Object(He.isArray)(p)&&0===p.length&&o.a.createElement(X.a,{primary:We.a.t(\"mainDrawer.appBar.notRegister\")})))))}var qn=t(1623),Ln=t(1522),Fn=t(1600);var Wn=()=>{const[e,a]=Object(n.useState)(\"en\");return Object(n.useEffect)(()=>{const e=localStorage.getItem(\"i18nextLng\");a(e)},[]),o.a.createElement(\"div\",null,o.a.createElement(\"label\",{htmlFor:\"language-select\"},We.a.t(\"selectLanguage\")),o.a.createElement(qn.a,{\"aria-label\":\"language\",name:\"language-radio-group\",value:e,onChange:async e=>{const t=e.target.value;var n;a(t),n=t,We.a.changeLanguage(n),localStorage.setItem(\"i18nextLng\",n);try{await Ye.post(\"/users/set-language/\".concat(t))}catch(o){console.error(o)}},row:!0},o.a.createElement(Ln.a,{value:\"pt\",control:o.a.createElement(Fn.a,null),label:\"Portugu\\xeas (BR)\"}),o.a.createElement(Ln.a,{value:\"en\",control:o.a.createElement(Fn.a,null),label:\"English\"}),o.a.createElement(Ln.a,{value:\"es\",control:o.a.createElement(Fn.a,null),label:\"Espa\\xf1ol\"})))},Bn=t(1525);const zn=Object(T.a)(e=>({root:{display:\"flex\",height:\"100vh\",[e.breakpoints.down(\"sm\")]:{height:\"calc(100vh - 56px)\"},backgroundColor:e.palette.fancyBackground,\"& .MuiButton-outlinedPrimary\":{color:(e.mode,\"#FFF\"),backgroundColor:\"light\"===e.mode?e.palette.primary.main:\"#1c1c1c\",borderRadius:\"8px\",transition:\"all 0.3s ease\",\"&:hover\":{transform:\"translateY(-2px)\",boxShadow:\"0 4px 8px rgba(0,0,0,0.1)\"}},\"& .MuiTab-textColorPrimary.Mui-selected\":{color:\"light\"===e.mode?e.palette.primary.main:\"#FFF\",fontWeight:600},\"& .MuiPaper-root\":{borderRadius:\"12px\",transition:\"box-shadow 0.3s ease\"}},avatar:{width:\"100%\"},toolbar:{paddingRight:24,color:e.palette.dark.main,background:e.palette.barraSuperior,boxShadow:\"0 4px 20px rgba(0,0,0,0.08)\",height:\"64px\",display:\"flex\",alignItems:\"center\"},toolbarIcon:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"0 8px\",minHeight:\"48px\",[e.breakpoints.down(\"sm\")]:{height:\"48px\"}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create([\"width\",\"margin\"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:\"calc(100% - \".concat(240,\"px)\"),transition:e.transitions.create([\"width\",\"margin\"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down(\"sm\")]:{display:\"none\"}},menuButton:{marginRight:36},menuButtonHidden:{display:\"none\"},title:{flexGrow:1,fontSize:14,color:\"white\"},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:240,transition:e.transitions.create(\"width\",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down(\"sm\")]:{width:\"100%\"},...e.scrollbarStylesSoft,backgroundColor:\"light\"===e.palette.mode?\"#ffffff\":\"#1c1c1c\",borderRight:\"1px solid \".concat(\"light\"===e.palette.mode?\"rgba(0,0,0,0.08)\":\"rgba(255,255,255,0.05)\"),boxShadow:\"light\"===e.palette.mode?\"4px 0 10px rgba(0,0,0,0.02)\":\"none\"},drawerPaperClose:{overflowX:\"hidden\",transition:e.transitions.create(\"width\",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up(\"sm\")]:{width:e.spacing(9)},[e.breakpoints.down(\"sm\")]:{width:\"100%\"}},appBarSpacer:{minHeight:\"48px\"},content:{flex:1,overflow:\"auto\"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\"},containerWithScroll:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles},NotificationsPopOver:{},logo:{width:\"80%\",height:\"auto\",maxWidth:180,[e.breakpoints.down(\"sm\")]:{width:\"auto\",height:\"80%\",maxWidth:180},logo:e.logo,transition:\"transform 0.3s ease\",\"&:hover\":{transform:\"scale(1.05)\"}}}));var Hn=e=>{var a,t,r,l;let{children:i,themeToggle:s}=e;const c=zn(),[d,m]=Object(n.useState)(!1),[u,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(!1),{handleLogout:h,loading:A}=Object(n.useContext)(ea),[y,x]=Object(n.useState)(!1),[C,w]=Object(n.useState)(\"permanent\"),{user:O}=Object(n.useContext)(ea),k=Object(j.a)(),{colorMode:T}=Object(n.useContext)(g),W=Object(p.a)(k.breakpoints.up(\"sm\")),[z,U]=Object(n.useState)(localStorage.getItem(\"volume\")||1),{dateToClient:Q}=In(),[G,Y]=Object(n.useState)(null),[X,_]=Object(n.useState)(!1),Z=Object(n.useContext)(v);Object(n.useEffect)(()=>{document.body.offsetWidth>1200&&x(!0)},[]),Object(n.useEffect)(()=>{document.body.offsetWidth<600?w(\"temporary\"):w(\"permanent\")},[y]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=localStorage.getItem(\"userId\"),t=Z.getSocket(e);t.on(\"company-\".concat(e,\"-auth\"),e=>{e.user.id===+a&&(Ue(\"Sua conta foi acessada em outro computador.\"),setTimeout(()=>{localStorage.clear(),window.location.reload()},1e3))}),t.emit(\"userStatus\");const n=setInterval(()=>{t.emit(\"userStatus\")},3e5);return()=>{t.disconnect(),clearInterval(n)}},[Z]);const J=()=>{b(null),f(!1)};return A?o.a.createElement(bn,null):o.a.createElement(\"div\",{className:c.root},o.a.createElement(I.a,{variant:C,className:y?c.drawerPaper:c.drawerPaperClose,classes:{paper:Object(S.a)(c.drawerPaper,!y&&c.drawerPaperClose)},open:y},o.a.createElement(\"div\",{className:c.toolbarIcon},o.a.createElement(\"img\",{src:jn.a,className:c.logo,alt:\"logo\"}),o.a.createElement(N.a,{onClick:()=>x(!y)},o.a.createElement(H.a,null))),o.a.createElement(M.a,null),o.a.createElement(P.a,{className:c.containerWithScroll},o.a.createElement(Oa,{drawerClose:()=>{document.body.offsetWidth<600&&x(!1)},collapsed:!y})),o.a.createElement(M.a,null)),o.a.createElement(un,{open:d,onClose:()=>m(!1),userId:null===O||void 0===O?void 0:O.id}),o.a.createElement(R.a,{position:\"absolute\",className:Object(S.a)(c.appBar,y&&c.appBarShift),color:\"primary\"},o.a.createElement(D.a,{variant:\"dense\",className:c.toolbar},o.a.createElement(N.a,{edge:\"start\",variant:\"contained\",\"aria-label\":\"open drawer\",onClick:()=>x(!y),className:Object(S.a)(c.menuButton,y&&c.menuButtonHidden)},o.a.createElement(B.a,null)),o.a.createElement(q.a,{component:\"h2\",variant:\"h6\",color:\"inherit\",noWrap:!0,className:c.title},W&&\"admin\"===(null===O||void 0===O?void 0:O.profile)&&(null===O||void 0===O||null===(a=O.company)||void 0===a?void 0:a.dueDate)?o.a.createElement(o.a.Fragment,null,We.a.t(\"mainDrawer.appBar.greeting.hello\"),\" \",o.a.createElement(\"b\",null,O.name),\", \",We.a.t(\"mainDrawer.appBar.greeting.welcome\"),\" \",o.a.createElement(\"b\",null,null===O||void 0===O||null===(t=O.company)||void 0===t?void 0:t.name),\"! (\",We.a.t(\"mainDrawer.appBar.greeting.active\"),\" \",Q(null===O||void 0===O||null===(r=O.company)||void 0===r?void 0:r.dueDate),\")\"):o.a.createElement(o.a.Fragment,null,We.a.t(\"mainDrawer.appBar.greeting.hello\"),\" \",o.a.createElement(\"b\",null,O.name),\", \",We.a.t(\"mainDrawer.appBar.greeting.welcome\"),\" \",o.a.createElement(\"b\",null,null===O||void 0===O||null===(l=O.company)||void 0===l?void 0:l.name),\"!\")),o.a.createElement(\"div\",null,o.a.createElement(N.a,{edge:\"start\"},o.a.createElement(Bn.a,{\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:e=>{Y(e.currentTarget),_(!0)},variant:\"contained\",style:{color:\"white\",marginRight:10}})),o.a.createElement(L.a,{id:\"menu-appbar-language\",anchorEl:G,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:X,onClose:()=>{Y(null),_(!1)}},o.a.createElement(F.a,null,o.a.createElement(Wn,null)))),o.a.createElement(N.a,{edge:\"start\",onClick:()=>{T.toggleColorMode()}},\"dark\"===k.mode?o.a.createElement(An.a,{style:{color:\"white\"}}):o.a.createElement(fn.a,{style:{color:\"white\"}})),o.a.createElement(en,{setVolume:U,volume:z}),o.a.createElement(N.a,{onClick:()=>{window.location.reload(!1)},\"aria-label\":We.a.t(\"mainDrawer.appBar.refresh\"),color:\"inherit\"},o.a.createElement(K.a,{style:{color:\"white\"}})),O.id&&o.a.createElement(Kt,{volume:z}),o.a.createElement(kn,null),o.a.createElement(Dn,null),o.a.createElement(\"div\",null,o.a.createElement(N.a,{\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:e=>{b(e.currentTarget),f(!0)},variant:\"contained\",style:{color:\"white\"}},o.a.createElement(V.a,null)),o.a.createElement(L.a,{id:\"menu-appbar\",anchorEl:u,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:E,onClose:J},o.a.createElement(F.a,{onClick:()=>{m(!0),J()}},We.a.t(\"mainDrawer.appBar.user.profile\")),o.a.createElement(F.a,{onClick:()=>{J(),h()}},We.a.t(\"mainDrawer.appBar.user.logout\")))))),o.a.createElement(\"main\",{className:c.content},o.a.createElement(\"div\",{className:c.appBarSpacer}),i||null))},Un=t(1543),Vn=t(920),Qn=t(843),Kn=t.n(Qn),Gn=t(845),Yn=t.n(Gn),Xn=t(844),_n=t.n(Xn),Zn=t(185),Jn=t.n(Zn),$n=t(846),eo=t.n($n),ao=t(847),to=t.n(ao),no=t(1529),oo=t(1531),ro=t(1527),lo=t(1528),io=t(1530),so=t(1526),co=t(554),mo=t(839),uo=t.n(mo),po=t(1628);const go=Object(T.a)(e=>({on:{color:Ra.a[600],fontSize:\"20px\"},off:{color:co.a[600],fontSize:\"20px\"},pointer:{cursor:\"pointer\"}}));function bo(e){let{rating:a}=e;const t=null===a?0:Math.trunc(a);return o.a.createElement(po.a,{defaultValue:t,max:3,readOnly:!0})}function Eo(e){const{loading:a,attendants:t}=e,n=go();return a?o.a.createElement(jt.a,{variant:\"rect\",height:150}):o.a.createElement(lo.a,{component:Cn.a},o.a.createElement(no.a,null,o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,null,We.a.t(\"dashboard.onlineTable.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"dashboard.onlineTable.ratings\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"dashboard.onlineTable.avgSupportTime\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"dashboard.onlineTable.status\")))),o.a.createElement(oo.a,null,t.map((e,a)=>{return o.a.createElement(so.a,{key:a},o.a.createElement(ro.a,null,e.name),o.a.createElement(ro.a,{align:\"center\",title:We.a.t(\"dashboard.onlineTable.ratingLabel\"),className:n.pointer},o.a.createElement(bo,{rating:e.rating})),o.a.createElement(ro.a,{align:\"center\"},(t=e.avgSupportTime,k()().startOf(\"day\").add(t,\"minutes\").format(\"HH[h] mm[m]\"))),o.a.createElement(ro.a,{align:\"center\"},e.online?o.a.createElement(Jn.a,{className:n.on}):o.a.createElement(uo.a,{className:n.off})));var t}))))}var fo=()=>({find:async e=>{const{data:a}=await Ye.request({url:\"/dashboard\",method:\"GET\",params:e});return a}});var ho=e=>{let{searchParam:a,pageNumber:t,date:o,dateStart:r,dateEnd:l}=e;const[i,s]=Object(n.useState)(!0),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(0);return Object(n.useEffect)(()=>{s(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/contacts\",{params:{searchParam:a,pageNumber:t,date:o,dateStart:r,dateEnd:l}});u(e.contacts),d(e.hasMore),g(e.count),s(!1)}catch(e){s(!1),Ue(e)}})()},500);return()=>clearTimeout(e)},[a,t,o,r,l]),{contacts:m,loading:i,hasMore:c,count:p}},Ao=t(67),yo=t(527),vo=t(910),xo=t(1596),Co=t(351),wo=t(841),So=t(1593),Oo=t(1601),ko=t(1610),To=t(1613);t(768);Object(T.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)}}));Ao.f.register(Ao.e,Ao.j,Ao.c,Ao.p,Ao.q,Ao.h,vo.a);const jo={responsive:!0,plugins:{legend:{position:\"top\",display:!1},title:{display:!0,text:We.a.t(\"dashboard.charts.user.label\"),position:\"left\"},datalabels:{display:!0,anchor:\"start\",offset:-30,align:\"start\",color:\"#fff\",textStrokeColor:\"#000\",textStrokeWidth:2,font:{size:20,weight:\"bold\"}}}},Io=()=>{const[e,a]=Object(n.useState)(new Date),[t,r]=Object(n.useState)(new Date),[l,i]=Object(n.useState)({data:[]}),s=localStorage.getItem(\"companyId\");Object(n.useEffect)(()=>{d()},[]);const c={labels:l&&(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map(e=>e.nome)),datasets:[{data:(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map((e,a)=>e.quantidade)),backgroundColor:\"#2DDD7F\"}]},d=async()=>{try{const{data:a}=await Ye.get(\"/dashboard/ticketsUsers?initialDate=\".concat(Object(ka.a)(e,\"yyyy-MM-dd\"),\"&finalDate=\").concat(Object(ka.a)(t,\"yyyy-MM-dd\"),\"&companyId=\").concat(s));i(a)}catch(a){w.b.error(We.a.t(\"dashboard.toasts.userChartError\"))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"h2\",variant:\"h6\",color:\"primary\",gutterBottom:!0},We.a.t(\"dashboard.charts.user.title\")),o.a.createElement(Oo.a,{direction:\"row\",spacing:2,alignItems:\"center\",sx:{my:2}},o.a.createElement(wo.a,{dateAdapter:xo.a,adapterLocale:Co.a},o.a.createElement(So.a,{value:e,onChange:e=>{a(e)},label:We.a.t(\"dashboard.charts.user.start\"),renderInput:e=>o.a.createElement(ko.a,Object.assign({fullWidth:!0},e,{sx:{width:\"20ch\"}}))})),o.a.createElement(wo.a,{dateAdapter:xo.a,adapterLocale:Co.a},o.a.createElement(So.a,{value:t,onChange:e=>{r(e)},label:We.a.t(\"dashboard.charts.user.end\"),renderInput:e=>o.a.createElement(ko.a,Object.assign({fullWidth:!0},e,{sx:{width:\"20ch\"}}))})),o.a.createElement(To.a,{className:\"buttonHover\",onClick:d,variant:\"contained\"},We.a.t(\"dashboard.charts.user.filter\"))),o.a.createElement(yo.a,{options:jo,data:c,style:{maxWidth:\"100%\",maxHeight:\"280px\"}}))};Ao.f.register(Ao.e,Ao.j,Ao.c,Ao.p,Ao.q,Ao.h);const No={responsive:!0,plugins:{legend:{position:\"top\",display:!1},title:{display:!0,text:We.a.t(\"dashboard.charts.date.label\"),position:\"left\"},datalabels:{display:!0,anchor:\"start\",offset:-30,align:\"start\",color:\"#fff\",textStrokeColor:\"#000\",textStrokeWidth:2,font:{size:20,weight:\"bold\"}}}},Mo=()=>{const[e,a]=Object(n.useState)(new Date),[t,r]=Object(n.useState)(new Date),[l,i]=Object(n.useState)({data:[],count:0}),s=localStorage.getItem(\"companyId\");Object(n.useEffect)(()=>{d()},[]);const c={labels:l&&(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map(e=>e.hasOwnProperty(\"horario\")?\"Das \".concat(e.horario,\":00 as \").concat(e.horario,\":59\"):e.data)),datasets:[{data:(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map((e,a)=>e.total)),backgroundColor:\"#2DDD7F\"}]},d=async()=>{try{const{data:a}=await Ye.get(\"/dashboard/ticketsDay?initialDate=\".concat(Object(ka.a)(e,\"yyyy-MM-dd\"),\"&finalDate=\").concat(Object(ka.a)(t,\"yyyy-MM-dd\"),\"&companyId=\").concat(s));i(a)}catch(a){w.b.error(We.a.t(\"dashboard.toasts.dateChartError\"))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"h2\",variant:\"h6\",color:\"primary\",gutterBottom:!0},We.a.t(\"dashboard.charts.date.title\"),\" (\",null===l||void 0===l?void 0:l.count,\")\"),o.a.createElement(Oo.a,{direction:\"row\",spacing:2,alignItems:\"center\",sx:{my:2}},o.a.createElement(wo.a,{dateAdapter:xo.a,adapterLocale:Co.a},o.a.createElement(So.a,{value:e,onChange:e=>{a(e)},label:We.a.t(\"dashboard.charts.date.start\"),renderInput:e=>o.a.createElement(ko.a,Object.assign({fullWidth:!0},e,{sx:{width:\"20ch\"}}))})),o.a.createElement(wo.a,{dateAdapter:xo.a,adapterLocale:Co.a},o.a.createElement(So.a,{value:t,onChange:e=>{r(e)},label:We.a.t(\"dashboard.charts.date.end\"),renderInput:e=>o.a.createElement(ko.a,Object.assign({fullWidth:!0},e,{sx:{width:\"20ch\"}}))})),o.a.createElement(To.a,{className:\"buttonHover\",onClick:d,variant:\"contained\"},We.a.t(\"dashboard.charts.date.filter\"))),o.a.createElement(yo.a,{options:No,data:c,style:{maxWidth:\"100%\",maxHeight:\"280px\"}}))},Po=Object(T.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)},fixedHeightPaper:{padding:e.spacing(2),display:\"flex\",flexDirection:\"column\",height:240,overflowY:\"auto\",...e.scrollbarStyles},cardAvatar:{fontSize:\"55px\",color:Da.a[500],backgroundColor:\"#ffffff\",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:\"18px\",color:qa.a[700]},cardSubtitle:{color:Da.a[600],fontSize:\"14px\"},alignRight:{textAlign:\"right\"},fullWidth:{width:\"100%\"},selectContainer:{width:\"100%\",textAlign:\"left\"},iframeDashboard:{width:\"100%\",height:\"calc(100vh - 64px)\",border:\"none\"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:240},customFixedHeightPaper:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:120},customFixedHeightPaperLg:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\"},card1:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card2:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card3:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card4:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card5:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card6:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card7:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card8:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},card9:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\",backgroundColor:\"dark\"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:\"#eee\"},fixedHeightPaper2:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\"}}));var Ro=()=>{const e=Po(),[a,t]=Object(n.useState)({}),[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)(0),[c,d]=Object(n.useState)(1),[m,u]=Object(n.useState)(k()(\"1\",\"D\").format(\"YYYY-MM-DD\")),[p,g]=Object(n.useState)(k()().format(\"YYYY-MM-DD\")),[b,E]=Object(n.useState)(!1),{find:f}=fo();async function h(){E(!0);let e={};if(i>0&&(e={days:i}),!Object(He.isEmpty)(m)&&k()(m).isValid()&&(e={...e,date_from:k()(m).format(\"YYYY-MM-DD\")}),!Object(He.isEmpty)(p)&&k()(p).isValid()&&(e={...e,date_to:k()(p).format(\"YYYY-MM-DD\")}),0===Object.keys(e).length)return w.b.error(We.a.t(\"dashboard.toasts.selectFilterError\")),void E(!1);const a=await f(e);t(a.counters),Object(He.isArray)(a.attendants)?l(a.attendants):l([]),E(!1)}function A(e){return k()().startOf(\"day\").add(e,\"minutes\").format(\"HH[h] mm[m]\")}Object(n.useEffect)(()=>{setTimeout(()=>{!async function(){await h()}()},1e3)},[]);return o.a.createElement(\"div\",null,o.a.createElement(Un.a,{maxWidth:\"lg\",className:e.container},o.a.createElement(Zt.a,{container:!0,spacing:3,justifyContent:\"flex-end\"},o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(Cn.a,{className:e.card1,style:{overflow:\"hidden\"},elevation:4},o.a.createElement(Zt.a,{container:!0,spacing:3},o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(q.a,{component:\"h3\",variant:\"h6\",paragraph:!0},We.a.t(\"dashboard.counters.inTalk\")),o.a.createElement(Zt.a,{item:!0},o.a.createElement(q.a,{component:\"h1\",variant:\"h4\"},a.supportHappening))),o.a.createElement(Zt.a,{item:!0,xs:2},o.a.createElement(Kn.a,{style:{fontSize:100,color:\"#FFFFFF\"}}))))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(Cn.a,{className:e.card2,style:{overflow:\"hidden\"},elevation:6},o.a.createElement(Zt.a,{container:!0,spacing:3},o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(q.a,{component:\"h3\",variant:\"h6\",paragraph:!0},We.a.t(\"dashboard.counters.waiting\")),o.a.createElement(Zt.a,{item:!0},o.a.createElement(q.a,{component:\"h1\",variant:\"h4\"},a.supportPending))),o.a.createElement(Zt.a,{item:!0,xs:4},o.a.createElement(_n.a,{style:{fontSize:100,color:\"#FFFFFF\"}}))))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(Cn.a,{className:e.card3,style:{overflow:\"hidden\"},elevation:6},o.a.createElement(Zt.a,{container:!0,spacing:3},o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(q.a,{component:\"h3\",variant:\"h6\",paragraph:!0},We.a.t(\"dashboard.counters.finished\")),o.a.createElement(Zt.a,{item:!0},o.a.createElement(q.a,{component:\"h1\",variant:\"h4\"},a.supportFinished))),o.a.createElement(Zt.a,{item:!0,xs:4},o.a.createElement(Jn.a,{style:{fontSize:100,color:\"#FFFFFF\"}}))))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(Cn.a,{className:e.card4,style:{overflow:\"hidden\"},elevation:6},o.a.createElement(Zt.a,{container:!0,spacing:3},o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(q.a,{component:\"h3\",variant:\"h6\",paragraph:!0},We.a.t(\"dashboard.counters.newContacts\")),o.a.createElement(Zt.a,{item:!0},o.a.createElement(q.a,{component:\"h1\",variant:\"h4\"},(e=>{let a={};e&&(a={});const{count:t}=ho(a);return t})(!0)))),o.a.createElement(Zt.a,{item:!0,xs:4},o.a.createElement(Yn.a,{style:{fontSize:100,color:\"#FFFFFF\"}}))))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(Cn.a,{className:e.card8,style:{overflow:\"hidden\"},elevation:6},o.a.createElement(Zt.a,{container:!0,spacing:3},o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(q.a,{component:\"h3\",variant:\"h6\",paragraph:!0},We.a.t(\"dashboard.counters.averageTalkTime\")),o.a.createElement(Zt.a,{item:!0},o.a.createElement(q.a,{component:\"h1\",variant:\"h4\"},A(a.avgSupportTime)))),o.a.createElement(Zt.a,{item:!0,xs:4},o.a.createElement(eo.a,{style:{fontSize:100,color:\"#FFFFFF\"}}))))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(Cn.a,{className:e.card9,style:{overflow:\"hidden\"},elevation:6},o.a.createElement(Zt.a,{container:!0,spacing:3},o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(q.a,{component:\"h3\",variant:\"h6\",paragraph:!0},We.a.t(\"dashboard.counters.averageWaitTime\")),o.a.createElement(Zt.a,{item:!0},o.a.createElement(q.a,{component:\"h1\",variant:\"h4\"},A(a.avgWaitTime)))),o.a.createElement(Zt.a,{item:!0,xs:4},o.a.createElement(to.a,{style:{fontSize:100,color:\"#FFFFFF\"}}))))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(rn.a,{className:e.selectContainer},o.a.createElement(on.a,{id:\"period-selector-label\"},We.a.t(\"dashboard.filters.filterType.title\")),o.a.createElement(nn.a,{labelId:\"period-selector-label\",value:c,onChange:e=>async function(e){d(e),1===e?s(0):(u(\"\"),g(\"\"))}(e.target.value)},o.a.createElement(F.a,{value:1},We.a.t(\"dashboard.filters.filterType.options.perDate\")),o.a.createElement(F.a,{value:2},We.a.t(\"dashboard.filters.filterType.options.perPeriod\"))),o.a.createElement(Vn.a,null,We.a.t(\"dashboard.filters.filterType.helper\")))),1===c?o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(sa.a,{label:We.a.t(\"dashboard.filters.initialDate\"),type:\"date\",value:m,onChange:e=>u(e.target.value),className:e.fullWidth,InputLabelProps:{shrink:!0}})),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(sa.a,{label:We.a.t(\"dashboard.filters.finalDate\"),type:\"date\",value:p,onChange:e=>g(e.target.value),className:e.fullWidth,InputLabelProps:{shrink:!0}}))):o.a.createElement(Zt.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(rn.a,{className:e.selectContainer},o.a.createElement(on.a,{id:\"period-selector-label\"},We.a.t(\"dashboard.periodSelect.title\")),o.a.createElement(nn.a,{labelId:\"period-selector-label\",id:\"period-selector\",value:i,onChange:e=>async function(e){s(e)}(e.target.value)},o.a.createElement(F.a,{value:0},We.a.t(\"dashboard.periodSelect.options.none\")),o.a.createElement(F.a,{value:3},We.a.t(\"dashboard.periodSelect.options.last3\")),o.a.createElement(F.a,{value:7},We.a.t(\"dashboard.periodSelect.options.last7\")),o.a.createElement(F.a,{value:15},We.a.t(\"dashboard.periodSelect.options.last15\")),o.a.createElement(F.a,{value:30},We.a.t(\"dashboard.periodSelect.options.last30\")),o.a.createElement(F.a,{value:60},We.a.t(\"dashboard.periodSelect.options.last60\")),o.a.createElement(F.a,{value:90},We.a.t(\"dashboard.periodSelect.options.last90\"))),o.a.createElement(Vn.a,null,We.a.t(\"dashboard.periodSelect.helper\")))),o.a.createElement(Zt.a,{item:!0,xs:12,className:e.alignRight},o.a.createElement(Ha,{loading:b,onClick:()=>h(),variant:\"contained\",color:\"primary\"},We.a.t(\"dashboard.buttons.filter\"))),o.a.createElement(Zt.a,{item:!0,xs:12},r.length?o.a.createElement(Eo,{attendants:r,loading:b}):null),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Cn.a,{className:e.fixedHeightPaper2},o.a.createElement(Io,null))),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Cn.a,{className:e.fixedHeightPaper2},o.a.createElement(Mo,null))))))},Do=t(1548),qo=t(78),Lo=t.n(qo),Fo=t(927),Wo=t(1595),Bo=t(1545),zo=t(848),Ho=t.n(zo),Uo=t(849),Vo=t.n(Uo),Qo=t(1546),Ko=t(1544),Go=t(1617),Yo=t(47),Xo=t.n(Yo),_o=t(528),Zo=t.n(_o);const Jo=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}})),$o=an.b().shape({name:an.d().min(2,We.a.t(\"contactModal.formErrors.name.short\")).max(50,We.a.t(\"contactModal.formErrors.name.long\")).required(We.a.t(\"contactModal.formErrors.name.required\")),number:an.d().min(8,We.a.t(\"contactModal.formErrors.phone.short\")).max(50,We.a.t(\"contactModal.formErrors.phone.long\")),email:an.d().email(We.a.t(\"contactModal.formErrors.email.invalid\"))});var er=e=>{let{open:a,onClose:t,contactId:r,initialValues:l,onSave:i}=e;const s=Jo(),c=Object(n.useRef)(!0),d={name:\"\",number:\"\",email:\"\"},[m,u]=Object(n.useState)(d);Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(l&&u(e=>({...e,...l})),r)try{const{data:e}=await Ye.get(\"/contacts/\".concat(r));c.current&&(console.log(e),u({...e,number:e.number}))}catch(e){Ue(e)}})()},[r,a,l]);const p=()=>{t(),u(d)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:a,onClose:p,maxWidth:\"lg\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"contactModal.title.edit\"):We.a.t(\"contactModal.title.add\"))),o.a.createElement(tn.e,{initialValues:m,enableReinitialize:!0,validationSchema:$o,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(r)await Ye.put(\"/contacts/\".concat(r),e),p();else{const{data:a}=await Ye.post(\"/contacts\",e);i&&i(a),p()}w.b.success(We.a.t(\"contactModal.success\"))}catch(a){Ue(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(q.a,{variant:\"subtitle1\",gutterBottom:!0},We.a.t(\"contactModal.form.mainInfo\")),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.name\"),name:\"name\",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:\"outlined\",margin:\"dense\",className:s.textField}),o.a.createElement(tn.b,{as:sa.a,name:\"number\",label:We.a.t(\"contactModal.form.number\"),error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:\"\",variant:\"outlined\",margin:\"dense\"}),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.email\"),name:\"email\",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:\"Email address\",fullWidth:!0,margin:\"dense\",variant:\"outlined\"})),o.a.createElement(q.a,{style:{marginBottom:8,marginTop:12},variant:\"subtitle1\"},We.a.t(\"contactModal.form.whatsapp\"),\" \",(null===m||void 0===m?void 0:m.whatsapp)?null===m||void 0===m?void 0:m.whatsapp.name:\"\"),o.a.createElement(q.a,{style:{marginBottom:8,marginTop:12},variant:\"subtitle1\"},We.a.t(\"contactModal.form.extraInfo\")),o.a.createElement(tn.c,{name:\"extraInfo\"},e=>{let{push:t,remove:n}=e;return o.a.createElement(o.a.Fragment,null,a.extraInfo&&a.extraInfo.length>0&&a.extraInfo.map((e,a)=>o.a.createElement(\"div\",{className:s.extraAttr,key:\"\".concat(a,\"-info\")},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.extraName\"),name:\"extraInfo[\".concat(a,\"].name\"),variant:\"outlined\",margin:\"dense\",className:s.textField}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.extraValue\"),name:\"extraInfo[\".concat(a,\"].value\"),variant:\"outlined\",margin:\"dense\",className:s.textField}),o.a.createElement(N.a,{size:\"small\",onClick:()=>n(a)},o.a.createElement(Xo.a,null)))),o.a.createElement(\"div\",{className:s.extraAttr},o.a.createElement(ca.a,{style:{flex:1,marginTop:8},variant:\"outlined\",color:\"primary\",onClick:()=>t({name:\"\",value:\"\"})},\"+ \".concat(We.a.t(\"contactModal.buttons.addExtraInfo\")))))})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:p,color:\"secondary\",disabled:l,variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:l,variant:\"contained\",className:s.btnWrapper},\"\".concat(r?We.a.t(\"contactModal.buttons.okEdit\"):We.a.t(\"contactModal.buttons.okAdd\")),l&&o.a.createElement(Ba.a,{size:24,className:s.buttonProgress}))))})))};const ar=Object(T.a)(e=>({online:{fontSize:11,color:\"#25d366\"},offline:{fontSize:11,color:\"#e1306c\"}})),tr=Object(Ko.a)({trim:!0});var nr=e=>{let{modalOpen:a,onClose:t,initialContact:r}=e;const l=ar(),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(\"\"),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(\"\"),[f,h]=Object(n.useState)(\"\"),[A,y]=Object(n.useState)({}),[v,x]=Object(n.useState)([]),[C,S]=Object(n.useState)([]),[O,k]=Object(n.useState)(!1),{user:T}=Object(n.useContext)(ea),{companyId:j,whatsappId:I}=T,[N,M]=Object(n.useState)(!1),[P,R]=Object(n.useState)(\"\"),[D,L]=Object(n.useState)(\"\");Object(n.useEffect)(()=>{void 0!==(null===r||void 0===r?void 0:r.id)&&(s([r]),g(r))},[r]),Object(n.useEffect)(()=>{d(!0);const e=setTimeout(()=>{null!==I&&void 0!==I&&h(I);(async()=>{if(\"admin\"!==T.profile)return S(T.queues),void(1===T.queues.length&&E(T.queues[0].id));try{const{data:e}=await Ye.get(\"/queue\");S(e),1===e.length&&E(e[0].id)}catch(e){Ue(We.a.t(\"newTicketModal.searchQueueError\"))}})(),(async()=>{Ye.get(\"/whatsapp\",{params:{companyId:j,session:0}}).then(e=>{let{data:a}=e;return x(a)})})(),d(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{if(!a||m.length<3)return void d(!1);d(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"contacts\",{params:{searchParam:m}});s(e.contacts),d(!1)}catch(e){d(!1),Ue(e)}})()},500);return()=>clearTimeout(e)},[m,a]);const W=()=>{t(),u(\"\"),M(!1),R(\"\"),L(\"\"),g(null)},B=async e=>{if(e)if(\"\"!==b||\"admin\"===T.profile){d(!0);try{const a=\"\"!==b?b:null,n=\"\"!==f?f:null,{data:o}=await Ye.post(\"/tickets\",{contactId:e,queueId:a,whatsappId:n,userId:T.id,status:\"open\"});t(o)}catch(a){console.log(a);const e=a.response.data.error;console.log(e),\"ERR_OTHER_OPEN_TICKET\"===e&&Ue(a),\"ERR_OTHER_OPEN_TICKET\"!==e&&e.userId!==(null===T||void 0===T?void 0:T.id)?(M(!0),R(e.user.name),L(e.queue.name)):(M(!1),R(\"\"),L(\"\"),d(!1),t(e))}d(!1)}else w.b.error(We.a.t(\"newTicketModal.selectQueue\"))},z=(e,a)=>{const t=tr(e,a);return\"\"!==a.inputValue&&!c&&m.length>=3&&t.push({name:\"\".concat(a.inputValue)}),t},H=e=>e.number?o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"span\",style:{fontSize:14,marginLeft:\"10px\",display:\"inline-flex\",alignItems:\"center\",lineHeight:\"2\"}},e.name,\" - \",e.number)):\"\".concat(We.a.t(\"newTicketModal.add\"),\" \").concat(e.name),U=e=>e.number?\"\".concat(e.name,\" - \").concat(e.number):\"\".concat(e.name);return o.a.createElement(o.a.Fragment,null,o.a.createElement(er,{open:O,initialValues:A,onClose:()=>{k(!1)},onSave:e=>{B(e.id)}}),o.a.createElement(tt.a,{open:a,onClose:W},o.a.createElement(gt.a,{id:\"form-dialog-title\"},We.a.t(\"newTicketModal.title\")),o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Zt.a,{style:{width:300},container:!0,spacing:2},void 0===r||void 0===r.id?o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Go.a,{fullWidth:!0,options:i,loading:c,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:U,renderOption:H,filterOptions:z,onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?g(a):(null===a||void 0===a?void 0:a.name)&&(y({name:a.name}),k(!0))})(0,a),renderInput:e=>o.a.createElement(sa.a,Object.assign({},e,{label:We.a.t(\"newTicketModal.fieldLabel\"),variant:\"outlined\",autoFocus:!0,onChange:e=>u(e.target.value),onKeyPress:e=>{!c&&p&&\"Enter\"===e.key&&B(p.id)},InputProps:{...e.InputProps,endAdornment:o.a.createElement(o.a.Fragment,null,c?o.a.createElement(Ba.a,{color:\"inherit\",size:20}):null,e.InputProps.endAdornment)}}))})):null,o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(nn.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:\"outlined\",value:b,onChange:e=>{E(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:()=>{if(\"\"===b)return We.a.t(\"newTicketModal.selectQueue\");return C.find(e=>e.id===b).name}},(null===C||void 0===C?void 0:C.length)>0&&C.map((e,a)=>o.a.createElement(F.a,{dense:!0,key:a,value:e.id},o.a.createElement(X.a,{primary:e.name}))))),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(nn.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:\"outlined\",value:f,onChange:e=>{h(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:()=>{if(\"\"===f)return We.a.t(\"newTicketModal.selectConection\");return v.find(e=>e.id===f).name}},(null===v||void 0===v?void 0:v.length)>0&&v.map((e,a)=>o.a.createElement(F.a,{dense:!0,key:a,value:e.id},o.a.createElement(X.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"span\",style:{fontSize:14,marginLeft:\"10px\",display:\"inline-flex\",alignItems:\"center\",lineHeight:\"2\"}},e.name,\" \\xa0 \",o.a.createElement(\"p\",{className:\"CONNECTED\"===e.status?l.online:l.offline},\"(\",e.status,\")\")))}))))))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:W,color:\"secondary\",disabled:c,variant:\"outlined\"},We.a.t(\"newTicketModal.buttons.cancel\")),o.a.createElement(Ha,{variant:\"contained\",type:\"button\",disabled:!p,onClick:()=>B(p.id),color:\"primary\",loading:c},We.a.t(\"newTicketModal.buttons.ok\")))))};var or=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{dense:!0},o.a.createElement(La.a,null,o.a.createElement(jt.a,{animation:\"wave\",variant:\"circle\",width:40,height:40})),o.a.createElement(X.a,{primary:o.a.createElement(jt.a,{animation:\"wave\",height:20,width:60}),secondary:o.a.createElement(jt.a,{animation:\"wave\",height:20,width:90})})),o.a.createElement(M.a,{variant:\"inset\"}),o.a.createElement(G.a,{dense:!0},o.a.createElement(La.a,null,o.a.createElement(jt.a,{animation:\"wave\",variant:\"circle\",width:40,height:40})),o.a.createElement(X.a,{primary:o.a.createElement(jt.a,{animation:\"wave\",height:20,width:70}),secondary:o.a.createElement(jt.a,{animation:\"wave\",height:20,width:120})})),o.a.createElement(M.a,{variant:\"inset\"}),o.a.createElement(G.a,{dense:!0},o.a.createElement(La.a,null,o.a.createElement(jt.a,{animation:\"wave\",variant:\"circle\",width:40,height:40})),o.a.createElement(X.a,{primary:o.a.createElement(jt.a,{animation:\"wave\",height:20,width:60}),secondary:o.a.createElement(jt.a,{animation:\"wave\",height:20,width:90})})),o.a.createElement(M.a,{variant:\"inset\"}));const rr=Object(T.a)(e=>({ticketsListWrapper:{position:\"relative\",display:\"flex\",height:\"100%\",flexDirection:\"column\",overflow:\"hidden\",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:{flex:1,maxHeight:\"100%\",overflowY:\"scroll\",...e.scrollbarStyles,borderTop:\"2px solid rgba(0, 0, 0, 0.12)\"},ticketsListHeader:{color:\"rgb(67, 83, 105)\",zIndex:2,backgroundColor:\"white\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\"},ticketsCount:{fontWeight:\"normal\",color:\"rgb(104, 121, 146)\",marginLeft:\"8px\",fontSize:\"14px\"},noTicketsText:{textAlign:\"center\",color:\"rgb(104, 121, 146)\",fontSize:\"14px\",lineHeight:\"1.4\"},noTicketsTitle:{textAlign:\"center\",fontSize:\"16px\",fontWeight:\"600\",margin:\"0px\"},noTicketsDiv:{display:\"flex\",height:\"100px\",margin:40,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"}})),lr=(e,a)=>{if(\"LOAD_TICKETS\"===a.type){return a.payload.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?(e[t]=a,a.unreadMessages>0&&e.unshift(e.splice(t,1)[0])):e.push(a)}),[...e]}if(\"RESET_UNREAD\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&(e[n].unreadMessages=0),[...e]}if(\"UPDATE_TICKET\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.unshift(t),[...e]}if(\"UPDATE_TICKET_UNREAD_MESSAGES\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,e.unshift(e.splice(n,1)[0])):e.unshift(t),[...e]}if(\"UPDATE_TICKET_CONTACT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.contactId===t.id);return-1!==n&&(e[n].contact=t),[...e]}if(\"DELETE_TICKET\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]};var ir=e=>{const{status:a,searchParam:t,tags:r,users:l,showAll:i,selectedQueueIds:s,updateCount:c,style:d}=e,m=rr(),[u,p]=Object(n.useState)(1),[g,b]=Object(n.useReducer)(lr,[]),{user:E}=Object(n.useContext)(ea),{profile:f,queues:h}=E,A=Object(n.useContext)(v);Object(n.useEffect)(()=>{b({type:\"RESET\"}),p(1)},[a,t,b,i,r,l,s]);const{tickets:y,hasMore:x,loading:C}=Ht({pageNumber:u,searchParam:t,status:a,showAll:i,tags:JSON.stringify(r),users:JSON.stringify(l),queueIds:JSON.stringify(s)});Object(n.useEffect)(()=>{const e=h.map(e=>e.id),a=y.filter(a=>e.indexOf(a.queueId)>-1);b(\"user\"===f?{type:\"LOAD_TICKETS\",payload:a}:{type:\"LOAD_TICKETS\",payload:y})},[y,a,t,h,f]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),t=A.getSocket(e),n=e=>(!e.userId||e.userId===(null===E||void 0===E?void 0:E.id)||i)&&(!e.queueId||s.indexOf(e.queueId)>-1);return t.on(\"ready\",()=>{a?t.emit(\"joinTickets\",a):t.emit(\"joinNotification\")}),t.on(\"company-\".concat(e,\"-ticket\"),e=>{var t;\"updateUnread\"===e.action&&b({type:\"RESET_UNREAD\",payload:e.ticketId}),\"update\"===e.action&&n(e.ticket)&&e.ticket.status===a&&b({type:\"UPDATE_TICKET\",payload:e.ticket}),\"update\"===e.action&&((t=e.ticket).queueId&&-1===s.indexOf(t.queueId))&&b({type:\"DELETE_TICKET\",payload:e.ticket.id}),\"delete\"===e.action&&b({type:\"DELETE_TICKET\",payload:e.ticketId})}),t.on(\"company-\".concat(e,\"-appMessage\"),e=>{var t,o;const r=h.map(e=>e.id);(\"user\"!==f||-1!==r.indexOf(null===(t=e.ticket)||void 0===t||null===(o=t.queue)||void 0===o?void 0:o.id)&&null!==e.ticket.queue)&&(\"create\"!==e.action||!n(e.ticket)||void 0!==a&&e.ticket.status!==a||b({type:\"UPDATE_TICKET_UNREAD_MESSAGES\",payload:e.ticket}))}),t.on(\"company-\".concat(e,\"-contact\"),e=>{\"update\"===e.action&&b({type:\"UPDATE_TICKET_CONTACT\",payload:e.contact})}),()=>{t.disconnect()}},[a,i,E,s,r,l,f,h,A]),Object(n.useEffect)(()=>{\"function\"===typeof c&&c(g.length)},[g]);return o.a.createElement(Cn.a,{className:m.ticketsListWrapper,style:d},o.a.createElement(Cn.a,{square:!0,name:\"closed\",elevation:0,className:m.ticketsList,onScroll:e=>{if(!x||C)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&p(e=>e+1)}},o.a.createElement(P.a,{style:{paddingTop:0}},0!==g.length||C?o.a.createElement(o.a.Fragment,null,g.map(e=>o.a.createElement(zt,{ticket:e,key:e.id}))):o.a.createElement(\"div\",{className:m.noTicketsDiv},o.a.createElement(\"span\",{className:m.noTicketsTitle},We.a.t(\"ticketsList.noTicketsTitle\")),o.a.createElement(\"p\",{className:m.noTicketsText},We.a.t(\"ticketsList.noTicketsMessage\"))),C&&o.a.createElement(or,null))))};const sr=Object(T.a)(e=>({tabPanel:{padding:e.spacing(2),transition:\"all 0.3s ease-in-out\",animation:\"$fadeIn 0.3s ease-in-out\",backgroundColor:\"light\"===e.palette.mode?\"#ffffff\":\"#1e1e1e\",borderRadius:\"0 0 12px 12px\",boxShadow:\"light\"===e.palette.mode?\"0 2px 10px rgba(0,0,0,0.03)\":\"0 2px 10px rgba(0,0,0,0.1)\",height:\"100%\",overflow:\"auto\"},\"@keyframes fadeIn\":{\"0%\":{opacity:0,transform:\"translateY(10px)\"},\"100%\":{opacity:1,transform:\"translateY(0)\"}}}));var cr=e=>{let{children:a,value:t,name:n,...r}=e;const l=sr();return t===n?o.a.createElement(Wa.a,Object.assign({role:\"tabpanel\",id:\"simple-tabpanel-\".concat(n),\"aria-labelledby\":\"simple-tab-\".concat(n),className:l.tabPanel},r),a):null},dr=t(1608);var mr=e=>{let{userQueues:a,selectedQueueIds:t=[],onChange:n}=e;return o.a.createElement(\"div\",{style:{width:120,marginTop:-4}},o.a.createElement(rn.a,{fullWidth:!0,margin:\"dense\"},o.a.createElement(nn.a,{multiple:!0,displayEmpty:!0,variant:\"outlined\",value:t,onChange:e=>{n(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:()=>We.a.t(\"ticketsQueueSelect.placeholder\")},(null===a||void 0===a?void 0:a.length)>0&&a.map(e=>o.a.createElement(F.a,{dense:!0,key:e.id,value:e.id},o.a.createElement(dr.a,{style:{color:e.color},size:\"small\",color:\"primary\",checked:t.indexOf(e.id)>-1}),o.a.createElement(X.a,{primary:e.name}))))))};function ur(e){let{onFiltered:a}=e;const[t,r]=Object(n.useState)([]),[l,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await s()}()},[]);const s=async()=>{try{const{data:e}=await Ye.get(\"/tags/list\");r(e)}catch(e){Ue(e)}};return o.a.createElement(Wa.a,{style:{padding:10}},o.a.createElement(Go.a,{multiple:!0,size:\"small\",options:t,value:l,onChange:(e,t,n)=>(async e=>{i(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(ln.a,Object.assign({variant:\"outlined\",style:{backgroundColor:e.color||\"#eee\",textShadow:\"1px 1px 1px #000\",color:\"white\"},label:e.name},a({index:t}),{size:\"small\"}))),renderInput:e=>o.a.createElement(sa.a,Object.assign({},e,{variant:\"outlined\",placeholder:We.a.t(\"tickets.filters.tags\")}))}))}function pr(e){let{onFiltered:a,initialUsers:t}=e;const[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{s([]),Array.isArray(t)&&Array.isArray(r)&&r.length>0&&d(t)},[t,r]);const c=async()=>{try{const{data:e}=await Ye.get(\"/users/list\"),a=e.map(e=>({id:e.id,name:e.name}));l(a)}catch(e){Ue(e)}},d=async e=>{s(e),a(e)};return o.a.createElement(Wa.a,{style:{padding:\"0px 10px 10px\"}},o.a.createElement(Go.a,{multiple:!0,size:\"small\",options:r,value:i,onChange:(e,a,t)=>d(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(ln.a,Object.assign({variant:\"outlined\",style:{backgroundColor:\"#bfbfbf\",textShadow:\"1px 1px 1px #000\",color:\"white\"},label:e.name},a({index:t}),{size:\"small\"}))),renderInput:e=>o.a.createElement(sa.a,Object.assign({},e,{variant:\"outlined\",placeholder:We.a.t(\"tickets.filters.user\")}))}))}const gr=Object(T.a)(e=>({ticketsWrapper:{position:\"relative\",display:\"flex\",height:\"100%\",flexDirection:\"column\",overflow:\"hidden\",borderTopRightRadius:0,borderBottomRightRadius:0,borderRadius:0},tabsHeader:{flex:\"none\",backgroundColor:e.palette.tabHeaderBackground},tabsInternal:{flex:\"none\",backgroundColor:e.palette.tabHeaderBackground},settingsIcon:{alignSelf:\"center\",marginLeft:\"auto\",padding:8},tab:{minWidth:120,width:120},internalTab:{minWidth:120,width:120,padding:5},ticketOptionsBox:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",background:e.palette.optionsBackground,padding:e.spacing(1)},ticketSearchLine:{padding:e.spacing(1)},serachInputWrapper:{flex:1,background:e.palette.total,display:\"flex\",borderRadius:40,padding:4,marginRight:e.spacing(1)},searchIcon:{color:\"grey\",marginLeft:6,marginRight:6,alignSelf:\"center\"},searchInput:{flex:1,border:\"none\",borderRadius:30},insiderTabPanel:{height:\"100%\",marginTop:\"-72px\",paddingTop:\"72px\"},insiderDoubleTabPanel:{display:\"flex\",flexDirection:\"column\",marginTop:\"-72px\",paddingTop:\"72px\",height:\"100%\"},labelContainer:{width:\"auto\",padding:0},iconLabelWrapper:{flexDirection:\"row\",\"& > *:first-child\":{marginBottom:\"3px !important\",marginRight:16}},insiderTabLabel:{[e.breakpoints.down(1600)]:{display:\"none\"}},smallFormControl:{\"& .MuiOutlinedInput-input\":{padding:\"12px 10px\"},\"& .MuiInputLabel-outlined\":{marginTop:\"-6px\"}}}));var br=()=>{const e=gr(),a=Object(C.useHistory)(),[t,r]=Object(n.useState)(\"\"),[l,i]=Object(n.useState)(\"open\"),[s,c]=Object(n.useState)(\"open\"),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),g=Object(n.useRef)(),{user:b}=Object(n.useContext)(ea),{profile:E}=b,[f,h]=Object(n.useState)(0),[A,y]=Object(n.useState)(0),v=b.queues.map(e=>e.id),[x,w]=Object(n.useState)(v||[]),[S,O]=Object(n.useState)([]),[k,T]=Object(n.useState)([]);let j;Object(n.useEffect)(()=>{\"ADMIN\"===b.profile.toUpperCase()&&p(!0)},[]),Object(n.useEffect)(()=>{\"search\"===l&&g.current.focus()},[l]);const I=e=>{if(s!==e)return{width:0,height:0}};return o.a.createElement(Cn.a,{elevation:0,variant:\"outlined\",className:e.ticketsWrapper},o.a.createElement(nr,{modalOpen:d,onClose:e=>{(e=>{m(!1),void 0!==e&&void 0!==e.uuid&&a.push(\"/tickets/\".concat(e.uuid))})(e)}}),o.a.createElement(Cn.a,{elevation:0,square:!0,className:e.tabsHeader},o.a.createElement(Wo.a,{value:l,onChange:(e,a)=>{i(a)},variant:\"fullWidth\",indicatorColor:\"primary\",textColor:\"primary\",\"aria-label\":\"icon label tabs example\"},o.a.createElement(Bo.a,{value:\"open\",icon:o.a.createElement(Ho.a,null),label:We.a.t(\"tickets.tabs.open.title\"),classes:{root:e.tab}}),o.a.createElement(Bo.a,{value:\"closed\",icon:o.a.createElement(Vo.a,null),label:We.a.t(\"tickets.tabs.closed.title\"),classes:{root:e.tab}}),o.a.createElement(Bo.a,{value:\"search\",icon:o.a.createElement(Lo.a,null),label:We.a.t(\"tickets.tabs.search.title\"),classes:{root:e.tab}}))),o.a.createElement(Cn.a,{square:!0,elevation:0,className:e.ticketOptionsBox},\"search\"===l?o.a.createElement(\"div\",{className:e.serachInputWrapper},o.a.createElement(Lo.a,{className:e.searchIcon}),o.a.createElement(Fo.a,{className:e.searchInput,inputRef:g,placeholder:We.a.t(\"tickets.search.placeholder\"),type:\"search\",onChange:e=>{const a=e.target.value.toLowerCase();if(clearTimeout(j),\"\"===a)return r(a),void i(\"open\");j=setTimeout(()=>{r(a)},500)}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,{variant:\"outlined\",color:\"primary\",onClick:()=>m(!0)},We.a.t(\"ticketsManager.buttons.newTicket\")),o.a.createElement(na,{role:b.profile,perform:\"tickets-manager:showall\",yes:()=>o.a.createElement(Ln.a,{label:We.a.t(\"tickets.buttons.showAll\"),labelPlacement:\"start\",control:o.a.createElement(Qo.a,{size:\"small\",checked:u,onChange:()=>p(e=>!e),name:\"showAllTickets\",color:\"primary\"})})})),o.a.createElement(mr,{style:{marginLeft:6},selectedQueueIds:x,userQueues:null===b||void 0===b?void 0:b.queues,onChange:e=>w(e)})),o.a.createElement(cr,{value:l,name:\"open\",className:e.ticketsWrapper},o.a.createElement(Wo.a,{value:s,onChange:(e,a)=>{c(a)},indicatorColor:\"primary\",textColor:\"primary\",variant:\"fullWidth\"},o.a.createElement(Bo.a,{label:o.a.createElement(Z.a,{className:e.badge,badgeContent:f,color:\"primary\"},We.a.t(\"ticketsList.assignedHeader\")),value:\"open\"}),o.a.createElement(Bo.a,{label:o.a.createElement(Z.a,{className:e.badge,badgeContent:A,color:\"secondary\"},We.a.t(\"ticketsList.pendingHeader\")),value:\"pending\"})),o.a.createElement(Cn.a,{className:e.ticketsWrapper},o.a.createElement(ir,{status:\"open\",showAll:u,selectedQueueIds:x,updateCount:e=>h(e),style:I(\"open\")}),o.a.createElement(ir,{status:\"pending\",selectedQueueIds:x,updateCount:e=>y(e),style:I(\"pending\")}))),o.a.createElement(cr,{value:l,name:\"closed\",className:e.ticketsWrapper},o.a.createElement(ir,{status:\"closed\",showAll:!0,selectedQueueIds:x})),o.a.createElement(cr,{value:l,name:\"search\",className:e.ticketsWrapper},o.a.createElement(ur,{onFiltered:e=>{const a=e.map(e=>e.id);O(a)}}),\"admin\"===E&&o.a.createElement(pr,{onFiltered:e=>{const a=e.map(e=>e.id);T(a)}}),o.a.createElement(ir,{searchParam:t,showAll:!0,tags:S,users:k,selectedQueueIds:x})))},Er=t(850),fr=t.n(Er),hr=t(1547),Ar=t(851),yr=t.n(Ar);var vr=e=>{let{classes:a}=e;return o.a.createElement(\"div\",{className:a.content},o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:a.contactHeader},o.a.createElement(Zt.a,{container:!0},o.a.createElement(Zt.a,{item:!0},o.a.createElement(jt.a,{animation:\"wave\",variant:\"circle\",width:60,height:60,className:a.contactAvatar})),o.a.createElement(Zt.a,{item:!0},o.a.createElement(jt.a,{animation:\"wave\",height:25,width:90}),o.a.createElement(jt.a,{animation:\"wave\",height:25,width:80}),o.a.createElement(jt.a,{animation:\"wave\",height:25,width:80})))),o.a.createElement(Cn.a,{square:!0,className:a.contactDetails},o.a.createElement(q.a,{variant:\"subtitle1\"},We.a.t(\"contactDrawer.extraInfo\")),o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:a.contactExtraInfo},o.a.createElement(jt.a,{animation:\"wave\",height:20,width:60}),o.a.createElement(jt.a,{animation:\"wave\",height:20,width:160})),o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:a.contactExtraInfo},o.a.createElement(jt.a,{animation:\"wave\",height:20,width:60}),o.a.createElement(jt.a,{animation:\"wave\",height:20,width:160})),o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:a.contactExtraInfo},o.a.createElement(jt.a,{animation:\"wave\",height:20,width:60}),o.a.createElement(jt.a,{animation:\"wave\",height:20,width:160}))))};const xr=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:\"red\"}})),Cr=an.b().shape({name:an.d().min(2,\"Too Short!\").max(50,\"Too Long!\").required(\"Required\"),number:an.d().min(8,\"Too Short!\").max(50,\"Too Long!\"),email:an.d().email(\"Invalid email\")});function wr(e){let{initialContact:a,onSave:t,onCancel:r}=e;const l=xr(),[i,s]=Object(n.useState)(a);Object(n.useEffect)(()=>{s(a)},[a]);return o.a.createElement(tn.e,{initialValues:i,enableReinitialize:!0,validationSchema:Cr,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(i.id)await Ye.put(\"/contacts/\".concat(i.id),e);else{const{data:a}=await Ye.post(\"/contacts\",e);t&&t(a)}w.b.success(We.a.t(\"contactModal.success\"))}catch(a){Ue(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:s}=e;return o.a.createElement(tn.d,null,o.a.createElement(Zt.a,{container:!0,spacing:1},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.name\"),name:\"name\",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:\"outlined\",margin:\"dense\",className:l.textField,fullWidth:!0})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.number\"),name:\"number\",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:\"5513912344321\",variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.email\"),name:\"email\",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:\"Email address\",fullWidth:!0,margin:\"dense\",variant:\"outlined\"})),o.a.createElement(Zt.a,{item:!0,xs:12,spacing:1},o.a.createElement(Zt.a,{container:!0,spacing:1},o.a.createElement(Zt.a,{xs:6,item:!0},o.a.createElement(ca.a,{onClick:r,color:\"secondary\",disabled:s,variant:\"outlined\",fullWidth:!0},We.a.t(\"contactModal.buttons.cancel\"))),o.a.createElement(Zt.a,{classes:l.textCenter,xs:6,item:!0},o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:s,variant:\"contained\",className:l.btnWrapper,fullWidth:!0},i.id?\"\".concat(We.a.t(\"contactModal.buttons.okEdit\")):\"\".concat(We.a.t(\"contactModal.buttons.okAdd\")),s&&o.a.createElement(Ba.a,{size:24,className:l.buttonProgress})))))))})}const Sr=Object(T.a)(e=>({inline:{width:\"100%\"}}));function Or(e){const{note:a,deleteItem:t}=e,n=Sr();return o.a.createElement(G.a,{alignItems:\"flex-start\"},o.a.createElement(La.a,null,o.a.createElement(Fa.a,{alt:a.user.name,src:\"/static/images/avatar/1.jpg\"})),o.a.createElement(X.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"span\",variant:\"body2\",className:n.inline,color:\"textPrimary\"},a.note)),secondary:o.a.createElement(o.a.Fragment,null,a.user.name,\", \",k()(a.createdAt).format(\"DD/MM/YY HH:mm\"))}),o.a.createElement(da.a,null,o.a.createElement(N.a,{onClick:()=>{t(a)},edge:\"end\",\"aria-label\":\"delete\"},o.a.createElement(ua.a,null))))}var kr=()=>({saveNote:async e=>{const{data:a}=await Ye.request({url:\"/ticket-notes\",method:\"POST\",data:e});return a},deleteNote:async e=>{const{data:a}=await Ye.request({url:\"/ticket-notes/\".concat(e),method:\"DELETE\"});return a},listNotes:async e=>{const{data:a}=await Ye.request({url:\"/ticket-notes/list\",method:\"GET\",params:e});return a}});const Tr=Object(T.a)(e=>({root:{\"& .MuiTextField-root\":{margin:e.spacing(1),width:\"350px\"}},list:{width:\"100%\",maxWidth:\"350px\",maxHeight:\"200px\",backgroundColor:e.palette.background.paper,overflow:\"auto\"},inline:{width:\"100%\"}})),jr=an.b().shape({note:an.d().min(2,\"Too Short!\").required(\"Required\")});function Ir(e){let{ticket:a}=e;const{id:t,contactId:r}=a,l=Tr(),[i,s]=Object(n.useState)({note:\"\"}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)([]),{saveNote:f,deleteNote:h,listNotes:A}=kr();Object(n.useEffect)(()=>{!async function(){y(),await C()}()},[]);const y=()=>{s({note:\"\"}),d(!1)},v=e=>{s({note:e.target.value})},x=e=>{g(e),u(!0)},C=async()=>{d(!0);try{const e=await A({ticketId:t,contactId:r});E(e)}catch(e){w.b.error(e)}d(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(bt,{title:\"Excluir Registro\",open:m,onClose:u,onConfirm:async()=>{d(!0);try{await h(p.id),await C(),g({}),w.b.success(\"Observa\\xe7\\xe3o exclu\\xedda com sucesso!\")}catch(e){w.b.error(e)}d(!1)}},\"Deseja realmente excluir este registro?\"),o.a.createElement(tn.e,{initialValues:i,enableReinitialize:!0,validationSchema:jr,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{d(!0);try{await f({...e,ticketId:t,contactId:r}),await C(),s({note:\"\"}),w.b.success(\"Observa\\xe7\\xe3o adicionada com sucesso!\")}catch(a){w.b.error(a)}d(!1)})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,setErrors:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:sa.a,name:\"note\",rows:3,label:We.a.t(\"ticketOptionsMenu.appointmentsModal.textarea\"),placeholder:We.a.t(\"ticketOptionsMenu.appointmentsModal.placeholder\"),multiline:!0,error:a.note&&Boolean(t.note),helperText:a.note&&t.note,variant:\"outlined\",onChange:v,fullWidth:!0})),b.length>0&&o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(P.a,{className:l.list},b.map(e=>o.a.createElement(Or,{note:e,key:e.id,deleteItem:x})))),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{xs:6,item:!0},o.a.createElement(ca.a,{onClick:()=>{s(\"\"),n({})},color:\"primary\",variant:\"outlined\",fullWidth:!0},\"Cancelar\")),o.a.createElement(Zt.a,{xs:6,item:!0},o.a.createElement(Ha,{loading:c,color:\"primary\",type:\"submit\",variant:\"contained\",autoFocus:!0,fullWidth:!0},\"Salvar\"))))))}))}const Nr=Object(T.a)(e=>({drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:\"flex\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\",borderRight:\"1px solid rgba(0, 0, 0, 0.12)\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:\"flex\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:e.palette.contactdrawer,alignItems:\"center\",padding:e.spacing(0,1),minHeight:\"73px\",justifyContent:\"flex-start\"},content:{display:\"flex\",backgroundColor:e.palette.contactdrawer,flexDirection:\"column\",padding:\"8px 0px 8px 8px\",height:\"100%\",overflowY:\"scroll\",...e.scrollbarStyles},contactAvatar:{margin:15,width:100,height:100},contactHeader:{display:\"flex\",padding:8,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",\"& > *\":{margin:4}},contactDetails:{marginTop:8,padding:8,display:\"flex\",flexDirection:\"column\"},contactExtraInfo:{marginTop:4,padding:6}}));var Mr=e=>{var a;let{open:t,handleDrawerClose:r,contact:l,ticket:i,loading:s}=e;const c=Nr(),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{p(!1)},[t,l]),o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{className:c.drawer,variant:\"persistent\",anchor:\"right\",open:t,PaperProps:{style:{position:\"absolute\"}},BackdropProps:{style:{position:\"absolute\"}},ModalProps:{container:document.getElementById(\"drawer-container\"),style:{position:\"absolute\"}},classes:{paper:c.drawerPaper}},o.a.createElement(\"div\",{className:c.header},o.a.createElement(N.a,{onClick:r},o.a.createElement(fr.a,null)),o.a.createElement(q.a,{style:{justifySelf:\"center\"}},We.a.t(\"contactDrawer.header\"))),s?o.a.createElement(vr,{classes:c}):o.a.createElement(\"div\",{className:c.content},o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:c.contactHeader},o.a.createElement(Tt.a,{onClick:()=>{},style:{cursor:\"pointer\",width:\"100%\"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(Fa.a,{src:l.profilePicUrl,alt:\"contact_image\",style:{width:60,height:60}}),title:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{onClick:()=>p(!0)},l.name,o.a.createElement(yr.a,{style:{fontSize:16,marginLeft:5}}))),subheader:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{style:{fontSize:12}},o.a.createElement(hr.a,{href:\"tel:\".concat(l.number)},l.number)),o.a.createElement(q.a,{style:{fontSize:12}},o.a.createElement(hr.a,{href:\"mailto:\".concat(l.email)},l.email)))}),o.a.createElement(ca.a,{variant:\"outlined\",color:\"primary\",onClick:()=>m(!u),style:{fontSize:12}},We.a.t(\"contactDrawer.buttons.edit\")),l.id&&u&&o.a.createElement(wr,{initialContact:l,onCancel:()=>p(!1)})),o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:c.contactDetails},o.a.createElement(q.a,{variant:\"subtitle1\",style:{marginBottom:10}},We.a.t(\"ticketOptionsMenu.appointmentsModal.title\")),o.a.createElement(Ir,{ticket:i})),o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:c.contactDetails},o.a.createElement(er,{open:d,onClose:()=>m(!1),contactId:l.id}),o.a.createElement(q.a,{variant:\"subtitle1\"},We.a.t(\"contactDrawer.extraInfo\")),null===l||void 0===l||null===(a=l.extraInfo)||void 0===a?void 0:a.map(e=>o.a.createElement(Cn.a,{key:e.id,square:!0,variant:\"outlined\",className:c.contactExtraInfo},o.a.createElement(on.a,null,e.name),o.a.createElement(q.a,{component:\"div\",noWrap:!0,style:{paddingTop:2}},o.a.createElement(Ga,null,e.value))))))))},Pr=(t(1237),t(905)),Rr=t(852),Dr=t.n(Rr),qr=t(168),Lr=t.n(qr),Fr=t(853),Wr=t.n(Fr),Br=t(393),zr=t.n(Br),Hr=t(858),Ur=t.n(Hr),Vr=t(857),Qr=t.n(Vr),Kr=t(856),Gr=t.n(Kr),Yr=t(855),Xr=t.n(Yr),_r=t(854),Zr=t.n(_r);const Jr=Object(T.a)(e=>({timerBox:{display:\"flex\",marginLeft:10,marginRight:10,alignItems:\"center\"}}));var $r=()=>{const e=Jr(),[a,t]=Object(n.useState)({minutes:0,seconds:0});Object(n.useEffect)(()=>{const e=setInterval(()=>t(e=>59===e.seconds?{...e,minutes:e.minutes+1,seconds:0}:{...e,seconds:e.seconds+1}),1e3);return()=>{clearInterval(e)}},[]);const r=e=>e<10?\"0\"+e:e;return o.a.createElement(\"div\",{className:e.timerBox},o.a.createElement(\"span\",null,\"\".concat(r(a.minutes),\":\").concat(r(a.seconds))))};var el=()=>({save:async e=>{const{data:a}=await Ye.request({url:\"/quick-messages\",method:\"POST\",data:e});return a},update:async e=>{const{data:a}=await Ye.request({url:\"/quick-messages/\".concat(e.id),method:\"PUT\",data:e});return a},deleteRecord:async e=>{const{data:a}=await Ye.request({url:\"/quick-messages/\".concat(e),method:\"DELETE\"});return a},list:async e=>{const{data:a}=await Ye.request({url:\"/quick-messages/list\",method:\"GET\",params:e});return a}});const al=new Dr.a({bitRate:128}),tl=Object(T.a)(e=>({mainWrapper:{backgroundColor:e.palette.bordabox,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\"},newMessageBox:{backgroundColor:e.palette.newmessagebox,width:\"100%\",display:\"flex\",padding:\"7px\",alignItems:\"center\"},messageInputWrapper:{padding:6,marginRight:7,backgroundColor:e.palette.inputdigita,display:\"flex\",borderRadius:20,flex:1},messageInput:{paddingLeft:10,flex:1,border:\"none\"},sendMessageIcons:{color:\"grey\"},uploadInput:{display:\"none\"},viewMediaInputWrapper:{display:\"flex\",padding:\"10px 13px\",position:\"relative\",justifyContent:\"space-between\",alignItems:\"center\",backgroundColor:\"#eee\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\"},emojiBox:{position:\"absolute\",bottom:63,width:40,borderTop:\"1px solid #e8e8e8\"},circleLoading:{color:Ra.a[500],opacity:\"70%\",position:\"absolute\",top:\"20%\",left:\"50%\",marginLeft:-12},audioLoading:{color:Ra.a[500],opacity:\"70%\"},recorderWrapper:{display:\"flex\",alignItems:\"center\",alignContent:\"middle\"},cancelAudioIcon:{color:\"red\"},sendAudioIcon:{color:\"green\"},replyginMsgWrapper:{display:\"flex\",width:\"100%\",alignItems:\"center\",justifyContent:\"center\",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:\"hidden\",backgroundColor:\"rgba(0, 0, 0, 0.05)\",borderRadius:\"7.5px\",display:\"flex\",position:\"relative\"},replyginMsgBody:{padding:10,height:\"auto\",display:\"block\",whiteSpace:\"pre-wrap\",overflow:\"hidden\"},replyginContactMsgSideColor:{flex:\"none\",width:\"4px\",backgroundColor:\"#35cd96\"},replyginSelfMsgSideColor:{flex:\"none\",width:\"4px\",backgroundColor:\"#6bcbef\"},messageContactName:{display:\"flex\",color:\"#6bcbef\",fontWeight:500}})),nl=e=>{const{disabled:a,showEmoji:t,setShowEmoji:n,handleAddEmoji:r}=e,l=tl();return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{\"aria-label\":\"emojiPicker\",component:\"span\",disabled:a,onClick:e=>n(e=>!e)},o.a.createElement(Wr.a,{className:l.sendMessageIcons})),t?o.a.createElement(\"div\",{className:l.emojiBox},o.a.createElement(Pr.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:r})):null)},ol=e=>{const{width:a,setSignMessage:t,signMessage:n}=e;return Object(Do.b)(\"md\",a)?o.a.createElement(Ln.a,{style:{marginRight:7,color:\"gray\"},label:We.a.t(\"messagesInput.signMessage\"),labelPlacement:\"start\",control:o.a.createElement(Qo.a,{size:\"small\",checked:n,onChange:e=>{t(e.target.checked)},name:\"showAllTickets\",color:\"primary\"})}):null},rl=e=>{const{handleChangeMedias:a,disableOption:t}=e,n=tl();return o.a.createElement(o.a.Fragment,null,o.a.createElement(\"input\",{multiple:!0,type:\"file\",id:\"upload-button\",disabled:t(),className:n.uploadInput,onChange:a}),o.a.createElement(\"label\",{htmlFor:\"upload-button\"},o.a.createElement(N.a,{\"aria-label\":\"upload\",component:\"span\",disabled:t()},o.a.createElement(Lr.a,{className:n.sendMessageIcons}))))},ll=e=>{const{inputMessage:a,loading:t,recording:n,ticketStatus:r,handleSendMessage:l,handleCancelAudio:i,handleUploadAudio:s,handleStartRecording:c}=e,d=tl();return a?o.a.createElement(N.a,{\"aria-label\":\"sendMessage\",component:\"span\",onClick:l,disabled:t},o.a.createElement(zr.a,{className:d.sendMessageIcons})):n?o.a.createElement(\"div\",{className:d.recorderWrapper},o.a.createElement(N.a,{\"aria-label\":\"cancelRecording\",component:\"span\",fontSize:\"large\",disabled:t,onClick:i},o.a.createElement(Zr.a,{className:d.cancelAudioIcon})),t?o.a.createElement(\"div\",null,o.a.createElement(Ba.a,{className:d.audioLoading})):o.a.createElement($r,null),o.a.createElement(N.a,{\"aria-label\":\"sendRecordedAudio\",component:\"span\",onClick:s,disabled:t},o.a.createElement(Xr.a,{className:d.sendAudioIcon}))):o.a.createElement(N.a,{\"aria-label\":\"showRecorder\",component:\"span\",disabled:t||\"open\"!==r,onClick:c},o.a.createElement(Gr.a,{className:d.sendMessageIcons}))},il=e=>{const{loading:a,inputRef:t,ticketStatus:r,inputMessage:l,setInputMessage:i,handleSendMessage:s,handleInputPaste:c,disableOption:d,handleQuickAnswersClick:m}=e,u=tl(),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)([]),[f,h]=Object(n.useState)(!1),{user:A}=Object(n.useContext)(ea),{list:y}=el();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem(\"companyId\"),a=(await y({companyId:e,userId:A.id})).map(e=>{let a=e.message;return Object(He.isString)(a)&&a.length>35&&(a=e.message.substring(0,35)+\"...\"),{value:e.message,label:\"/\".concat(e.shortcode,\" - \").concat(a),mediaPath:e.mediaPath}});g(a)}()},[]),Object(n.useEffect)(()=>{if(Object(He.isString)(l)&&!Object(He.isEmpty)(l)&&l.length>1){const e=l.charAt(0);h(e.indexOf(\"/\")>-1);const a=p.filter(e=>e.label.indexOf(l)>-1);E(a)}else h(!1)},[l]);const v=e=>{e&&(e.focus(),t.current=e)};return o.a.createElement(\"div\",{className:u.messageInputWrapper},o.a.createElement(Go.a,{freeSolo:!0,open:f,id:\"grouped-demo\",value:l,options:b,closeIcon:null,getOptionLabel:e=>Object(He.isObject)(e)?e.label:e,onChange:(e,a)=>{Object(He.isObject)(a)&&Object(He.has)(a,\"value\")&&Object(He.isNil)(a.mediaPath)?(i(a.value),setTimeout(()=>{t.current.scrollTop=t.current.scrollHeight},200)):Object(He.isObject)(a)&&Object(He.has)(a,\"value\")&&!Object(He.isNil)(a.mediaPath)&&(m(a),setTimeout(()=>{t.current.scrollTop=t.current.scrollHeight},200))},onInputChange:(e,a,t)=>{\"input\"===t&&i(e.target.value)},onPaste:e=>{\"open\"===r&&c(e)},onKeyPress:e=>{a||e.shiftKey||\"Enter\"===e.key&&s()},style:{width:\"100%\"},renderInput:e=>{const{InputLabelProps:a,InputProps:t,...n}=e;return o.a.createElement(Fo.a,Object.assign({},e.InputProps,n,{disabled:d(),inputRef:v,placeholder:\"open\"===r?We.a.t(\"messagesInput.placeholderOpen\"):We.a.t(\"messagesInput.placeholderClosed\"),multiline:!0,className:u.messageInput,maxRows:5}))}}))};var sl=Object(Do.a)()(e=>{var a;const{ticketStatus:t,ticketId:r}=e,l=tl(),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)(\"\"),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),f=Object(n.useRef)(),{setReplyingMessage:h,replyingMessage:A}=Object(n.useContext)(Et),{user:y}=Object(n.useContext)(ea),[v,x]=function(e,a){const[t,o]=Object(n.useState)(()=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):a}catch(t){return Ue(t),a}});return[t,a=>{try{const n=a instanceof Function?a(t):a;o(n),localStorage.setItem(e,JSON.stringify(n))}catch(n){Ue(n)}}]}(\"signOption\",!0);Object(n.useEffect)(()=>{f.current.focus()},[A]),Object(n.useEffect)(()=>(f.current.focus(),()=>{d(\"\"),u(!1),s([]),h(null)}),[r,h]);const C=e=>{let a=e.native;d(e=>e+a)},w=e=>{if(!e.target.files)return;const a=Array.from(e.target.files);s(a)},O=e=>{e.clipboardData.files[0]&&s([e.clipboardData.files[0]])},k=async e=>{if(e.mediaPath)try{const{data:a}=await Qe.a.get(e.mediaPath,{responseType:\"blob\"});return(async(e,a)=>{g(!0);try{const t=e.type.split(\"/\")[1],n=new FormData,o=\"\".concat((new Date).getTime(),\".\").concat(t);n.append(\"medias\",e,o),n.append(\"body\",a),n.append(\"fromMe\",!0),await Ye.post(\"/messages/\".concat(r),n)}catch(t){Ue(t),g(!1)}g(!1)})(a,e.value),void d(\"\")}catch(a){Ue(a)}d(\"\"),d(e.value)},T=async()=>{if(\"\"===c.trim())return;g(!0);const e={read:1,fromMe:!0,mediaUrl:\"\",body:v?\"*\".concat(null===y||void 0===y?void 0:y.name,\":*\\n\").concat(c.trim()):c.trim(),quotedMsg:A};try{await Ye.post(\"/messages/\".concat(r),e)}catch(a){Ue(a)}d(\"\"),u(!1),g(!1),h(null)},j=async()=>{g(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await al.start(),E(!0),g(!1)}catch(e){Ue(e),g(!1)}},I=async()=>{g(!0);try{const[,e]=await al.stop().getMp3();if(e.size<1e4)return g(!1),void E(!1);const a=new FormData,t=\"audio-record-site-\".concat((new Date).getTime(),\".mp3\");a.append(\"medias\",e,t),a.append(\"body\",t),a.append(\"fromMe\",!0),await Ye.post(\"/messages/\".concat(r),a)}catch(e){Ue(e)}E(!1),g(!1)},M=async()=>{try{await al.stop().getMp3(),E(!1)}catch(e){Ue(e)}},P=()=>p||b||\"open\"!==t;return i.length>0?o.a.createElement(Cn.a,{elevation:0,square:!0,className:l.viewMediaInputWrapper},o.a.createElement(N.a,{\"aria-label\":\"cancel-upload\",component:\"span\",onClick:e=>s([])},o.a.createElement(Ur.a,{className:l.sendMessageIcons})),p?o.a.createElement(\"div\",null,o.a.createElement(Ba.a,{className:l.circleLoading})):o.a.createElement(\"span\",null,null===(a=i[0])||void 0===a?void 0:a.name),o.a.createElement(N.a,{\"aria-label\":\"send-upload\",component:\"span\",onClick:async e=>{g(!0),e.preventDefault();const a=new FormData;a.append(\"fromMe\",!0),i.forEach(e=>{a.append(\"medias\",e),a.append(\"body\",e.name)});try{await Ye.post(\"/messages/\".concat(r),a)}catch(t){Ue(t)}g(!1),s([])},disabled:p},o.a.createElement(zr.a,{className:l.sendMessageIcons}))):o.a.createElement(Cn.a,{square:!0,elevation:0,className:l.mainWrapper},A&&(e=>{var a;return o.a.createElement(\"div\",{className:l.replyginMsgWrapper},o.a.createElement(\"div\",{className:l.replyginMsgContainer},o.a.createElement(\"span\",{className:Object(S.a)(l.replyginContactMsgSideColor,{[l.replyginSelfMsgSideColor]:!e.fromMe})}),o.a.createElement(\"div\",{className:l.replyginMsgBody},!e.fromMe&&o.a.createElement(\"span\",{className:l.messageContactName},null===(a=e.contact)||void 0===a?void 0:a.name),e.body)),o.a.createElement(N.a,{\"aria-label\":\"showRecorder\",component:\"span\",disabled:p||\"open\"!==t,onClick:()=>h(null)},o.a.createElement(Qr.a,{className:l.sendMessageIcons})))})(A),o.a.createElement(\"div\",{className:l.newMessageBox},o.a.createElement(nl,{disabled:P(),handleAddEmoji:C,showEmoji:m,setShowEmoji:u}),o.a.createElement(rl,{disableOption:P,handleChangeMedias:w}),o.a.createElement(ol,{width:e.width,setSignMessage:x,signMessage:v}),o.a.createElement(il,{loading:p,inputRef:f,ticketStatus:t,inputMessage:c,setInputMessage:d,handleSendMessage:T,handleInputPaste:O,disableOption:P,handleQuickAnswersClick:k}),o.a.createElement(ll,{inputMessage:c,loading:p,recording:b,ticketStatus:t,handleSendMessage:T,handleCancelAudio:M,handleUploadAudio:I,handleStartRecording:j})))}),cl=t(1549),dl=t(1551);var ml=()=>({findAll:async()=>{const{data:e}=await Ye.get(\"/queue\");return e}});const ul=Object(T.a)(e=>({maxWidth:{width:\"100%\"}})),pl=Object(Ko.a)({trim:!0});var gl=e=>{let{modalOpen:a,onClose:t,ticketid:r}=e;const l=Object(C.useHistory)(),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(\"\"),[f,h]=Object(n.useState)(null),[A,y]=Object(n.useState)(\"\"),v=ul(),{findAll:x}=ml(),w=Object(n.useRef)(!0),[S,O]=Object(n.useState)([]),[k,T]=Object(n.useState)(\"\"),{user:j}=Object(n.useContext)(ea),{companyId:I,whatsappId:N}=j;Object(n.useEffect)(()=>()=>{w.current=!1},[]),Object(n.useEffect)(()=>{g(!0);const e=setTimeout(()=>{null!==N&&void 0!==N&&T(N),1===j.queues.length&&y(j.queues[0].id),(async()=>{Ye.get(\"/whatsapp\",{params:{companyId:I,session:0}}).then(e=>{let{data:a}=e;return O(a)})})(),g(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{if(w.current){(async()=>{const e=await x();u(e),d(e)})()}},[]),Object(n.useEffect)(()=>{if(!a||b.length<3)return void g(!1);const e=setTimeout(()=>{g(!0);(async()=>{try{const{data:e}=await Ye.get(\"/users/\",{params:{searchParam:b}});s(e.users),g(!1)}catch(e){g(!1),Ue(e)}})()},500);return()=>clearTimeout(e)},[b,a]);const M=()=>{t(),E(\"\"),h(null)};return o.a.createElement(tt.a,{open:a,onClose:M,maxWidth:\"lg\",scroll:\"paper\"},o.a.createElement(\"form\",{onSubmit:async e=>{if(e.preventDefault(),r&&A&&\"\"!==A){g(!0);try{let e={};f&&(e.userId=f.id),A&&null!==A&&(e.queueId=A,f||(e.status=\"pending\",e.userId=null)),k&&(e.whatsappId=k),await Ye.put(\"/tickets/\".concat(r),e),l.push(\"/tickets\")}catch(a){g(!1),Ue(a)}}}},o.a.createElement(gt.a,{id:\"form-dialog-title\"},We.a.t(\"transferTicketModal.title\")),o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Go.a,{style:{width:300,marginBottom:20},getOptionLabel:e=>\"\".concat(e.name),onChange:(e,a)=>{h(a),null!=a&&Array.isArray(a.queues)?d(a.queues):(d(m),y(\"\"))},options:i,filterOptions:pl,freeSolo:!0,autoHighlight:!0,noOptionsText:We.a.t(\"transferTicketModal.noOptions\"),loading:p,renderInput:e=>o.a.createElement(sa.a,Object.assign({},e,{label:We.a.t(\"transferTicketModal.fieldLabel\"),variant:\"outlined\",autoFocus:!0,onChange:e=>E(e.target.value),InputProps:{...e.InputProps,endAdornment:o.a.createElement(o.a.Fragment,null,p?o.a.createElement(Ba.a,{color:\"inherit\",size:20}):null,e.InputProps.endAdornment)}}))}),o.a.createElement(rn.a,{variant:\"outlined\",className:v.maxWidth},o.a.createElement(on.a,null,We.a.t(\"transferTicketModal.fieldQueueLabel\")),o.a.createElement(nn.a,{value:A,onChange:e=>y(e.target.value),label:We.a.t(\"transferTicketModal.fieldQueuePlaceholder\")},c.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(Zt.a,{container:!0,spacing:2,style:{marginTop:\"15px\"}},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(nn.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:\"outlined\",value:k,onChange:e=>{T(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:()=>{if(\"\"===k)return\"Selecione uma Conex\\xe3o\";return S.find(e=>e.id===k).name}},(null===S||void 0===S?void 0:S.length)>0&&S.map((e,a)=>o.a.createElement(F.a,{dense:!0,key:a,value:e.id},o.a.createElement(X.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"span\",style:{fontSize:14,marginLeft:\"10px\",display:\"inline-flex\",alignItems:\"center\",lineHeight:\"2\"}},e.name,\" \\xa0 \",o.a.createElement(\"p\",{className:\"CONNECTED\"===e.status?v.online:v.offline},\"(\",e.status,\")\")))}))))))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:M,color:\"secondary\",disabled:p,variant:\"outlined\"},We.a.t(\"transferTicketModal.buttons.cancel\")),o.a.createElement(Ha,{variant:\"contained\",type:\"submit\",color:\"primary\",loading:p},We.a.t(\"transferTicketModal.buttons.ok\")))))};const bl=e=>{let{inputRef:a,...t}=e;return o.a.createElement(\"div\",t)};var El=e=>{let{InputProps:a,children:t,InputLabelProps:n,label:r,...l}=e;return o.a.createElement(sa.a,Object.assign({},l,{variant:\"outlined\",label:r,multiline:!0,InputLabelProps:{shrink:!0,...n},InputProps:{inputComponent:bl,...a},inputProps:{children:t}}))};const fl=Object(T.a)(e=>({chip:{margin:e.spacing(.5),cursor:\"pointer\"}}));var hl=e=>{let{onClick:a,disabled:t}=e;const n=fl(),r=[{name:We.a.t(\"messageVariablesPicker.vars.contactFirstName\"),value:\"{{firstName}}\"},{name:We.a.t(\"messageVariablesPicker.vars.contactName\"),value:\"{{name}} \"},{name:We.a.t(\"messageVariablesPicker.vars.greeting\"),value:\"{{ms}} \"},{name:We.a.t(\"messageVariablesPicker.vars.protocolNumber\"),value:\"{{protocol}} \"},{name:We.a.t(\"messageVariablesPicker.vars.hour\"),value:\"{{hora}} \"}];return o.a.createElement(El,{margin:\"dense\",fullWidth:!0,label:We.a.t(\"messageVariablesPicker.label\"),disabled:t},r.map(e=>o.a.createElement(ln.a,{key:e.value,onMouseDown:n=>((e,n)=>{e.preventDefault(),t||a(n)})(n,e.value),label:e.name,size:\"small\",className:n.chip,color:\"primary\"})))};const Al=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),yl=an.b().shape({body:an.d().min(5,\"Mensagem muito curta\").required(\"Obrigat\\xf3rio\"),contactId:an.a().required(\"Obrigat\\xf3rio\"),sendAt:an.d().required(\"Obrigat\\xf3rio\")});var vl=e=>{let{open:a,onClose:t,scheduleId:r,contactId:l,cleanContact:i,reload:s}=e;const c=Al(),d=Object(C.useHistory)(),{user:m}=Object(n.useContext)(ea),u={body:\"\",contactId:\"\",sendAt:k()().add(1,\"hour\").format(\"YYYY-MM-DDTHH:mm\"),sentAt:\"\"},p={id:\"\",name:\"\"},[g,b]=Object(n.useState)(u),[E,f]=Object(n.useState)(p),[h,A]=Object(n.useState)([p]),[y,v]=Object(n.useState)(null),x=Object(n.useRef)(null),[S,O]=Object(n.useState)(!1),T=Object(n.useRef)();Object(n.useEffect)(()=>{if(l&&h.length){const e=h.find(e=>e.id===l);e&&f(e)}},[l,h]),Object(n.useEffect)(()=>{const{companyId:e}=m;if(a)try{(async()=>{const{data:a}=await Ye.get(\"/contacts/list\",{params:{companyId:e}});let t=a.map(e=>({id:e.id,name:e.name}));if(Object(He.isArray)(t)&&A([{id:\"\",name:\"\"},...t]),l&&b(e=>({...e,contactId:l})),!r)return;const{data:n}=await Ye.get(\"/schedules/\".concat(r));b(e=>({...e,...n,sendAt:k()(n.sendAt).format(\"YYYY-MM-DDTHH:mm\")})),f(n.contact)})()}catch(t){Ue(t)}},[r,l,a,m]);const j=()=>{t(),v(null),b(u)};return o.a.createElement(\"div\",{className:c.root},o.a.createElement(bt,{title:We.a.t(\"scheduleModal.confirmationModal.deleteTitle\"),open:S,onClose:()=>O(!1),onConfirm:async()=>{y&&(v(null),x.current.value=null),g.mediaPath&&(await Ye.delete(\"/schedules/\".concat(g.id,\"/media-upload\")),b(e=>({...e,mediaPath:null})),w.b.success(We.a.t(\"scheduleModal.toasts.deleted\")),\"function\"==typeof s&&(console.log(s),console.log(\"1\"),s()))}},We.a.t(\"scheduleModal.confirmationModal.deleteMessage\")),o.a.createElement(tt.a,{open:a,onClose:j,maxWidth:\"xs\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"ERRO\"===g.status?\"Erro de Envio\":\"Mensagem \".concat(Object(He.capitalize)(g.status))),o.a.createElement(\"div\",{style:{display:\"none\"}},o.a.createElement(\"input\",{type:\"file\",accept:\".png,.jpg,.jpeg\",ref:x,onChange:e=>(e=>{const a=Object(He.head)(e.target.files);a&&v(a)})(e)})),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:yl,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:m.id};try{if(r){if(await Ye.put(\"/schedules/\".concat(r),a),null!=y){const e=new FormData;e.append(\"file\",y),await Ye.post(\"/schedules/\".concat(r,\"/media-upload\"),e)}}else{const{data:e}=await Ye.post(\"/schedules\",a);if(null!=y){const a=new FormData;a.append(\"file\",y),await Ye.post(\"/schedules/\".concat(e.id,\"/media-upload\"),a)}}w.b.success(We.a.t(\"scheduleModal.success\")),\"function\"==typeof s&&s(),l&&\"function\"===typeof i&&(i(),d.push(\"/schedules\"))}catch(t){Ue(t)}f(p),b(u),j()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:l,setFieldValue:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(\"div\",{className:c.multFieldLine},o.a.createElement(rn.a,{variant:\"outlined\",fullWidth:!0},o.a.createElement(Go.a,{fullWidth:!0,value:E,options:h,onChange:(e,a)=>{const t=a?a.id:\"\";b({...g,contactId:t}),f(a||p)},getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>o.a.createElement(sa.a,Object.assign({},e,{variant:\"outlined\",placeholder:\"Contato\"}))}))),o.a.createElement(\"br\",null),o.a.createElement(\"div\",{className:c.multFieldLine},o.a.createElement(tn.b,{as:sa.a,rows:9,multiline:!0,label:We.a.t(\"scheduleModal.form.body\"),name:\"body\",inputRef:T,error:a.body&&Boolean(t.body),helperText:a.body&&t.body,variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(Zt.a,{item:!0},o.a.createElement(hl,{disabled:n,onClick:e=>(async(e,a)=>{const t=T.current,n=t.value.substring(0,t.selectionStart),o=t.value.substring(t.selectionEnd),r=t.selectionStart+e.length;a(\"body\",\"\".concat(n).concat(e).concat(o)),await new Promise(e=>setTimeout(e,100)),T.current.setSelectionRange(r,r)})(e,i)})),o.a.createElement(\"br\",null),o.a.createElement(\"div\",{className:c.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"scheduleModal.form.sendAt\"),type:\"datetime-local\",name:\"sendAt\",InputLabelProps:{shrink:!0},error:a.sendAt&&Boolean(t.sendAt),helperText:a.sendAt&&t.sendAt,variant:\"outlined\",fullWidth:!0})),(g.mediaPath||y)&&o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(ca.a,{startIcon:o.a.createElement(Lr.a,null)},y?y.name:g.mediaName),o.a.createElement(N.a,{onClick:()=>O(!0),color:\"secondary\"},o.a.createElement(Xo.a,{color:\"secondary\"})))),o.a.createElement(nt.a,null,!y&&!g.mediaPath&&o.a.createElement(ca.a,{color:\"primary\",onClick:()=>x.current.click(),disabled:n,variant:\"outlined\"},We.a.t(\"quickMessages.buttons.attach\")),o.a.createElement(ca.a,{onClick:j,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"scheduleModal.buttons.cancel\")),(null===g.sentAt||\"\"===g.sentAt)&&o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:c.btnWrapper},\"\".concat(r?We.a.t(\"scheduleModal.buttons.okEdit\"):We.a.t(\"scheduleModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:c.buttonProgress}))))})))};var xl=e=>{let{ticket:a,menuOpen:t,handleClose:r,anchorEl:l}=e;const[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),m=Object(n.useRef)(!0),{user:u}=Object(n.useContext)(ea),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(null);Object(n.useEffect)(()=>()=>{m.current=!1},[]);const f=e=>{s(!0),r()};return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{id:\"menu-appbar\",anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},keepMounted:!0,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:t,onClose:r},o.a.createElement(F.a,{onClick:()=>{r(),E(a.contact.id),g(!0)}},We.a.t(\"ticketOptionsMenu.schedule\")),o.a.createElement(F.a,{onClick:e=>{d(!0),r()}},We.a.t(\"ticketOptionsMenu.transfer\")),o.a.createElement(na,{role:u.profile,perform:\"ticket-options:deleteTicket\",yes:()=>o.a.createElement(F.a,{onClick:f},We.a.t(\"ticketOptionsMenu.delete\"))})),o.a.createElement(bt,{title:\"\".concat(We.a.t(\"ticketOptionsMenu.confirmationModal.title\")).concat(a.id,\" \").concat(We.a.t(\"ticketOptionsMenu.confirmationModal.titleFrom\"),\" \").concat(a.contact.name,\"?\"),open:i,onClose:s,onConfirm:async()=>{try{await Ye.delete(\"/tickets/\".concat(a.id))}catch(e){Ue(e)}}},We.a.t(\"ticketOptionsMenu.confirmationModal.message\")),o.a.createElement(gl,{modalOpen:c,onClose:()=>{m.current&&d(!1)},ticketid:a.id}),o.a.createElement(vl,{open:p,onClose:()=>{g(!1),E(null)},\"aria-labelledby\":\"form-dialog-title\",contactId:b}))},Cl=t(859),wl=t.n(Cl);const Sl=Object(T.a)(e=>({actionButtons:{marginRight:6,flex:\"none\",alignSelf:\"center\",marginLeft:\"auto\",\"& > *\":{margin:e.spacing(.5)}}}));var Ol=e=>{let{ticket:a}=e;const t=Sl(),r=Object(C.useHistory)(),[l,i]=Object(n.useState)(null),[s,c]=Object(n.useState)(!1),u=Boolean(l),{user:p}=Object(n.useContext)(ea),{setCurrentTicket:g}=Object(n.useContext)(Xa),b=Object(m.a)({palette:{primary:Ra.a}}),E=async(e,t,n)=>{c(!0);try{await Ye.put(\"/tickets/\".concat(a.id),{status:t,userId:n||null,useIntegration:\"closed\"!==t&&a.useIntegration,promptId:\"closed\"!==t&&a.promptId,integrationId:\"closed\"!==t&&a.integrationId}),c(!1),\"open\"===t?g({...a,code:\"#open\"}):(g({id:null,code:null}),r.push(\"/tickets\"))}catch(o){c(!1),Ue(o)}};return o.a.createElement(\"div\",{className:t.actionButtons},\"closed\"===a.status&&o.a.createElement(Ha,{loading:s,startIcon:o.a.createElement(cl.a,null),size:\"small\",onClick:e=>E(0,\"open\",null===p||void 0===p?void 0:p.id)},We.a.t(\"messagesList.header.buttons.reopen\")),\"open\"===a.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ya.a,{title:We.a.t(\"messagesList.header.buttons.return\")},o.a.createElement(N.a,{onClick:e=>E(0,\"pending\",null)},o.a.createElement(wl.a,null))),o.a.createElement(d.a,{theme:b},o.a.createElement(Ya.a,{title:We.a.t(\"messagesList.header.buttons.resolve\")},o.a.createElement(N.a,{onClick:e=>E(0,\"closed\",null===p||void 0===p?void 0:p.id),color:\"primary\"},o.a.createElement(Jn.a,null)))),o.a.createElement(N.a,{onClick:e=>{i(e.currentTarget)}},o.a.createElement(dl.a,null)),o.a.createElement(xl,{ticket:a,anchorEl:l,menuOpen:u,handleClose:e=>{i(null)}})),\"pending\"===a.status&&o.a.createElement(Ha,{loading:s,size:\"small\",variant:\"contained\",color:\"primary\",onClick:e=>E(0,\"open\",null===p||void 0===p?void 0:p.id)},We.a.t(\"messagesList.header.buttons.accept\")))};function kl(e){let{ticket:a}=e;const[t,r]=Object(n.useState)([]),[l,i]=Object(n.useState)([]),s=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{s.current=!1},[]),Object(n.useEffect)(()=>{s.current&&d().then(()=>{Array.isArray(a.tags)?i(a.tags):i([])})},[a]);const c=async e=>{try{const{data:a}=await Ye.post(\"/tags\",e);return a}catch(a){Ue(a)}},d=async()=>{try{const{data:e}=await Ye.get(\"/tags/list\");r(e)}catch(e){Ue(e)}},m=async(e,t)=>{let n=[];if(\"create-option\"===t){if(Object(He.isArray)(e))for(let a of e)if(Object(He.isString)(a)){const e=await c({name:a});n.push(e)}else n.push(a);await d()}else n=e;i(n),await(async e=>{try{const{data:a}=await Ye.post(\"/tags/sync\",e);return a}catch(a){Ue(a)}})({ticketId:a.id,tags:n})};return o.a.createElement(Cn.a,{style:{padding:12}},o.a.createElement(Go.a,{multiple:!0,size:\"small\",options:t,value:l,freeSolo:!0,onChange:(e,a,t)=>m(a,t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(ln.a,Object.assign({variant:\"outlined\",style:{background:e.color||\"#eee\",color:\"#FFF\",marginRight:1,fontWeight:600,borderRadius:3,fontSize:\"0.8em\",whiteSpace:\"nowrap\"},label:e.name.toUpperCase()},a({index:t}),{size:\"small\"}))),renderInput:e=>o.a.createElement(sa.a,Object.assign({},e,{variant:\"outlined\",placeholder:\"Tags\"})),PaperComponent:e=>{let{children:a}=e;return o.a.createElement(Cn.a,{style:{width:400,marginLeft:12}},a)}}))}const Tl=Object(T.a)(e=>({root:{display:\"flex\",height:\"100%\",position:\"relative\",overflow:\"hidden\"},mainWrapper:{flex:1,height:\"100%\",display:\"flex\",flexDirection:\"column\",overflow:\"hidden\",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:\"0\",marginRight:-320,transition:e.transitions.create(\"margin\",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create(\"margin\",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));var jl=()=>{const{ticketId:e}=Object(C.useParams)(),a=Object(C.useHistory)(),t=Tl(),{user:r}=Object(n.useContext)(ea),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!0),[d,m]=Object(n.useState)({}),[u,p]=Object(n.useState)({}),g=Object(n.useContext)(v);Object(n.useEffect)(()=>{c(!0);const t=setTimeout(()=>{(async()=>{try{const{data:t}=await Ye.get(\"/tickets/u/\"+e),{queueId:n}=t,{queues:o,profile:l}=r;if(void 0===o.find(e=>e.id===n)&&\"admin\"!==l)return w.b.error(We.a.t(\"tickets.toasts.unauthorized\")),void a.push(\"/tickets\");m(t.contact),p(t),c(!1)}catch(t){c(!1),Ue(t)}})()},500);return()=>clearTimeout(t)},[e,r,a]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),t=g.getSocket(e);return t.on(\"ready\",()=>t.emit(\"joinChatBox\",\"\".concat(u.id))),t.on(\"company-\".concat(e,\"-ticket\"),e=>{\"update\"===e.action&&e.ticket.id===u.id&&p(e.ticket),\"delete\"===e.action&&e.ticketId===u.id&&a.push(\"/tickets\")}),t.on(\"company-\".concat(e,\"-contact\"),e=>{\"update\"===e.action&&m(a=>{var t;return a.id===(null===(t=e.contact)||void 0===t?void 0:t.id)?{...a,...e.contact}:a})}),()=>{t.disconnect()}},[e,u,a,g]);const b=()=>{i(!0)};return o.a.createElement(\"div\",{className:t.root,id:\"drawer-container\"},o.a.createElement(Cn.a,{variant:\"outlined\",elevation:0,className:Object(S.a)(t.mainWrapper,{[t.mainWrapperShift]:l})},o.a.createElement(Pt,{loading:s},(()=>{if(void 0!==u.user)return o.a.createElement(Rt,{contact:d,ticket:u,onClick:b})})(),o.a.createElement(Ol,{ticket:u})),o.a.createElement(Cn.a,null,o.a.createElement(kl,{ticket:u})),o.a.createElement(ft,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Ot,{ticket:u,ticketId:u.id,isGroup:u.isGroup}),o.a.createElement(sl,{ticketId:u.id,ticketStatus:u.status})))),o.a.createElement(Mr,{open:l,handleDrawerClose:()=>{i(!1)},contact:d,loading:s,ticket:u}))};const Il=Object(T.a)(e=>({chatContainer:{flex:1,padding:e.spacing(1),height:\"calc(100% - 48px)\",overflowY:\"hidden\"},chatPapper:{display:\"flex\",height:\"100%\"},contactsWrapper:{display:\"flex\",height:\"100%\",flexDirection:\"column\",overflowY:\"hidden\"},messagesWrapper:{display:\"flex\",height:\"100%\",flexDirection:\"column\"},welcomeMsg:{backgroundColor:e.palette.boxticket,display:\"flex\",justifyContent:\"space-evenly\",alignItems:\"center\",height:\"100%\",textAlign:\"center\"}}));var Nl=()=>{const e=Il(),{ticketId:a}=Object(C.useParams)();return o.a.createElement(\"div\",{className:e.chatContainer},o.a.createElement(\"div\",{className:e.chatPapper},o.a.createElement(Zt.a,{container:!0,spacing:0},o.a.createElement(Zt.a,{item:!0,xs:4,className:e.contactsWrapper},o.a.createElement(br,null)),o.a.createElement(Zt.a,{item:!0,xs:8,className:e.messagesWrapper},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(jl,null)):o.a.createElement(Cn.a,{square:!0,variant:\"outlined\",className:e.welcomeMsg},o.a.createElement(\"div\",null,o.a.createElement(\"center\",null,o.a.createElement(\"img\",{style:{margin:\"0 auto\",width:\"70%\"},src:jn.a,alt:\"logologin\"}))))))))},Ml=t(1552),Pl=t(1553),Rl=t(860),Dl=t.n(Rl),ql=t(911);var Ll=Object(ql.a)(Cn.a)({height:\"calc(100% - 48px)\",display:\"grid\",gridTemplateRows:\"56px 1fr\"});const Fl=Object(T.a)(e=>({header:{},content:{overflow:\"auto\"},placeholderContainer:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",height:\"100%\",backgroundColor:e.palette.boxticket},placeholderItem:{}}));var Wl=e=>{const a=Fl(),{ticketId:t}=Object(C.useParams)(),[r,l]=Object(n.useState)(0),{currentTicket:i,setCurrentTicket:s}=Object(n.useContext)(Xa);Object(n.useEffect)(()=>(null!==i.id&&s({id:i.id,code:\"#open\"}),t||l(1),()=>{s({id:null,code:null})}),[]),Object(n.useEffect)(()=>{null!==i.id&&l(0)},[i]);return o.a.createElement(Ll,null,o.a.createElement(Wa.a,{className:a.header},o.a.createElement(Ml.a,{value:r,onChange:(e,a)=>{l(a)},showLabels:!0,className:a.root},o.a.createElement(Pl.a,{label:We.a.t(\"ticketAdvanced.ticketNav\"),icon:o.a.createElement(Na.a,null)}),o.a.createElement(Pl.a,{label:We.a.t(\"ticketAdvanced.attendanceNav\"),icon:o.a.createElement(Dl.a,null)}))),o.a.createElement(Wa.a,{className:a.content},0===r?t?o.a.createElement(jl,null):o.a.createElement(Wa.a,{className:a.placeholderContainer},\"//PLW DESIGN LOGO//\",o.a.createElement(\"div\",null,o.a.createElement(\"center\",null,o.a.createElement(\"img\",{style:{margin:\"0 auto\",width:\"70%\"},src:jn.a,alt:\"logologin\"}))),\"//PLW DESIGN LOGO//\",o.a.createElement(\"br\",null),o.a.createElement(ca.a,{onClick:()=>l(1),variant:\"contained\",color:\"primary\"},We.a.t(\"ticketAdvanced.selectTicket\"))):o.a.createElement(br,null)))};var Bl=Object(Do.a)()((function(e){return Object(Do.b)(\"md\",e.width)?o.a.createElement(Nl,null):o.a.createElement(Wl,null)})),zl=t(529),Hl=t.n(zl);const Ul=Object(T.a)(e=>({paper:{marginTop:e.spacing(8),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:\"100%\",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})),Vl=an.b().shape({name:an.d().min(2,We.a.t(\"signup.formErrors.name.short\")).max(50,We.a.t(\"signup.formErrors.name.long\")).required(We.a.t(\"signup.formErrors.name.required\")),password:an.d().min(5,We.a.t(\"signup.formErrors.password.short\")).max(50,We.a.t(\"signup.formErrors.password.long\")),email:an.d().email(We.a.t(\"signup.formErrors.email.invalid\")).required(We.a.t(\"signup.formErrors.email.required\"))});var Ql=()=>{const e=Ul(),a=Object(C.useHistory)();let t=null;const r=Hl.a.parse(window.location.search);void 0!==r.companyId&&(t=r.companyId);const[l]=Object(n.useState)({name:\"\",email:\"\",phone:\"\",password:\"\",planId:\"\"}),s=k()().add(3,\"day\").format(),[c,d]=Object(n.useState)([]),{list:m}=va();return Object(n.useEffect)(()=>{!async function(){const e=await m();d(e)}()},[]),o.a.createElement(Un.a,{component:\"main\",maxWidth:\"xs\"},o.a.createElement(i.a,null),o.a.createElement(\"div\",{className:e.paper},o.a.createElement(\"div\",null,o.a.createElement(\"center\",null,o.a.createElement(\"img\",{style:{margin:\"0 auto\",width:\"70%\"},src:jn.a,alt:\"Whats\"}))),o.a.createElement(tn.e,{initialValues:l,enableReinitialize:!0,validationSchema:Vl,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{Object.assign(e,{recurrence:\"MENSAL\"}),Object.assign(e,{dueDate:s}),Object.assign(e,{status:\"t\"}),Object.assign(e,{campaignsEnabled:!0});try{await Ge.post(\"/companies/cadastro\",e),w.b.success(We.a.t(\"signup.toasts.success\")),a.push(\"/login\")}catch(t){console.log(t),Ue(t)}})(e),t.setSubmitting(!1)},400)}},a=>{let{touched:t,errors:n,isSubmitting:r}=a;return o.a.createElement(tn.d,{className:e.form},o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,autoComplete:\"name\",name:\"name\",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:\"outlined\",fullWidth:!0,id:\"name\",label:We.a.t(\"signup.form.name\")})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,variant:\"outlined\",fullWidth:!0,id:\"email\",label:We.a.t(\"signup.form.email\"),name:\"email\",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:\"email\",required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:Zo.a,mask:\"(99) 99999-9999\",variant:\"outlined\",fullWidth:!0,id:\"phone\",name:\"phone\",error:t.phone&&Boolean(n.phone),helperText:t.phone&&n.phone,autoComplete:\"phone\",required:!0},e=>{let{field:a}=e;return o.a.createElement(sa.a,Object.assign({},a,{variant:\"outlined\",fullWidth:!0,label:We.a.t(\"signup.form.phone\"),inputProps:{maxLength:11}}))})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,variant:\"outlined\",fullWidth:!0,name:\"password\",error:t.password&&Boolean(n.password),helperText:t.password&&n.password,label:We.a.t(\"signup.form.password\"),type:\"password\",id:\"password\",autoComplete:\"current-password\",required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(on.a,{htmlFor:\"plan-selection\"},\"Plano\"),o.a.createElement(tn.b,{as:nn.a,variant:\"outlined\",fullWidth:!0,id:\"plan-selection\",label:We.a.t(\"signup.form.plan\"),name:\"planId\",required:!0},c.map((e,a)=>o.a.createElement(F.a,{key:a,value:e.id},e.name,\" - \",We.a.t(\"signup.plan.attendant\"),\": \",e.users,\" - \",We.a.t(\"signup.plan.whatsapp\"),\": \",e.connections,\" - \",We.a.t(\"signup.plan.queues\"),\": \",e.queues,\" - R$ \",e.value))))),o.a.createElement(ca.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:e.submit},We.a.t(\"signup.buttons.submit\")),o.a.createElement(Zt.a,{container:!0,justify:\"flex-end\"},o.a.createElement(Zt.a,{item:!0},o.a.createElement(hr.a,{href:\"#\",variant:\"body2\",component:x.b,to:\"/login\"},We.a.t(\"signup.buttons.login\")))))})),o.a.createElement(Wa.a,{mt:5}))},Kl=t(1375),Gl=t(1554),Yl=t(1555),Xl=t(1556);var _l=()=>o.a.createElement(q.a,{variant:\"body2\",color:\"primary\",align:\"center\"},\"Copyright \\xa9 \",o.a.createElement(hr.a,{color:\"inherit\",href:\"#\"},\"Whaticket\"),\" \",(new Date).getFullYear(),\".\");const Zl=Object(T.a)(e=>({root:{width:\"100vw\",height:\"100vh\",background:\"linear-gradient(135deg, \".concat(e.palette.primary.dark||\"#e0b035\",\" 0%, \").concat(e.palette.primary.main,\" 100%)\"),backgroundRepeat:\"no-repeat\",backgroundSize:\"cover\",backgroundPosition:\"center\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",textAlign:\"center\",position:\"relative\",overflow:\"hidden\",\"&::before\":{content:'\"\"',position:\"absolute\",top:0,left:0,right:0,bottom:0,background:\"url(\\\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E\\\")\",opacity:.8,\"z-index\":0}},paper:{backgroundColor:e.palette.login,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"55px 35px\",borderRadius:\"20px\",boxShadow:\"0 15px 35px rgba(0,0,0,0.15)\",backdropFilter:\"blur(10px)\",border:\"1px solid rgba(255,255,255,0.15)\",position:\"relative\",\"z-index\":1,transition:\"all 0.3s ease\",\"&:hover\":{boxShadow:\"0 20px 40px rgba(0,0,0,0.2)\",transform:\"translateY(-5px)\"},animation:\"$fadeIn 0.6s ease-out\"},\"@keyframes fadeIn\":{\"0%\":{opacity:0,transform:\"translateY(20px)\"},\"100%\":{opacity:1,transform:\"translateY(0)\"}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:\"100%\",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2),background:\"linear-gradient(135deg, \".concat(e.palette.primary.main,\" 0%, \").concat(e.palette.primary.light,\" 100%)\"),boxShadow:\"0 4px 15px rgba(251, 204, 60, 0.3)\",transition:\"all 0.3s ease\",\"&:hover\":{boxShadow:\"0 6px 20px rgba(251, 204, 60, 0.4)\",transform:\"translateY(-2px)\"}},powered:{color:\"white\",fontWeight:500,textShadow:\"0 1px 2px rgba(0,0,0,0.1)\"},languageControl:{position:\"absolute\",top:20,left:20,\"z-index\":10},languageButton:{backgroundColor:\"rgba(255, 255, 255, 0.15)\",backdropFilter:\"blur(10px)\",boxShadow:\"0 4px 12px rgba(0,0,0,0.1)\",transition:\"all 0.3s ease\",\"&:hover\":{backgroundColor:\"rgba(255, 255, 255, 0.25)\",transform:\"translateY(-2px)\"}},logoContainer:{marginBottom:e.spacing(3),transition:\"all 0.3s ease\",\"&:hover\":{transform:\"scale(1.05)\"}},link:{color:e.palette.primary.main,transition:\"all 0.3s ease\",fontWeight:500,\"&:hover\":{color:e.palette.primary.dark,textDecoration:\"none\"}},inputRoot:{borderRadius:8,transition:\"all 0.3s ease\",\"&:hover\":{boxShadow:\"0 2px 8px rgba(0,0,0,0.12)\"}},inputFocused:{boxShadow:\"0 3px 12px rgba(\".concat(e.palette.primary.light,\", 0.2)\"),borderColor:e.palette.primary.main},labelRoot:{fontWeight:400},labelFocused:{color:e.palette.primary.main,fontWeight:500},copyright:{color:\"rgba(255, 255, 255, 0.8)\",textShadow:\"0 1px 2px rgba(0,0,0,0.1)\",position:\"relative\",\"z-index\":1}}));var Jl=()=>{const e=Zl(),a=Object(j.a)(),[t,r]=Object(n.useState)({email:\"\",password:\"\"}),[l,s]=Object(n.useState)(null),[c,d]=Object(n.useState)(!1),{handleLogin:m}=Object(n.useContext)(ea),u=e=>{r({...t,[e.target.name]:e.target.value})};return o.a.createElement(\"div\",{className:e.root},o.a.createElement(\"div\",{className:e.languageControl},o.a.createElement(N.a,{edge:\"start\",className:e.languageButton,\"aria-label\":\"select language\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:e=>{s(e.currentTarget),d(!0)}},o.a.createElement(Bn.a,{variant:\"contained\",style:{color:\"white\"}})),o.a.createElement(L.a,{id:\"menu-appbar-language\",anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:c,onClose:()=>{s(null),d(!1)}},o.a.createElement(F.a,null,o.a.createElement(Wn,null)))),o.a.createElement(Un.a,{component:\"main\",maxWidth:\"xs\"},o.a.createElement(i.a,null),o.a.createElement(\"div\",{className:e.paper},o.a.createElement(\"div\",{className:e.logoContainer},o.a.createElement(\"img\",{style:{margin:\"0 auto\",width:\"70%\"},src:jn.a,alt:\"Whats\"})),o.a.createElement(\"form\",{className:e.form,noValidate:!0,onSubmit:e=>{e.preventDefault(),m(t)}},o.a.createElement(sa.a,{variant:\"outlined\",margin:\"normal\",required:!0,fullWidth:!0,id:\"email\",label:We.a.t(\"login.form.email\"),name:\"email\",value:t.email,onChange:u,autoComplete:\"email\",autoFocus:!0,InputProps:{classes:{root:e.inputRoot,focused:e.inputFocused},startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Gl.a,{style:{color:a.palette.text.secondary}}))},InputLabelProps:{classes:{root:e.labelRoot,focused:e.labelFocused}}}),o.a.createElement(sa.a,{variant:\"outlined\",margin:\"normal\",required:!0,fullWidth:!0,name:\"password\",label:We.a.t(\"login.form.password\"),type:\"password\",id:\"password\",value:t.password,onChange:u,autoComplete:\"current-password\",InputProps:{classes:{root:e.inputRoot,focused:e.inputFocused},startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Yl.a,{style:{color:a.palette.text.secondary}}))},InputLabelProps:{classes:{root:e.labelRoot,focused:e.labelFocused}}}),o.a.createElement(ca.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:e.submit,endIcon:o.a.createElement(Xl.a,null)},We.a.t(\"login.buttons.submit\")),o.a.createElement(Zt.a,{container:!0,justifyContent:\"center\",style:{marginTop:16}},o.a.createElement(Zt.a,{item:!0},o.a.createElement(hr.a,{component:x.b,to:\"/signup\",className:e.link},We.a.t(\"login.buttons.register\")))))),o.a.createElement(Wa.a,{mt:8},o.a.createElement(_l,null))))},$l=t(1557),ei=t(1558),ai=t(1559),ti=t(1560),ni=t(1561),oi=t(1562),ri=t(1563);const li=Object(T.a)(e=>({mainContainer:{flex:1,padding:e.spacing(3),height:\"calc(100% - 48px)\",backgroundColor:\"light\"===e.palette.mode?\"#f8f9fa\":\"#1e1e1e\",transition:\"all 0.3s ease\"},contentWrapper:{height:\"100%\",overflowY:\"hidden\",display:\"flex\",flexDirection:\"column\",borderRadius:\"12px\",\"& .MuiPaper-root\":{borderRadius:\"12px\",boxShadow:\"light\"===e.palette.mode?\"0 2px 20px rgba(0,0,0,0.04)\":\"0 2px 20px rgba(0,0,0,0.15)\",overflow:\"hidden\"},\"& .MuiTableContainer-root\":{borderRadius:\"12px\",overflow:\"hidden\"},\"& .MuiCard-root\":{borderRadius:\"12px\",boxShadow:\"light\"===e.palette.mode?\"0 2px 20px rgba(0,0,0,0.04)\":\"0 2px 20px rgba(0,0,0,0.15)\",overflow:\"hidden\",transition:\"transform 0.3s ease, box-shadow 0.3s ease\",\"&:hover\":{transform:\"translateY(-4px)\",boxShadow:\"light\"===e.palette.mode?\"0 10px 25px rgba(0,0,0,0.07)\":\"0 10px 25px rgba(0,0,0,0.2)\"}}}}));var ii=e=>{let{children:a}=e;const t=li();return o.a.createElement(Un.a,{className:t.mainContainer,maxWidth:\"xl\"},o.a.createElement(\"div\",{className:t.contentWrapper},a))};const si=Object(T.a)(e=>({contactsHeader:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"12px 16px\",backgroundColor:\"light\"===e.palette.mode?\"#ffffff\":\"#2a2a2a\",borderRadius:\"10px\",boxShadow:\"0 2px 10px rgba(0,0,0,0.05)\",margin:\"0 0 16px 0\",\"& > *\":{margin:e.spacing(.5)},\"& .MuiButton-root\":{borderRadius:\"8px\",textTransform:\"none\",fontWeight:500},\"& .MuiInputBase-root\":{borderRadius:\"8px\"}}}));var ci=e=>{let{children:a}=e;const t=si();return o.a.createElement(Cn.a,{elevation:0,className:t.contactsHeader},a)};const di=Object(T.a)(e=>({MainHeaderButtonsWrapper:{flex:\"none\",marginLeft:\"auto\",\"& > *\":{margin:e.spacing(1)}}}));var mi=e=>{let{children:a}=e;const t=di();return o.a.createElement(\"div\",{className:t.MainHeaderButtonsWrapper},a)};function ui(e){return o.a.createElement(q.a,{variant:\"h5\",color:\"primary\",gutterBottom:!0},e.children)}const pi=Object(T.a)(e=>({customTableCell:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}));var gi=e=>{let{avatar:a,columns:t}=e;const n=pi();return o.a.createElement(o.a.Fragment,null,o.a.createElement(so.a,null,a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ro.a,{style:{paddingRight:0}},o.a.createElement(jt.a,{animation:\"wave\",variant:\"circle\",width:40,height:40})),o.a.createElement(ro.a,null,o.a.createElement(jt.a,{animation:\"wave\",height:30,width:80}))),Array.from({length:t},(e,a)=>o.a.createElement(ro.a,{align:\"center\",key:a},o.a.createElement(\"div\",{className:n.customTableCell},o.a.createElement(jt.a,{align:\"center\",animation:\"wave\",height:30,width:80}))))))};const bi=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}})),Ei=an.b().shape({name:an.d().min(2,We.a.t(\"whatsappModal.formErrors.name.short\")).max(50,We.a.t(\"whatsappModal.formErrors.name.long\")).required(We.a.t(\"whatsappModal.formErrors.name.required\"))});var fi=o.a.memo(e=>{let{open:a,onClose:t,whatsAppId:r}=e;const l=bi(),i={name:\"\",greetingMessage:\"\",complationMessage:\"\",outOfHoursMessage:\"\",ratingMessage:\"\",isDefault:!1,token:\"\",provider:\"beta\",expiresInactiveMessage:\"\",expiresTicket:0,timeUseBotQueues:0,maxUseBotQueues:3,integration:null},[s,c]=Object(n.useState)(i),[d,m]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(null),[h,A]=Object(n.useState)([]),[y,v]=Object(n.useState)([]),[x,C]=Object(n.useState)(null);Object(n.useEffect)(()=>{(async()=>{if(r)try{var e;const{data:a}=await Ye.get(\"whatsapp/\".concat(r,\"?session=0\"));c(a),f(a.promptId),C(a.integrationId);const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);m(t),b(a.transferQueueId)}catch(a){Ue(a)}})()},[r]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/prompt\");A(e.prompts);const{data:a}=await Ye.get(\"/queueIntegration\");v(a.queueIntegrations)}catch(e){Ue(e)}})()},[r]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/queue\");p(e)}catch(e){Ue(e)}})()},[]);const S=e=>{f(e.target.value),m([])},O=e=>{C(e.target.value)},k=()=>{t(),c(i),b(null),m([])};return o.a.createElement(\"div\",{className:l.root},o.a.createElement(tt.a,{open:a,onClose:k,maxWidth:\"md\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,null,r?We.a.t(\"whatsappModal.title.edit\"):We.a.t(\"whatsappModal.title.add\")),o.a.createElement(tn.e,{initialValues:s,enableReinitialize:!0,validationSchema:Ei,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,queueIds:d,transferQueueId:g,promptId:E||null,integrationId:x};delete a.queues,delete a.session;try{r?await Ye.put(\"/whatsapp/\".concat(r),a):await Ye.post(\"/whatsapp\",a),w.b.success(We.a.t(\"whatsappModal.success\")),k()}catch(t){Ue(t)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(\"div\",{className:l.multFieldLine},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"whatsappModal.form.name\"),autoFocus:!0,name:\"name\",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:\"outlined\",margin:\"dense\",className:l.textField})),o.a.createElement(Zt.a,{style:{paddingTop:15},item:!0},o.a.createElement(Ln.a,{control:o.a.createElement(tn.b,{as:Qo.a,color:\"primary\",name:\"isDefault\",checked:a.isDefault}),label:We.a.t(\"whatsappModal.form.default\")})))),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.greetingMessage\"),type:\"greetingMessage\",multiline:!0,rows:4,fullWidth:!0,name:\"greetingMessage\",error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,variant:\"outlined\",margin:\"dense\"})),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.complationMessage\"),type:\"complationMessage\",multiline:!0,rows:4,fullWidth:!0,name:\"complationMessage\",error:t.complationMessage&&Boolean(n.complationMessage),helperText:t.complationMessage&&n.complationMessage,variant:\"outlined\",margin:\"dense\"})),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.outOfHoursMessage\"),type:\"outOfHoursMessage\",multiline:!0,rows:4,fullWidth:!0,name:\"outOfHoursMessage\",error:t.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:t.outOfHoursMessage&&n.outOfHoursMessage,variant:\"outlined\",margin:\"dense\"})),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.ratingMessage\"),type:\"ratingMessage\",multiline:!0,rows:4,fullWidth:!0,name:\"ratingMessage\",error:t.ratingMessage&&Boolean(n.ratingMessage),helperText:t.ratingMessage&&n.ratingMessage,variant:\"outlined\",margin:\"dense\"})),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.token\"),type:\"token\",fullWidth:!0,name:\"token\",variant:\"outlined\",margin:\"dense\"})),o.a.createElement(cn,{selectedQueueIds:d,onChange:e=>(m(e),void f(null))}),o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,null,We.a.t(\"whatsappModal.form.prompt\")),o.a.createElement(nn.a,{labelId:\"dialog-select-prompt-label\",id:\"dialog-select-prompt\",name:\"promptId\",value:E||\"\",onChange:S,label:We.a.t(\"whatsappModal.form.prompt\"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null}},h.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,null,We.a.t(\"whatsappModal.form.integration\")),o.a.createElement(nn.a,{labelId:\"dialog-select-integration-label\",id:\"dialog-select-integration\",name:\"promptId\",value:x||\"\",onChange:O,label:We.a.t(\"whatsappModal.form.integration\"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null}},y.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(\"div\",null,o.a.createElement(\"h3\",null,We.a.t(\"whatsappModal.form.queueRedirection\")),o.a.createElement(\"p\",null,We.a.t(\"whatsappModal.form.queueRedirectionDesc\")),o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{item:!0,sm:6},o.a.createElement(tn.b,{fullWidth:!0,type:\"number\",as:sa.a,label:We.a.t(\"whatsappModal.form.timeToTransfer\"),name:\"timeToTransfer\",error:t.timeToTransfer&&Boolean(n.timeToTransfer),helperText:t.timeToTransfer&&n.timeToTransfer,variant:\"outlined\",margin:\"dense\",className:l.textField,InputLabelProps:{shrink:!!a.timeToTransfer}})),o.a.createElement(Zt.a,{item:!0,sm:6},o.a.createElement(cn,{selectedQueueIds:g,onChange:e=>{b(e)},multiple:!1,title:We.a.t(\"whatsappModal.form.queue\")}))),o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,md:12,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"whatsappModal.form.expiresTicket\"),fullWidth:!0,name:\"expiresTicket\",variant:\"outlined\",margin:\"dense\",error:t.expiresTicket&&Boolean(n.expiresTicket),helperText:t.expiresTicket&&n.expiresTicket}))),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"whatsappModal.form.expiresInactiveMessage\"),multiline:!0,rows:4,fullWidth:!0,name:\"expiresInactiveMessage\",error:t.expiresInactiveMessage&&Boolean(n.expiresInactiveMessage),helperText:t.expiresInactiveMessage&&n.expiresInactiveMessage,variant:\"outlined\",margin:\"dense\"})))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:k,color:\"secondary\",disabled:i,variant:\"outlined\"},We.a.t(\"whatsappModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:i,variant:\"contained\",className:l.btnWrapper},r?We.a.t(\"whatsappModal.buttons.okEdit\"):We.a.t(\"whatsappModal.buttons.okAdd\"),i&&o.a.createElement(Ba.a,{size:24,className:l.buttonProgress}))))})))}),hi=t(861),Ai=t.n(hi);var yi=o.a.memo(e=>{let{open:a,onClose:t,whatsAppId:r}=e;const[l,i]=Object(n.useState)(\"\"),s=(Object(j.a)(),Object(n.useContext)(v));return Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await Ye.get(\"/whatsapp/\".concat(r));i(e.qrcode)}catch(e){Ue(e)}})()},[r]),Object(n.useEffect)(()=>{if(!r)return;const e=localStorage.getItem(\"companyId\"),a=s.getSocket(e);return a.on(\"company-\".concat(e,\"-whatsappSession\"),e=>{\"update\"===e.action&&e.session.id===r&&i(e.session.qrcode),\"update\"===e.action&&\"\"===e.session.qrcode&&t()}),()=>{a.disconnect()}},[r,t,s]),o.a.createElement(tt.a,{open:a,onClose:t,maxWidth:\"lg\",scroll:\"paper\"},o.a.createElement(pt.a,null,o.a.createElement(Cn.a,{elevation:0,style:{display:\"flex\",alignItems:\"center\"}},o.a.createElement(\"div\",{style:{marginRight:\"20px\"}},o.a.createElement(q.a,{variant:\"h2\",component:\"h2\",color:\"textPrimary\",gutterBottom:!0,style:{fontFamily:\"Montserrat\",fontWeight:\"bold\",fontSize:\"20px\"}},We.a.t(\"qrCodeModal.title\")),o.a.createElement(q.a,{variant:\"body1\",color:\"textPrimary\",gutterBottom:!0},We.a.t(\"qrCodeModal.steps.one\")),o.a.createElement(q.a,{variant:\"body1\",color:\"textPrimary\",gutterBottom:!0},We.a.t(\"qrCodeModal.steps.two.partOne\"),\" \",o.a.createElement(\"svg\",{class:\"MuiSvgIcon-root\",focusable:\"false\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\"},o.a.createElement(\"path\",{d:\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"})),\" \",We.a.t(\"qrCodeModal.steps.two.partTwo\"),\" \",o.a.createElement(\"svg\",{class:\"MuiSvgIcon-root\",focusable:\"false\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\"},o.a.createElement(\"path\",{d:\"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"})),\" \",We.a.t(\"qrCodeModal.steps.two.partThree\")),o.a.createElement(q.a,{variant:\"body1\",color:\"textPrimary\",gutterBottom:!0},We.a.t(\"qrCodeModal.steps.three\")),o.a.createElement(q.a,{variant:\"body1\",color:\"textPrimary\",gutterBottom:!0},We.a.t(\"qrCodeModal.steps.four\"))),o.a.createElement(\"div\",null,l?o.a.createElement(Ai.a,{value:l,size:256}):o.a.createElement(\"span\",null,We.a.t(\"qrCodeModal.waiting\"))))))});const vi=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles},customTableCell:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},tooltip:{backgroundColor:\"#f5f5f9\",color:\"rgba(0, 0, 0, 0.87)\",fontSize:e.typography.pxToRem(14),border:\"1px solid #dadde9\",maxWidth:450},tooltipPopper:{textAlign:\"center\"},buttonProgress:{color:Ra.a[500]}})),xi=e=>{let{title:a,content:t,children:n}=e;const r=vi();return o.a.createElement(Ya.a,{arrow:!0,classes:{tooltip:r.tooltip,popper:r.tooltipPopper},title:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{gutterBottom:!0,color:\"inherit\"},a),t&&o.a.createElement(q.a,null,t))},n)};var Ci=()=>{const e=vi(),{user:a}=Object(n.useContext)(ea),{whatsApps:t,loading:r}=Object(n.useContext)(Ze),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(!1),g={action:\"\",title:\"\",message:\"\",whatsAppId:\"\",open:!1},[b,E]=Object(n.useState)(g),f=()=>{m(null),i(!0)},h=Object(n.useCallback)(()=>{i(!1),m(null)},[m,i]),A=Object(n.useCallback)(()=>{m(null),c(!1)},[c,m]),y=(e,a)=>{\"disconnect\"===e&&E({action:e,title:We.a.t(\"connections.confirmationModal.disconnectTitle\"),message:We.a.t(\"connections.confirmationModal.disconnectMessage\"),whatsAppId:a}),\"delete\"===e&&E({action:e,title:We.a.t(\"connections.confirmationModal.deleteTitle\"),message:We.a.t(\"connections.confirmationModal.deleteMessage\"),whatsAppId:a}),p(!0)},v=e=>o.a.createElement(o.a.Fragment,null,\"qrcode\"===e.status&&o.a.createElement(ca.a,{size:\"small\",variant:\"contained\",color:\"primary\",onClick:()=>(e=>{m(e),c(!0)})(e)},We.a.t(\"connections.buttons.qrcode\")),\"DISCONNECTED\"===e.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,{size:\"small\",variant:\"outlined\",color:\"primary\",onClick:()=>(async e=>{try{await Ye.post(\"/whatsappsession/\".concat(e))}catch(a){Ue(a)}})(e.id)},We.a.t(\"connections.buttons.tryAgain\")),\" \",o.a.createElement(ca.a,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>(async e=>{try{await Ye.put(\"/whatsappsession/\".concat(e))}catch(a){Ue(a)}})(e.id)},We.a.t(\"connections.buttons.newQr\"))),(\"CONNECTED\"===e.status||\"PAIRING\"===e.status||\"TIMEOUT\"===e.status)&&o.a.createElement(ca.a,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>{y(\"disconnect\",e.id)}},We.a.t(\"connections.buttons.disconnect\")),\"OPENING\"===e.status&&o.a.createElement(ca.a,{size:\"small\",variant:\"outlined\",disabled:!0,color:\"default\"},We.a.t(\"connections.buttons.connecting\")));return o.a.createElement(ii,null,o.a.createElement(bt,{title:b.title,open:u,onClose:p,onConfirm:async()=>{if(\"disconnect\"===b.action)try{await Ye.delete(\"/whatsappsession/\".concat(b.whatsAppId))}catch(e){Ue(e)}if(\"delete\"===b.action)try{await Ye.delete(\"/whatsapp/\".concat(b.whatsAppId)),w.b.success(We.a.t(\"connections.toasts.deleted\"))}catch(e){Ue(e)}E(g)}},b.message),o.a.createElement(yi,{open:s,onClose:A,whatsAppId:!l&&(null===d||void 0===d?void 0:d.id)}),o.a.createElement(fi,{open:l,onClose:h,whatsAppId:!s&&(null===d||void 0===d?void 0:d.id)}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"connections.title\")),o.a.createElement(mi,null,o.a.createElement(na,{role:a.profile,perform:\"connections-page:addConnection\",yes:()=>o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:f},We.a.t(\"connections.buttons.add\"))}))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\"},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"connections.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"connections.table.status\")),o.a.createElement(na,{role:a.profile,perform:\"connections-page:actionButtons\",yes:()=>o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"connections.table.session\"))}),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"connections.table.lastUpdate\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"connections.table.default\")),o.a.createElement(na,{role:a.profile,perform:\"connections-page:editOrDeleteConnection\",yes:()=>o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"connections.table.actions\"))}))),o.a.createElement(oo.a,null,r?o.a.createElement(gi,null):o.a.createElement(o.a.Fragment,null,(null===t||void 0===t?void 0:t.length)>0&&t.map(t=>o.a.createElement(so.a,{key:t.id},o.a.createElement(ro.a,{align:\"center\"},t.name),o.a.createElement(ro.a,{align:\"center\"},(a=>o.a.createElement(\"div\",{className:e.customTableCell},\"DISCONNECTED\"===a.status&&o.a.createElement(xi,{title:We.a.t(\"connections.toolTips.disconnected.title\"),content:We.a.t(\"connections.toolTips.disconnected.content\")},o.a.createElement($l.a,{color:\"secondary\"})),\"OPENING\"===a.status&&o.a.createElement(Ba.a,{size:24,className:e.buttonProgress}),\"qrcode\"===a.status&&o.a.createElement(xi,{title:We.a.t(\"connections.toolTips.qrcode.title\"),content:We.a.t(\"connections.toolTips.qrcode.content\")},o.a.createElement(ei.a,null)),\"CONNECTED\"===a.status&&o.a.createElement(xi,{title:We.a.t(\"connections.toolTips.connected.title\")},o.a.createElement(ai.a,{style:{color:Ra.a[500]}})),(\"TIMEOUT\"===a.status||\"PAIRING\"===a.status)&&o.a.createElement(xi,{title:We.a.t(\"connections.toolTips.timeout.title\"),content:We.a.t(\"connections.toolTips.timeout.content\")},o.a.createElement(ti.a,{color:\"secondary\"}))))(t)),o.a.createElement(na,{role:a.profile,perform:\"connections-page:actionButtons\",yes:()=>o.a.createElement(ro.a,{align:\"center\"},v(t))}),o.a.createElement(ro.a,{align:\"center\"},Object(ka.a)(Object(Pa.a)(t.updatedAt),\"dd/MM/yy HH:mm\")),o.a.createElement(ro.a,{align:\"center\"},t.isDefault&&o.a.createElement(\"div\",{className:e.customTableCell},o.a.createElement(ni.a,{style:{color:Ra.a[500]}}))),o.a.createElement(na,{role:a.profile,perform:\"connections-page:editOrDeleteConnection\",yes:()=>o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{m(e),i(!0)})(t)},o.a.createElement(oi.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:e=>{y(\"delete\",t.id)}},o.a.createElement(ri.a,null)))}))))))))},wi=t(652);const Si=Object(T.a)(e=>({root:{width:\"100%\"},fullWidth:{width:\"100%\"},textfield:{width:\"100%\"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:\"right\",padding:e.spacing(1)}}));var Oi=function(e){const{initialValues:a,onSubmit:t,loading:r,labelSaveButton:l}=e,i=Si(),[s,c]=Object(n.useState)([{weekday:\"Segunda-feira\",weekdayEn:\"monday\",startTime:\"\",endTime:\"\"},{weekday:\"Ter\\xe7a-feira\",weekdayEn:\"tuesday\",startTime:\"\",endTime:\"\"},{weekday:\"Quarta-feira\",weekdayEn:\"wednesday\",startTime:\"\",endTime:\"\"},{weekday:\"Quinta-feira\",weekdayEn:\"thursday\",startTime:\"\",endTime:\"\"},{weekday:\"Sexta-feira\",weekdayEn:\"friday\",startTime:\"\",endTime:\"\"},{weekday:\"S\\xe1bado\",weekdayEn:\"saturday\",startTime:\"\",endTime:\"\"},{weekday:\"Domingo\",weekdayEn:\"sunday\",startTime:\"\",endTime:\"\"}]);return Object(n.useEffect)(()=>{Object(He.isArray)(a)&&a.length>0&&c(a)},[a]),o.a.createElement(tn.e,{enableReinitialize:!0,className:i.fullWidth,initialValues:{schedules:s},onSubmit:e=>{let{schedules:a}=e;return setTimeout(()=>{t(a)},500)}},e=>{let{values:a}=e;return o.a.createElement(tn.d,{className:i.fullWidth},o.a.createElement(tn.c,{name:\"schedules\",render:e=>o.a.createElement(Zt.a,{spacing:4,container:!0},a.schedules.map((e,a)=>o.a.createElement(Un.a,null,o.a.createElement(tn.a,{as:sa.a,label:We.a.t(\"settings.schedules.form.weekday\"),name:\"schedules[\".concat(a,\"].weekday\"),disabled:!0,variant:\"outlined\",style:{marginRight:\"3.2%\",width:\"30%\"},margin:\"dense\"}),o.a.createElement(tn.a,{name:\"schedules[\".concat(a,\"].startTime\")},e=>{let{field:a}=e;return o.a.createElement(wi.a,Object.assign({label:We.a.t(\"settings.schedules.form.initialHour\")},a,{variant:\"outlined\",margin:\"dense\",customInput:sa.a,format:\"##:##\",style:{marginRight:\"3.2%\",width:\"30%\"}}))}),o.a.createElement(tn.a,{name:\"schedules[\".concat(a,\"].endTime\")},e=>{let{field:a}=e;return o.a.createElement(wi.a,Object.assign({label:We.a.t(\"settings.schedules.form.finalHour\")},a,{variant:\"outlined\",margin:\"dense\",customInput:sa.a,format:\"##:##\",style:{marginRight:\"3.2%\",width:\"30%\"}}))}))))}),o.a.createElement(\"div\",{style:{textAlign:\"center\",marginTop:\"2%\"},className:i.buttonContainer},o.a.createElement(Ha,{loading:r,type:\"submit\",color:\"primary\",variant:\"contained\"},null!==l&&void 0!==l?l:We.a.t(\"settings.schedules.form.save\"))))})};var ki=()=>({save:async e=>{const{data:a}=await Ye.request({url:\"/companies\",method:\"POST\",data:e});return a},update:async e=>{const{data:a}=await Ye.request({url:\"/companies/\".concat(e.id),method:\"PUT\",data:e});return a},remove:async e=>{const{data:a}=await Ye.request({url:\"/companies/\".concat(e),method:\"DELETE\"});return a},list:async e=>{const{data:a}=await Ye.request({url:\"/companies/list\",method:\"GET\"});return a},find:async e=>{const{data:a}=await Ye.request({url:\"/companies/\".concat(e),method:\"GET\"});return a},finding:async e=>{const{data:a}=await Ye.request({url:\"/companies/\".concat(e),method:\"GET\"});return a},findAll:async e=>{const{data:a}=await Ye.request({url:\"/companies\",method:\"GET\"});return a},updateSchedules:async e=>{const{data:a}=await Ye.request({url:\"/companies/\".concat(e.id,\"/schedules\"),method:\"PUT\",data:e});return a}});const Ti=Object(T.a)(e=>({chips:{display:\"flex\",flexWrap:\"wrap\"},chip:{margin:2}}));var ji=e=>{let{selectedQueueIds:a,companyId:t,onChange:r}=e;const l=Ti(),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/queue\",{params:{companyId:t}});s(e)}catch(e){Ue(e)}})()},[t]);return o.a.createElement(\"div\",{style:{marginTop:6}},o.a.createElement(rn.a,{fullWidth:!0,margin:\"dense\",variant:\"outlined\"},o.a.createElement(on.a,null,We.a.t(\"queueSelect.inputLabel\")),o.a.createElement(nn.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{r(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:e=>o.a.createElement(\"div\",{className:l.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=i.find(a=>a.id===e);return a?o.a.createElement(ln.a,{key:e,style:{backgroundColor:a.color},variant:\"outlined\",label:a.name,className:l.chip}):null}))},i.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))};const Ii=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Ni=an.b().shape({name:an.d().min(2,\"Too Short!\").max(50,\"Too Long!\").required(\"Required\"),password:an.d().min(5,\"Too Short!\").max(50,\"Too Long!\"),email:an.d().email(\"Invalid email\").required(\"Required\")});var Mi=e=>{let{open:a,onClose:t,userId:r,companyId:l}=e;const i=Ii(),s={name:\"\",email:\"\",password:\"\",profile:\"user\"},{user:c}=Object(n.useContext)(ea),[d,m]=Object(n.useState)(s),[u,p]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{if(r&&a)try{var e;const{data:a}=await Ye.get(\"/users/\".concat(r));m(e=>({...e,...a}));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);p(t)}catch(t){Ue(t)}})()},[r,a]);const g=()=>{t(),m(s)};return o.a.createElement(\"div\",{className:i.root},o.a.createElement(tt.a,{open:a,onClose:g,maxWidth:\"xs\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"userModal.title.edit\"):We.a.t(\"userModal.title.add\"))),o.a.createElement(tn.e,{initialValues:d,enableReinitialize:!0,validationSchema:Ni,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,companyId:l,queueIds:u};try{r?await Ye.put(\"/users/\".concat(r),a):await Ye.post(\"/users\",a),w.b.success(We.a.t(\"userModal.success\"))}catch(t){Ue(t)}g()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"userModal.form.name\"),autoFocus:!0,name:\"name\",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"userModal.form.password\"),type:\"password\",name:\"password\",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"userModal.form.email\"),name:\"email\",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(rn.a,{variant:\"outlined\",className:i.formControl,margin:\"dense\"},o.a.createElement(na,{role:c.profile,perform:\"user-modal:editProfile\",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(on.a,{id:\"profile-selection-input-label\"},We.a.t(\"userModal.form.profile\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"userModal.form.profile\"),name:\"profile\",labelId:\"profile-selection-label\",id:\"profile-selection\",required:!0},o.a.createElement(F.a,{value:\"admin\"},\"Admin\"),o.a.createElement(F.a,{value:\"user\"},\"User\")))}))),o.a.createElement(na,{role:c.profile,perform:\"user-modal:editQueues\",yes:()=>o.a.createElement(ji,{companyId:l,selectedQueueIds:u,onChange:e=>p(e)})})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:g,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"userModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:i.btnWrapper},\"\".concat(r?We.a.t(\"userModal.buttons.okEdit\"):We.a.t(\"userModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:i.buttonProgress}))))})))};const Pi=Object(T.a)(e=>({root:{width:\"100%\"},mainPaper:{width:\"100%\",flex:1,padding:e.spacing(2)},fullWidth:{width:\"100%\"},tableContainer:{width:\"100%\",overflowX:\"scroll\",...e.scrollbarStyles},textfield:{width:\"100%\"},textRight:{textAlign:\"right\"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:\"right\",padding:e.spacing(1)}}));function Ri(e){const{onSubmit:a,onDelete:t,onCancel:r,initialValue:l,loading:i}=e,s=Pi(),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)({name:\"\",email:\"\",phone:\"\",planId:\"\",status:!0,campaignsEnabled:!1,dueDate:\"\",recurrence:\"\",...l}),{list:f}=va();Object(n.useEffect)(()=>{!async function(){const e=await f();d(e)}()},[]),Object(n.useEffect)(()=>{E(e=>(k()(l).isValid()&&(l.dueDate=k()(l.dueDate).format(\"YYYY-MM-DD\")),{...e,...l}))},[l]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Mi,{userId:p.id,companyId:l.id,open:m,onClose:()=>{g({}),u(!1)}}),o.a.createElement(tn.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:b,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{\"\"!==e.dueDate&&!1!==k()(e.dueDate).isValid()||(e.dueDate=null),a(e),E({...l,dueDate:\"\"})})(e),n()},500)}},(e,a)=>o.a.createElement(tn.d,{className:s.fullWidth},o.a.createElement(Zt.a,{spacing:2,justifyContent:\"flex-end\",container:!0},o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"settings.company.form.name\"),name:\"name\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"settings.company.form.email\"),name:\"email\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\",required:!0})),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"settings.company.form.phone\"),name:\"phone\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"plan-selection\"},We.a.t(\"settings.company.form.plan\")),o.a.createElement(tn.b,{as:nn.a,id:\"plan-selection\",label:We.a.t(\"settings.company.form.plan\"),labelId:\"plan-selection-label\",name:\"planId\",margin:\"dense\",required:!0},c.map((e,a)=>o.a.createElement(F.a,{key:a,value:e.id},e.name))))),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"status-selection\"},We.a.t(\"settings.company.form.status\")),o.a.createElement(tn.b,{as:nn.a,id:\"status-selection\",label:We.a.t(\"settings.company.form.status\"),labelId:\"status-selection-label\",name:\"status\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"settings.company.form.yes\")),o.a.createElement(F.a,{value:!1},We.a.t(\"settings.company.form.no\"))))),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"status-selection\"},We.a.t(\"settings.company.form.campanhas\")),o.a.createElement(tn.b,{as:nn.a,id:\"campaigns-selection\",label:We.a.t(\"settings.company.form.campanhas\"),labelId:\"campaigns-selection-label\",name:\"campaignsEnabled\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"settings.company.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"settings.company.form.disabled\"))))),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",fullWidth:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"settings.company.form.dueDate\"),type:\"date\",name:\"dueDate\",InputLabelProps:{shrink:!0},variant:\"outlined\",fullWidth:!0,margin:\"dense\"}))),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"recorrencia-selection\"},We.a.t(\"settings.company.form.recurrence\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"settings.company.form.recurrence\"),labelId:\"recorrencia-selection-label\",id:\"recurrence\",name:\"recurrence\",margin:\"dense\"},o.a.createElement(F.a,{value:\"MENSAL\"},We.a.t(\"settings.company.form.monthly\"))))),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Zt.a,{justifyContent:\"flex-end\",spacing:1,container:!0},o.a.createElement(Zt.a,{xs:4,md:1,item:!0},o.a.createElement(Ha,{className:s.fullWidth,style:{marginTop:7},loading:i,onClick:()=>r(),variant:\"contained\"},We.a.t(\"settings.company.buttons.clear\"))),void 0!==b.id?o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{xs:6,md:1,item:!0},o.a.createElement(Ha,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>t(b),variant:\"contained\",color:\"secondary\"},We.a.t(\"settings.company.buttons.delete\"))),o.a.createElement(Zt.a,{xs:6,md:2,item:!0},o.a.createElement(Ha,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>(()=>{const e={...b};if(\"\"!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case\"MENSAL\":e.dueDate=k()(e.dueDate).add(1,\"month\").format(\"YYYY-MM-DD\");break;case\"BIMESTRAL\":e.dueDate=k()(e.dueDate).add(2,\"month\").format(\"YYYY-MM-DD\");break;case\"TRIMESTRAL\":e.dueDate=k()(e.dueDate).add(3,\"month\").format(\"YYYY-MM-DD\");break;case\"SEMESTRAL\":e.dueDate=k()(e.dueDate).add(6,\"month\").format(\"YYYY-MM-DD\");break;case\"ANUAL\":e.dueDate=k()(e.dueDate).add(12,\"month\").format(\"YYYY-MM-DD\")}E(e)})(),variant:\"contained\",color:\"primary\"},We.a.t(\"settings.company.buttons.expire\"))),o.a.createElement(Zt.a,{xs:6,md:1,item:!0},o.a.createElement(Ha,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>(async()=>{try{const{data:e}=await Ye.get(\"/users/list\",{params:{companyId:l.id}});Object(He.isArray)(e)&&e.length&&g(Object(He.head)(e)),u(!0)}catch(e){w.b.error(e)}})(),variant:\"contained\",color:\"primary\"},We.a.t(\"settings.company.buttons.user\")))):null,o.a.createElement(Zt.a,{xs:6,md:1,item:!0},o.a.createElement(Ha,{className:s.fullWidth,style:{marginTop:7},loading:i,type:\"submit\",variant:\"contained\",color:\"primary\"},We.a.t(\"settings.company.buttons.save\")))))))))}function Di(e){const{records:a,onSelect:t}=e,n=Pi(),{dateToClient:r}=In(),l=e=>{if(k()(e.dueDate).isValid()){const a=k()(),t=k()(e.dueDate).diff(a,\"days\");if(5===t)return{backgroundColor:\"#fffead\"};if(t>=-3&&t<=4)return{backgroundColor:\"#f7cc8f\"};if(-4===t)return{backgroundColor:\"#fa8c8c\"}}return{}};return o.a.createElement(Cn.a,{className:n.tableContainer},o.a.createElement(no.a,{className:n.fullWidth,size:\"small\",\"aria-label\":\"a dense table\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\",style:{width:\"1%\"}},\"#\"),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.name\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.email\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.phone\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.plan\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.campanhas\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.status\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.createdAt\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.company.form.expire\")))),o.a.createElement(oo.a,null,a.map((e,a)=>o.a.createElement(so.a,{style:l(e),key:a},o.a.createElement(ro.a,{align:\"center\",style:{width:\"1%\"}},o.a.createElement(N.a,{onClick:()=>t(e),\"aria-label\":\"delete\"},o.a.createElement(oi.a,null))),o.a.createElement(ro.a,{align:\"left\"},e.name||\"-\"),o.a.createElement(ro.a,{align:\"left\"},e.email||\"-\"),o.a.createElement(ro.a,{align:\"left\"},e.phone||\"-\"),o.a.createElement(ro.a,{align:\"left\"},(e=>null!==e.planId?e.plan.name:\"-\")(e)),o.a.createElement(ro.a,{align:\"left\"},(e=>{if(Object(He.has)(e,\"settings\")&&Object(He.isArray)(e.settings)&&e.settings.length>0){const a=e.settings.find(e=>\"campaignsEnabled\"===e.key);if(a)return\"true\"===a.value?We.a.t(\"settings.company.form.enabled\"):We.a.t(\"settings.company.form.disabled\")}return We.a.t(\"settings.company.form.disabled\")})(e)),o.a.createElement(ro.a,{align:\"left\"},(e=>!1===e.status?\"N\\xe3o\":\"Sim\")(e)),o.a.createElement(ro.a,{align:\"left\"},r(e.createdAt)),o.a.createElement(ro.a,{align:\"left\"},r(e.dueDate),o.a.createElement(\"br\",null),o.a.createElement(\"span\",null,e.recurrence)))))))}function qi(){const e=Pi(),{list:a,save:t,update:r,remove:l}=ki(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:\"\",email:\"\",phone:\"\",planId:\"\",status:!0,campaignsEnabled:!1,dueDate:\"\",recurrence:\"\"});Object(n.useEffect)(()=>{b()},[]);const b=async()=>{d(!0);try{const e=await a();u(e)}catch(e){w.b.error(We.a.t(\"settings.company.toasts.errorList\"))}d(!1)},E=()=>{g(e=>({...e,id:void 0,name:\"\",email:\"\",phone:\"\",planId:\"\",status:!0,campaignsEnabled:!1,dueDate:\"\",recurrence:\"\"}))};return o.a.createElement(Cn.a,{className:e.mainPaper,elevation:0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Ri,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0);try{0!==e.id&&void 0!==e.id?await r(e):await t(e),await b(),E(),w.b.success(We.a.t(\"settings.company.toasts.success\"))}catch(a){w.b.error(We.a.t(\"settings.company.toasts.error\"))}d(!1)},onCancel:E,loading:c})),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Di,{records:m,onSelect:e=>{let a=!1;const t=e.settings.find(e=>e.key.indexOf(\"campaignsEnabled\")>-1);t&&(a=\"true\"===t.value||\"enabled\"===t.value),g(t=>({...t,id:e.id,name:e.name||\"\",phone:e.phone||\"\",email:e.email||\"\",planId:e.planId||\"\",status:!1!==e.status,campaignsEnabled:a,dueDate:e.dueDate||\"\",recurrence:e.recurrence||\"\"}))}}))),o.a.createElement(bt,{title:We.a.t(\"settings.company.confirmModal.title\"),open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await l(p.id),await b(),E(),w.b.success(We.a.t(\"settings.company.toasts.success\"))}catch(e){w.b.error(We.a.t(\"settings.company.toasts.errorOperation\"))}d(!1)})()},We.a.t(\"settings.company.confirmModal.message\")))}const Li=Object(T.a)(e=>({root:{width:\"100%\"},mainPaper:{width:\"100%\",flex:1,padding:e.spacing(2)},fullWidth:{width:\"100%\"},tableContainer:{width:\"100%\",overflowX:\"scroll\",...e.scrollbarStyles},textfield:{width:\"100%\"},textRight:{textAlign:\"right\"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:\"right\",padding:e.spacing(1)}}));function Fi(e){const{onSubmit:a,onDelete:t,onCancel:r,initialValue:l,loading:i}=e,s=Li(),[c,d]=Object(n.useState)({name:\"\",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});Object(n.useEffect)(()=>{d(l)},[l]);return o.a.createElement(tn.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>o.a.createElement(tn.d,{className:s.fullWidth},o.a.createElement(Zt.a,{spacing:1,justifyContent:\"flex-start\",container:!0},o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"plans.form.name\"),name:\"name\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"plans.form.users\"),name:\"users\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\",type:\"number\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"plans.form.connections\"),name:\"connections\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\",type:\"number\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"plans.form.queues\"),name:\"queues\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\",type:\"number\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"plans.form.value\"),name:\"value\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\",type:\"text\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"useCampaigns-selection\"},We.a.t(\"plans.form.campaigns\")),o.a.createElement(tn.b,{as:nn.a,id:\"useCampaigns-selection\",label:We.a.t(\"plans.form.campaigns\"),labelId:\"useCampaigns-selection-label\",name:\"useCampaigns\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"plans.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"plans.form.disabled\"))))),o.a.createElement(Zt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"useSchedules-selection\"},We.a.t(\"plans.form.schedules\")),o.a.createElement(tn.b,{as:nn.a,id:\"useSchedules-selection\",label:We.a.t(\"plans.form.schedules\"),labelId:\"useSchedules-selection-label\",name:\"useSchedules\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"plans.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"plans.form.disabled\"))))),o.a.createElement(Zt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"useInternalChat-selection\"},We.a.t(\"plans.form.internalChat\")),o.a.createElement(tn.b,{as:nn.a,id:\"useInternalChat-selection\",label:We.a.t(\"plans.form.internalChat\"),labelId:\"useInternalChat-selection-label\",name:\"useInternalChat\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"plans.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"plans.form.disabled\"))))),o.a.createElement(Zt.a,{xs:12,sm:8,md:4,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"useExternalApi-selection\"},We.a.t(\"plans.form.externalApi\")),o.a.createElement(tn.b,{as:nn.a,id:\"useExternalApi-selection\",label:We.a.t(\"plans.form.externalApi\"),labelId:\"useExternalApi-selection-label\",name:\"useExternalApi\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"plans.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"plans.form.disabled\"))))),o.a.createElement(Zt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"useKanban-selection\"},We.a.t(\"plans.form.kanban\")),o.a.createElement(tn.b,{as:nn.a,id:\"useKanban-selection\",label:We.a.t(\"plans.form.kanban\"),labelId:\"useKanban-selection-label\",name:\"useKanban\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"plans.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"plans.form.disabled\"))))),o.a.createElement(Zt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"useOpenAi-selection\"},\"Open.Ai\"),o.a.createElement(tn.b,{as:nn.a,id:\"useOpenAi-selection\",label:\"Talk.Ai\",labelId:\"useOpenAi-selection-label\",name:\"useOpenAi\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"plans.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"plans.form.disabled\"))))),o.a.createElement(Zt.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,{htmlFor:\"useIntegrations-selection\"},We.a.t(\"plans.form.integrations\")),o.a.createElement(tn.b,{as:nn.a,id:\"useIntegrations-selection\",label:We.a.t(\"plans.form.integrations\"),labelId:\"useIntegrations-selection-label\",name:\"useIntegrations\",margin:\"dense\"},o.a.createElement(F.a,{value:!0},We.a.t(\"plans.form.enabled\")),o.a.createElement(F.a,{value:!1},We.a.t(\"plans.form.disabled\")))))),o.a.createElement(Zt.a,{spacing:2,justifyContent:\"flex-end\",container:!0},o.a.createElement(Zt.a,{sm:3,md:2,item:!0},o.a.createElement(Ha,{className:s.fullWidth,loading:i,onClick:()=>r(),variant:\"contained\"},We.a.t(\"plans.form.clear\"))),void 0!==c.id?o.a.createElement(Zt.a,{sm:3,md:2,item:!0},o.a.createElement(Ha,{className:s.fullWidth,loading:i,onClick:()=>t(c),variant:\"contained\",color:\"secondary\"},We.a.t(\"plans.form.delete\"))):null,o.a.createElement(Zt.a,{sm:3,md:2,item:!0},o.a.createElement(Ha,{className:s.fullWidth,loading:i,type:\"submit\",variant:\"contained\",color:\"primary\"},We.a.t(\"plans.form.save\"))))))}function Wi(e){const{records:a,onSelect:t}=e,n=Li();return o.a.createElement(Cn.a,{className:n.tableContainer},o.a.createElement(no.a,{className:n.fullWidth,padding:\"none\",\"aria-label\":\"a dense table\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\",style:{width:\"1%\"}},\"#\"),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"plans.form.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.users\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.connections\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.queues\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.value\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.campaigns\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.schedules\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.internalChat\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.externalApi\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.kanban\")),o.a.createElement(ro.a,{align:\"center\"},\"Open.Ai\"),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.integrations\")))),o.a.createElement(oo.a,null,a.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\",style:{width:\"1%\"}},o.a.createElement(N.a,{onClick:()=>t(e),\"aria-label\":\"delete\"},o.a.createElement(oi.a,null))),o.a.createElement(ro.a,{align:\"left\"},e.name||\"-\"),o.a.createElement(ro.a,{align:\"center\"},e.users||\"-\"),o.a.createElement(ro.a,{align:\"center\"},e.connections||\"-\"),o.a.createElement(ro.a,{align:\"center\"},e.queues||\"-\"),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"plans.form.money\"),\" \",e.value?e.value.toLocaleString(\"pt-br\",{minimumFractionDigits:2}):\"00.00\"),o.a.createElement(ro.a,{align:\"center\"},(e=>!1===e.useCampaigns?\"\".concat(We.a.t(\"plans.form.no\")):\"\".concat(We.a.t(\"plans.form.yes\")))(e)),o.a.createElement(ro.a,{align:\"center\"},(e=>!1===e.useSchedules?\"\".concat(We.a.t(\"plans.form.no\")):\"\".concat(We.a.t(\"plans.form.yes\")))(e)),o.a.createElement(ro.a,{align:\"center\"},(e=>!1===e.useInternalChat?\"\".concat(We.a.t(\"plans.form.no\")):\"\".concat(We.a.t(\"plans.form.yes\")))(e)),o.a.createElement(ro.a,{align:\"center\"},(e=>!1===e.useExternalApi?\"\".concat(We.a.t(\"plans.form.no\")):\"\".concat(We.a.t(\"plans.form.yes\")))(e)),o.a.createElement(ro.a,{align:\"center\"},(e=>!1===e.useKanban?\"\".concat(We.a.t(\"plans.form.no\")):\"\".concat(We.a.t(\"plans.form.yes\")))(e)),o.a.createElement(ro.a,{align:\"center\"},(e=>!1===e.useOpenAi?\"\".concat(We.a.t(\"plans.form.no\")):\"\".concat(We.a.t(\"plans.form.yes\")))(e)),o.a.createElement(ro.a,{align:\"center\"},(e=>!1===e.useIntegrations?\"\".concat(We.a.t(\"plans.form.no\")):\"\".concat(We.a.t(\"plans.form.yes\")))(e)))))))}function Bi(){const e=Li(),{list:a,save:t,update:r,remove:l}=va(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:\"\",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});Object(n.useEffect)(()=>{!async function(){await b()}()},[p]);const b=async()=>{d(!0);try{const e=await a();u(e)}catch(e){w.b.error(We.a.t(\"plans.toasts.errorList\"))}d(!1)},E=()=>{g({id:void 0,name:\"\",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0})};return o.a.createElement(Cn.a,{className:e.mainPaper,elevation:0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Fi,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0),console.log(e);try{void 0!==e.id?await r(e):await t(e),await b(),E(),w.b.success(We.a.t(\"plans.toasts.success\"))}catch(a){w.b.error(We.a.t(\"plans.toasts.error\"))}d(!1)},onCancel:E,loading:c})),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Wi,{records:m,onSelect:e=>{var a;let t=!1!==e.useCampaigns,n=!1!==e.useSchedules,o=!1!==e.useInternalChat,r=!1!==e.useExternalApi,l=!1!==e.useKanban,i=!1!==e.useOpenAi,s=!1!==e.useIntegrations;g({id:e.id,name:e.name||\"\",users:e.users||0,connections:e.connections||0,queues:e.queues||0,value:(null===(a=e.value)||void 0===a?void 0:a.toLocaleString(\"pt-br\",{minimumFractionDigits:0}))||0,useCampaigns:t,useSchedules:n,useInternalChat:o,useExternalApi:r,useKanban:l,useOpenAi:i,useIntegrations:s})}}))),o.a.createElement(bt,{title:We.a.t(\"plans.confirm.title\"),open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await l(p.id),await b(),E(),w.b.success(We.a.t(\"plans.toasts.success\"))}catch(e){w.b.error(We.a.t(\"plans.toasts.errorOperation\"))}d(!1)})()},We.a.t(\"plans.confirm.message\")))}var zi=()=>({findAll:async e=>{const{data:a}=await Ye.request({url:\"/helps\",method:\"GET\",params:e});return a},list:async e=>{const{data:a}=await Ye.request({url:\"/helps/list\",method:\"GET\",params:e});return a},save:async e=>{const{data:a}=await Ye.request({url:\"/helps\",method:\"POST\",data:e});return a},update:async e=>{const{data:a}=await Ye.request({url:\"/helps/\".concat(e.id),method:\"PUT\",data:e});return a},remove:async e=>{const{data:a}=await Ye.request({url:\"/helps/\".concat(e),method:\"DELETE\"});return a}});const Hi=Object(T.a)(e=>({root:{width:\"100%\"},mainPaper:{width:\"100%\",flex:1,padding:e.spacing(2)},fullWidth:{width:\"100%\"},tableContainer:{width:\"100%\",overflowX:\"scroll\",...e.scrollbarStyles},textfield:{width:\"100%\"},textRight:{textAlign:\"right\"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:\"right\",padding:e.spacing(1)}}));function Ui(e){const{onSubmit:a,onDelete:t,onCancel:r,initialValue:l,loading:i}=e,s=Hi(),[c,d]=Object(n.useState)(l);Object(n.useEffect)(()=>{d(l)},[l]);return o.a.createElement(tn.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>o.a.createElement(tn.d,{className:s.fullWidth},o.a.createElement(Zt.a,{spacing:2,justifyContent:\"flex-end\",container:!0},o.a.createElement(Zt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement(tn.b,{as:sa.a,label:\"T\\xedtulo\",name:\"title\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\"})),o.a.createElement(Zt.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement(tn.b,{as:sa.a,label:\"C\\xf3digo do V\\xeddeo\",name:\"video\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\"})),o.a.createElement(Zt.a,{xs:12,sm:12,md:6,item:!0},o.a.createElement(tn.b,{as:sa.a,label:\"Descri\\xe7\\xe3o\",name:\"description\",variant:\"outlined\",className:s.fullWidth,margin:\"dense\"})),o.a.createElement(Zt.a,{sm:3,md:1,item:!0},o.a.createElement(Ha,{className:s.fullWidth,loading:i,onClick:()=>r(),variant:\"contained\"},We.a.t(\"settings.helps.buttons.clean\"))),void 0!==c.id?o.a.createElement(Zt.a,{sm:3,md:1,item:!0},o.a.createElement(Ha,{className:s.fullWidth,loading:i,onClick:()=>t(c),variant:\"contained\",color:\"secondary\"},We.a.t(\"settings.helps.buttons.delete\"))):null,o.a.createElement(Zt.a,{sm:3,md:1,item:!0},o.a.createElement(Ha,{className:s.fullWidth,loading:i,type:\"submit\",variant:\"contained\",color:\"primary\"},We.a.t(\"settings.helps.buttons.save\"))))))}function Vi(e){const{records:a,onSelect:t}=e,n=Hi();return o.a.createElement(Cn.a,{className:n.tableContainer},o.a.createElement(no.a,{className:n.fullWidth,size:\"small\",\"aria-label\":\"a dense table\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\",style:{width:\"1%\"}},\"#\"),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.helps.grid.title\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.helps.grid.description\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"settings.helps.grid.video\")))),o.a.createElement(oo.a,null,a.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\",style:{width:\"1%\"}},o.a.createElement(N.a,{onClick:()=>t(e),\"aria-label\":\"delete\"},o.a.createElement(oi.a,null))),o.a.createElement(ro.a,{align:\"left\"},e.title||\"-\"),o.a.createElement(ro.a,{align:\"left\"},e.description||\"-\"),o.a.createElement(ro.a,{align:\"left\"},e.video||\"-\"))))))}function Qi(){const e=Hi(),{list:a,save:t,update:r,remove:l}=zi(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({title:\"\",description:\"\",video:\"\"});Object(n.useEffect)(()=>{!async function(){await b()}()},[]);const b=async()=>{d(!0);try{const e=await a();u(e)}catch(e){w.b.error(We.a.t(\"settings.helps.toasts.errorList\"))}d(!1)},E=()=>{g({title:\"\",description:\"\",video:\"\"})};return o.a.createElement(Cn.a,{className:e.mainPaper,elevation:0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Ui,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0);try{void 0!==e.id?await r(e):await t(e),await b(),E(),w.b.success(We.a.t(\"settings.helps.toasts.success\"))}catch(a){w.b.error(We.a.t(\"settings.helps.toasts.error\"))}d(!1)},onCancel:E,loading:c})),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Vi,{records:m,onSelect:e=>{g({id:e.id,title:e.title||\"\",description:e.description||\"\",video:e.video||\"\"})}}))),o.a.createElement(bt,{title:We.a.t(\"settings.helps.confirmModal.title\"),open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await l(p.id),await b(),E(),w.b.success(We.a.t(\"settings.helps.toasts.success\"))}catch(e){w.b.error(We.a.t(\"settings.helps.toasts.errorOperation\"))}d(!1)})()},We.a.t(\"settings.helps.confirmModal.confirm\")))}var Ki=()=>({getAll:async e=>{const{data:a}=await Ye.request({url:\"/settings\",method:\"GET\",params:e});return a},update:async e=>{const{data:a}=await Ye.request({url:\"/settings/\".concat(e.key),method:\"PUT\",data:e});return a}});const Gi=Object(T.a)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:240},tab:{backgroundColor:e.palette.options,borderRadius:4,width:\"100%\",\"& .MuiTab-wrapper\":{color:e.palette.fontecor},\"& .MuiTabs-flexContainer\":{justifyContent:\"center\"}},paper:{padding:e.spacing(2),display:\"flex\",alignItems:\"center\",marginBottom:12,width:\"100%\"},cardAvatar:{fontSize:\"55px\",color:Da.a[500],backgroundColor:\"#ffffff\",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:\"18px\",color:qa.a[700]},cardSubtitle:{color:Da.a[600],fontSize:\"14px\"},alignRight:{textAlign:\"right\"},fullWidth:{width:\"100%\"},selectContainer:{width:\"100%\",textAlign:\"left\"}}));function Yi(e){const{settings:a,scheduleTypeChanged:t}=e,r=Gi(),[l,i]=Object(n.useState)(\"disabled\"),[s,c]=Object(n.useState)(\"disabled\"),[d,m]=Object(n.useState)(\"enabled\"),[u,p]=Object(n.useState)(\"\"),[g,b]=Object(n.useState)(\"enabled\"),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(!1),[y,v]=Object(n.useState)(!1),[x,C]=Object(n.useState)(!1),[S,O]=Object(n.useState)(!1),[k,T]=Object(n.useState)(\"\"),[j,I]=Object(n.useState)(!1),[N,M]=Object(n.useState)(\"disabled\"),[P,R]=Object(n.useState)(!1),[D,q]=Object(n.useState)(\"disabled\"),[L,W]=Object(n.useState)(!1),[B,z]=Object(n.useState)(\"disabled\"),[H,U]=Object(n.useState)(!1),{update:V}=Ki();return Object(n.useEffect)(()=>{if(Array.isArray(a)&&a.length){const e=a.find(e=>\"userRating\"===e.key);e&&i(e.value);const t=a.find(e=>\"scheduleType\"===e.key);t&&c(t.value);const n=a.find(e=>\"call\"===e.key);n&&m(n.value);const o=a.find(e=>\"CheckMsgIsGroup\"===e.key);o&&b(o.value);const r=a.find(e=>\"sendGreetingAccepted\"===e.key);r&&M(r.value);const l=a.find(e=>\"sendMsgTransfTicket\"===e.key);l&&q(l.value);const s=a.find(e=>\"sendGreetingMessageOneQueues\"===e.key);s&&z(s.value);const d=a.find(e=>\"chatBotType\"===e.key);d&&p(d.value);const u=a.find(e=>\"asaas\"===e.key);u&&T(u.value)}},[a]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{spacing:3,container:!0},o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"ratings-label\"},We.a.t(\"settings.options.fields.ratings.title\")),o.a.createElement(nn.a,{labelId:\"ratings-label\",value:l,onChange:async e=>{!async function(e){i(e),f(!0),await V({key:\"userRating\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),f(!1)}(e.target.value)}},o.a.createElement(F.a,{value:\"disabled\"},We.a.t(\"settings.options.fields.ratings.disabled\")),o.a.createElement(F.a,{value:\"enabled\"},We.a.t(\"settings.options.fields.ratings.enabled\"))),o.a.createElement(Vn.a,null,E&&We.a.t(\"settings.options.updating\")))),o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"schedule-type-label\"},We.a.t(\"settings.options.fields.expedientManager.title\")),o.a.createElement(nn.a,{labelId:\"schedule-type-label\",value:s,onChange:async e=>{!async function(e){c(e),A(!0),await V({key:\"scheduleType\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\"),{position:\"top-right\",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:\"light\"}),A(!1),\"function\"===typeof t&&t(e)}(e.target.value)}},o.a.createElement(F.a,{value:\"disabled\"},We.a.t(\"settings.options.fields.disabled\")),o.a.createElement(F.a,{value:\"queue\"},We.a.t(\"settings.options.fields.expedientManager.queue\")),o.a.createElement(F.a,{value:\"company\"},We.a.t(\"settings.options.fields.expedientManager.company\"))),o.a.createElement(Vn.a,null,h&&We.a.t(\"settings.options.updating\")))),o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"group-type-label\"},We.a.t(\"settings.options.fields.ignoreMessages.title\")),o.a.createElement(nn.a,{labelId:\"group-type-label\",value:g,onChange:async e=>{!async function(e){b(e),O(!0),await V({key:\"CheckMsgIsGroup\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),b(!1)}(e.target.value)}},o.a.createElement(F.a,{value:\"disabled\"},We.a.t(\"settings.options.fields.disabled\")),o.a.createElement(F.a,{value:\"enabled\"},We.a.t(\"settings.options.fields.active\"))),o.a.createElement(Vn.a,null,h&&We.a.t(\"settings.options.updating\")))),o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"call-type-label\"},We.a.t(\"settings.options.fields.acceptCall.title\")),o.a.createElement(nn.a,{labelId:\"call-type-label\",value:d,onChange:async e=>{!async function(e){m(e),v(!0),await V({key:\"call\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),v(!1)}(e.target.value)}},o.a.createElement(F.a,{value:\"disabled\"},We.a.t(\"settings.options.fields.acceptCall.disabled\")),o.a.createElement(F.a,{value:\"enabled\"},We.a.t(\"settings.options.fields.acceptCall.enabled\"))),o.a.createElement(Vn.a,null,y&&We.a.t(\"settings.options.updating\")))),o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"chatbot-type-label\"},We.a.t(\"settings.options.fields.chatbotType.title\")),o.a.createElement(nn.a,{labelId:\"chatbot-type-label\",value:u,onChange:async e=>{!async function(e){p(e),C(!0),await V({key:\"chatBotType\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),C(!1)}(e.target.value)}},o.a.createElement(F.a,{value:\"text\"},We.a.t(\"settings.options.fields.chatbotType.text\"))),o.a.createElement(Vn.a,null,x&&We.a.t(\"settings.options.updating\")))),o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"sendGreetingAccepted-label\"},We.a.t(\"settings.options.fields.sendGreetingAccepted.title\")),o.a.createElement(nn.a,{labelId:\"sendGreetingAccepted-label\",value:N,onChange:async e=>{!async function(e){M(e),R(!0),await V({key:\"sendGreetingAccepted\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),R(!1)}(e.target.value)}},o.a.createElement(F.a,{value:\"disabled\"},We.a.t(\"settings.options.fields.disabled\")),o.a.createElement(F.a,{value:\"enabled\"},We.a.t(\"settings.options.fields.enabled\"))),o.a.createElement(Vn.a,null,P&&We.a.t(\"settings.options.updating\")))),o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"sendMsgTransfTicket-label\"},We.a.t(\"settings.options.fields.sendMsgTransfTicket.title\")),o.a.createElement(nn.a,{labelId:\"sendMsgTransfTicket-label\",value:D,onChange:async e=>{!async function(e){q(e),W(!0),await V({key:\"sendMsgTransfTicket\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),W(!1)}(e.target.value)}},o.a.createElement(F.a,{value:\"disabled\"},We.a.t(\"settings.options.fields.disabled\")),o.a.createElement(F.a,{value:\"enabled\"},We.a.t(\"settings.options.fields.enabled\"))),o.a.createElement(Vn.a,null,L&&We.a.t(\"settings.options.updating\")))),o.a.createElement(Zt.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(on.a,{id:\"sendGreetingMessageOneQueues-label\"},We.a.t(\"settings.options.fields.sendGreetingMessageOneQueues.title\")),o.a.createElement(nn.a,{labelId:\"sendGreetingMessageOneQueues-label\",value:B,onChange:async e=>{!async function(e){z(e),U(!0),await V({key:\"sendGreetingMessageOneQueues\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),U(!1)}(e.target.value)}},o.a.createElement(F.a,{value:\"disabled\"},We.a.t(\"settings.options.fields.disabled\")),o.a.createElement(F.a,{value:\"enabled\"},We.a.t(\"settings.options.fields.enabled\"))),o.a.createElement(Vn.a,null,H&&We.a.t(\"settings.options.updating\"))))),o.a.createElement(Zt.a,{spacing:3,container:!0},o.a.createElement(Wo.a,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:r.tab,style:{marginBottom:20,marginTop:20}},o.a.createElement(Bo.a,{label:We.a.t(\"settings.options.tabs.integrations\")}))),o.a.createElement(Zt.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Wo.a,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:r.tab},o.a.createElement(Bo.a,{label:\"ASAAS\"})),o.a.createElement(Zt.a,{xs:12,sm:12,md:12,item:!0},o.a.createElement(rn.a,{className:r.selectContainer},o.a.createElement(sa.a,{id:\"asaas\",name:\"asaas\",margin:\"dense\",label:\"Token Asaas\",variant:\"outlined\",value:k,onChange:async e=>{!async function(e){T(e),I(!0),await V({key:\"asaas\",value:e}),w.b.success(We.a.t(\"settings.options.toasts.success\")),I(!1)}(e.target.value)}}),o.a.createElement(Vn.a,null,j&&We.a.t(\"settings.options.updating\"))))))}const Xi=e=>{let{user:a,yes:t,no:n}=e;return a.super?t():n()};Xi.defaultProps={user:{},yes:()=>null,no:()=>null};var _i=Xi;const Zi=Object(T.a)(e=>({root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:{...e.scrollbarStyles,overflowY:\"scroll\",flex:1},tab:{backgroundColor:e.palette.options,borderRadius:4},paper:{...e.scrollbarStyles,overflowY:\"scroll\",padding:e.spacing(2),display:\"flex\",alignItems:\"center\",width:\"100%\"},container:{width:\"100%\",maxHeight:\"100%\"},control:{padding:e.spacing(1)},textfield:{width:\"100%\"}}));var Ji=()=>{const e=Zi(),[a,t]=Object(n.useState)(\"options\"),[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)({}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)(!1),{getCurrentUserInfo:f}=$e(),{find:h,updateSchedules:A}=ki(),{getAll:y}=Ki();Object(n.useEffect)(()=>{!async function(){d(!0);try{const e=localStorage.getItem(\"companyId\"),a=await h(e),t=await y();if(s(a),l(a.schedules),g(t),Array.isArray(t)){const e=t.find(e=>\"scheduleType\"===e.key);e&&E(\"company\"===e.value)}const n=await f();u(n)}catch(e){w.b.error(e)}d(!1)}()},[]);const v=()=>m.super;return o.a.createElement(ii,{className:e.root},o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"settings.title\"))),o.a.createElement(Cn.a,{className:e.mainPaper,elevation:1},o.a.createElement(Wo.a,{value:a,indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",onChange:(e,a)=>{!async function(){d(!0);try{const e=localStorage.getItem(\"companyId\"),a=await h(e),t=await y();if(s(a),l(a.schedules),g(t),Array.isArray(t)){const e=t.find(e=>\"scheduleType\"===e.key);e&&E(\"company\"===e.value)}const n=await f();u(n)}catch(e){w.b.error(e)}d(!1)}(),t(a)},className:e.tab},o.a.createElement(Bo.a,{label:We.a.t(\"settings.tabs.options\"),value:\"options\"}),b&&o.a.createElement(Bo.a,{label:We.a.t(\"settings.tabs.schedules\"),value:\"schedules\"}),v()?o.a.createElement(Bo.a,{label:We.a.t(\"settings.tabs.companies\"),value:\"companies\"}):null,v()?o.a.createElement(Bo.a,{label:We.a.t(\"settings.tabs.plans\"),value:\"plans\"}):null,v()?o.a.createElement(Bo.a,{label:We.a.t(\"settings.tabs.helps\"),value:\"helps\"}):null),o.a.createElement(Cn.a,{className:e.paper,elevation:0},o.a.createElement(cr,{className:e.container,value:a,name:\"schedules\"},o.a.createElement(Oi,{loading:c,onSubmit:async e=>{d(!0);try{l(e),await A({id:i.id,schedules:e}),w.b.success(We.a.t(\"settings.schedulesUpdated\"))}catch(a){w.b.error(a)}d(!1)},initialValues:r})),o.a.createElement(_i,{user:m,yes:()=>o.a.createElement(cr,{className:e.container,value:a,name:\"companies\"},o.a.createElement(qi,null))}),o.a.createElement(_i,{user:m,yes:()=>o.a.createElement(cr,{className:e.container,value:a,name:\"plans\"},o.a.createElement(Bi,null))}),o.a.createElement(_i,{user:m,yes:()=>o.a.createElement(cr,{className:e.container,value:a,name:\"helps\"},o.a.createElement(Qi,null))}),o.a.createElement(cr,{className:e.container,value:a,name:\"options\"},o.a.createElement(Yi,{settings:p,scheduleTypeChanged:e=>E(\"company\"===e)})))))},$i=t(1625),es=t(1566),as=t(1609);const ts=Object(T.a)(e=>({inputField:{\"& .MuiOutlinedInput-root\":{borderRadius:\"8px\",transition:\"all 0.3s ease\",backgroundColor:\"light\"===e.palette.mode?\"rgba(255, 255, 255, 0.9)\":\"rgba(66, 66, 66, 0.9)\",\"&:hover\":{boxShadow:\"0 2px 8px rgba(0,0,0,0.08)\"},\"&.Mui-focused\":{boxShadow:\"0 4px 12px rgba(0,0,0,0.1)\"}},\"& .MuiOutlinedInput-notchedOutline\":{borderColor:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.15)\":\"rgba(255, 255, 255, 0.15)\",transition:\"all 0.3s ease\"},\"& .MuiInputLabel-outlined\":{fontWeight:500,color:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.7)\":\"rgba(255, 255, 255, 0.7)\"},\"& .MuiInputBase-input\":{padding:\"12px 14px\"},\"& .MuiFormHelperText-root\":{marginTop:\"6px\",fontWeight:500},marginBottom:e.spacing(2)}}));function ns(e){const{errorText:a,...t}=e,[n,r]=Object(tn.f)(e),l=ts();return o.a.createElement(sa.a,Object.assign({type:\"text\",error:r.touched&&r.error&&!0,helperText:function(){const[e,a]=Object(He.at)(r,\"touched\",\"error\");if(e&&a)return a}(),variant:\"outlined\",fullWidth:!0,className:l.inputField,InputLabelProps:{shrink:!0}},n,t))}Object(T.a)(e=>({formControl:{marginBottom:e.spacing(2),width:\"100%\"},checkboxLabel:{marginLeft:-8,\"& .MuiFormControlLabel-label\":{fontSize:\"0.95rem\",fontWeight:500,color:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.7)\":\"rgba(255, 255, 255, 0.7)\"}},checkbox:{\"&.MuiCheckbox-root\":{color:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.54)\":\"rgba(255, 255, 255, 0.54)\",transition:\"all 0.2s ease\",padding:\"9px\"},\"&.Mui-checked\":{color:e.palette.primary.main},\"&:hover\":{backgroundColor:(e.palette.mode,\"rgba(251, 204, 60, 0.08)\")}},helperText:{marginTop:\"4px\",marginLeft:\"14px\",fontWeight:500,fontSize:\"0.75rem\"}}));const os=Object(T.a)(e=>({formControl:{marginBottom:e.spacing(2),width:\"100%\"},selectField:{\"& .MuiOutlinedInput-root\":{borderRadius:\"8px\",transition:\"all 0.3s ease\",backgroundColor:\"light\"===e.palette.mode?\"rgba(255, 255, 255, 0.9)\":\"rgba(66, 66, 66, 0.9)\",\"&:hover\":{boxShadow:\"0 2px 8px rgba(0,0,0,0.08)\"},\"&.Mui-focused\":{boxShadow:\"0 4px 12px rgba(0,0,0,0.1)\"}},\"& .MuiSelect-select\":{padding:\"12px 14px\"},\"& .MuiInputLabel-outlined\":{fontWeight:500,color:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.7)\":\"rgba(255, 255, 255, 0.7)\",transform:\"translate(14px, 14px) scale(1)\",\"&.MuiInputLabel-shrink\":{transform:\"translate(14px, -6px) scale(0.75)\"}},\"& .MuiOutlinedInput-notchedOutline\":{borderColor:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.15)\":\"rgba(255, 255, 255, 0.15)\",transition:\"all 0.3s ease\"}},menuItem:{padding:\"10px 14px\",\"&:hover\":{backgroundColor:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.04)\":\"rgba(255, 255, 255, 0.04)\"},\"&.Mui-selected\":{backgroundColor:(e.palette.mode,\"rgba(251, 204, 60, 0.15)\"),\"&:hover\":{backgroundColor:(e.palette.mode,\"rgba(251, 204, 60, 0.25)\")}}},helperText:{marginTop:\"6px\",fontWeight:500}}));function rs(e){const{label:a,data:t,...n}=e,[r,l]=Object(tn.f)(e),{value:i}=r,[s,c]=Object(He.at)(l,\"touched\",\"error\"),d=s&&c&&!0,m=os();return o.a.createElement(rn.a,Object.assign({variant:\"outlined\",className:\"\".concat(m.formControl,\" \").concat(m.selectField),error:d,fullWidth:!0},n),o.a.createElement(on.a,{id:\"select-label-\".concat(r.name)},a),o.a.createElement(nn.a,Object.assign({labelId:\"select-label-\".concat(r.name),label:a},r,{value:i||\"\",MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null,PaperProps:{style:{borderRadius:\"8px\",boxShadow:\"0 4px 20px rgba(0,0,0,0.15)\"}}}}),t.map((e,a)=>o.a.createElement(F.a,{key:a,value:e.value,className:m.menuItem},e.label))),function(){if(d)return o.a.createElement(Vn.a,{className:m.helperText},c)}())}rs.defaultProps={data:[]};var ls=rs;t(123),t(1594),t(913);Object(T.a)(e=>({datePicker:{width:\"100%\",marginBottom:e.spacing(2),\"& .MuiInputBase-root\":{borderRadius:\"8px\",transition:\"all 0.3s ease\",backgroundColor:\"light\"===e.palette.mode?\"rgba(255, 255, 255, 0.9)\":\"rgba(66, 66, 66, 0.9)\",\"&:hover\":{boxShadow:\"0 2px 8px rgba(0,0,0,0.08)\"},\"&.Mui-focused\":{boxShadow:\"0 4px 12px rgba(0,0,0,0.1)\"}},\"& .MuiInputLabel-root\":{fontWeight:500,color:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.7)\":\"rgba(255, 255, 255, 0.7)\",\"&.Mui-focused\":{color:e.palette.primary.main}},\"& .MuiInput-underline:before\":{borderBottomColor:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.1)\":\"rgba(255, 255, 255, 0.1)\"},\"& .MuiInput-underline:after\":{borderBottomColor:e.palette.primary.main},\"& .MuiOutlinedInput-notchedOutline\":{borderColor:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.15)\":\"rgba(255, 255, 255, 0.15)\",transition:\"all 0.3s ease\"},\"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline\":{borderColor:e.palette.primary.main,borderWidth:2},\"& .MuiInputAdornment-root .MuiIconButton-root\":{padding:\"8px\",color:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.54)\":\"rgba(255, 255, 255, 0.54)\",\"&:hover\":{backgroundColor:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.04)\":\"rgba(255, 255, 255, 0.04)\"}},\"& .MuiFormHelperText-root\":{marginTop:\"6px\",fontWeight:500}}}));const is=[{value:\"BR\",label:\"Brasil\"},{value:\"usa\",label:\"United States\"}];function ss(e){const{user:a}=Object(n.useContext)(ea),[t,r]=Object(n.useState)(a.company.billingName),[l,i]=Object(n.useState)(a.company.addressZipCode),[s,c]=Object(n.useState)(a.company.addressStreet),[d,m]=Object(n.useState)(a.company.addressState),[u,p]=Object(n.useState)(a.company.addressCity),[g,b]=Object(n.useState)(a.company.addressDistrict),{formField:{firstName:E,address1:f,city:h,state:A,zipcode:y,country:v},setFieldValue:x}=e;return Object(n.useEffect)(()=>{x(\"firstName\",t),x(\"zipcode\",l),x(\"address2\",s),x(\"state\",d),x(\"city\",u),x(\"country\",g)},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{variant:\"h6\",gutterBottom:!0},\"Vamos precisar de algumas informa\\xe7\\xf5es\"),o.a.createElement(Zt.a,{container:!0,spacing:3},o.a.createElement(Zt.a,{item:!0,xs:6,sm:6},o.a.createElement(ns,{name:E.name,label:E.label,fullWidth:!0,value:t,onChange:e=>{r(e.target.value),x(\"firstName\",e.target.value)}})),o.a.createElement(Zt.a,{item:!0,xs:6,sm:6},o.a.createElement(ls,{name:v.name,label:v.label,data:is,fullWidth:!0,value:g,onChange:e=>{b(e.target.value),x(\"country\",e.target.value)}})),o.a.createElement(Zt.a,{item:!0,xs:4},o.a.createElement(ns,{name:y.name,label:y.label,fullWidth:!0,value:l,onChange:e=>{i(e.target.value),x(\"zipcode\",e.target.value)}})),o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(ns,{name:f.name,label:f.label,fullWidth:!0,value:s,onChange:e=>{c(e.target.value),x(\"address2\",e.target.value)}})),o.a.createElement(Zt.a,{item:!0,xs:4},o.a.createElement(ns,{name:A.name,label:A.label,fullWidth:!0,value:d,onChange:e=>{m(e.target.value),x(\"state\",e.target.value)}})),o.a.createElement(Zt.a,{item:!0,xs:8},o.a.createElement(ns,{name:h.name,label:h.label,fullWidth:!0,value:u,onChange:e=>{p(e.target.value),x(\"city\",e.target.value)}}))))}var cs=t(1565),ds=t(1564),ms=t(862),us=t.n(ms);const ps=Object(T.a)(e=>({\"@global\":{ul:{margin:0,padding:0,listStyle:\"none\"}},margin:{margin:e.spacing(1)},cardHeader:{backgroundColor:\"light\"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:\"flex\",justifyContent:\"center\",alignItems:\"baseline\",marginBottom:e.spacing(2)},footer:{borderTop:\"1px solid \".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),[e.breakpoints.up(\"sm\")]:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}},customCard:{display:\"flex\",marginTop:\"16px\",alignItems:\"center\",flexDirection:\"column\"},custom:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\"}}));function gs(e){const{setFieldValue:a,setActiveStep:t,activeStep:r}=e,{list:l,finder:i}=va(),{find:s}=ki(),c=ps(),[d,m]=o.a.useState(3),[u,p]=Object(n.useState)(0),[g,b]=o.a.useState(3),[E,f]=o.a.useState([]),[h,A]=o.a.useState(49),[y,v]=o.a.useState(!1),x=localStorage.getItem(\"companyId\");Object(n.useEffect)(()=>{!async function(){await C()}()},[]);const C=async()=>{v(!0);try{const e=await s(x);p(e.planId),await w(e.planId)}catch(e){console.log(e)}v(!1)},w=async e=>{v(!0);try{const a=await i(e),t=[];t.push({title:a.name,planId:a.id,price:a.value,description:[\"\".concat(a.users,\" \").concat(We.a.t(\"checkoutPage.pricing.users\")),\"\".concat(a.connections,\" \").concat(We.a.t(\"checkoutPage.pricing.connection\")),\"\".concat(a.queues,\" \").concat(We.a.t(\"checkoutPage.pricing.queues\"))],users:a.users,connections:a.connections,queues:a.queues,buttonText:We.a.t(\"checkoutPage.pricing.SELECT\"),buttonVariant:\"outlined\"}),f(t)}catch(a){console.log(a)}v(!1)},S=E;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{container:!0,spacing:3},S.map(e=>o.a.createElement(Zt.a,{item:!0,key:e.title,xs:12,sm:(e.title,12),md:12},o.a.createElement(kt.a,null,o.a.createElement(Tt.a,{title:e.title,subheader:e.subheader,titleTypographyProps:{align:\"center\"},subheaderTypographyProps:{align:\"center\"},action:\"Pro\"===e.title?o.a.createElement(us.a,null):null,className:c.cardHeader}),o.a.createElement(ds.a,null,o.a.createElement(\"div\",{className:c.cardPricing},o.a.createElement(q.a,{component:\"h2\",variant:\"h3\",color:\"textPrimary\"},o.a.createElement(o.a.Fragment,null,\"R$\",e.price.toLocaleString(\"pt-br\",{minimumFractionDigits:2}))),o.a.createElement(q.a,{variant:\"h6\",color:\"textSecondary\"},\"/\",We.a.t(\"checkoutPage.pricing.month\"))),o.a.createElement(\"ul\",null,e.description.map(e=>o.a.createElement(q.a,{component:\"li\",variant:\"subtitle1\",align:\"center\",key:e},e)))),o.a.createElement(cs.a,null,o.a.createElement(ca.a,{fullWidth:!0,variant:e.buttonVariant,color:\"primary\",onClick:()=>{e.custom?a(\"plan\",JSON.stringify({users:d,connections:g,price:h})):a(\"plan\",JSON.stringify(e)),t(r+1)}},e.buttonText)))))))}var bs=Object(T.a)(e=>({listItem:{padding:e.spacing(1,0)},total:{fontWeight:\"700\"},title:{marginTop:e.spacing(2)}}));var Es=function(e){const{formValues:a}=e,t=bs(),{plan:n}=a,r=JSON.parse(n),{users:l,connections:i,price:s}=r;return o.a.createElement(Zt.a,{item:!0,xs:12,sm:12},o.a.createElement(q.a,{variant:\"h6\",gutterBottom:!0,className:t.title},We.a.t(\"checkoutPage.review.details\")),o.a.createElement(q.a,{gutterBottom:!0},We.a.t(\"checkoutPage.review.users\"),\": \",l),o.a.createElement(q.a,{gutterBottom:!0},We.a.t(\"checkoutPage.review.whatsapp\"),\": \",i),o.a.createElement(q.a,{gutterBottom:!0},We.a.t(\"checkoutPage.review.charges\")),o.a.createElement(q.a,{gutterBottom:!0},We.a.t(\"checkoutPage.review.total\"),\": R$\",s.toLocaleString(\"pt-br\",{minimumFractionDigits:2})))};var fs,hs,As,ys,vs=function(){const{values:e}=Object(tn.g)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{variant:\"h6\",gutterBottom:!0},We.a.t(\"checkoutPage.review.title\")),o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Es,{formValues:e})))},xs=t(863),Cs=t.n(xs),ws=t(135),Ss=t(227);Ss.default.div(fs||(fs=Object(ws.a)([\"\\n  footer {\\n    margin-top: 30px;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    width: 100%;\\n\\n    @media (max-width: 768px) {\\n      flex-direction: column;\\n      .checkout-buttons {\\n        display: flex;\\n        flex-direction: column-reverse;\\n        width: 100%;\\n\\n        button {\\n          width: 100%;\\n          margin-top: 16px;\\n          margin-left: 0;\\n        }\\n      }\\n    }\\n\\n    button {\\n      margin-left: 16px;\\n    }\\n  }\\n\"])));const Os=Ss.default.div(hs||(hs=Object(ws.a)([\"\\n  display: flex;\\n  align-items: baseline;\\n\\n  span {\\n    color: #333;\\n    font-weight: bold;\\n  }\\n\\n  strong {\\n    color: #333;\\n    font-size: 28px;\\n    margin-left: 5px;\\n  }\\n\\n  @media (max-width: 768px) {\\n    min-width: 100%;\\n    justify-content: space-between;\\n  }\\n\"]))),ks=Ss.default.div(As||(As=Object(ws.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n\\n  > h2 {\\n    text-align: center;\\n  }\\n\\n  > svg {\\n    margin-top: 16px;\\n  }\\n\\n  > span {\\n    margin-top: 24px;\\n    text-align: center;\\n  }\\n\\n  > p,\\n  strong {\\n    margin-top: 8px;\\n    font-size: 9px;\\n    color: #999;\\n  }\\n\\n  .copy-button {\\n    font-size: 14px;\\n    cursor: pointer;\\n    text-align: center;\\n    user-select: none;\\n    min-height: 56px;\\n    display: inline-flex;\\n    -webkit-box-pack: center;\\n    justify-content: center;\\n    -webkit-box-align: center;\\n    align-items: center;\\n    background-color: #f9f9f9;\\n    color: #000;\\n    -webkit-appearance: none !important;\\n    outline: none;\\n    margin-top: 16px;\\n    width: 256px;\\n    font-weight: 600;\\n    text-transform: uppercase;\\n    border: none;\\n\\n    > span {\\n      margin-right: 8px;\\n    }\\n  }\\n\"])));Ss.default.div(ys||(ys=Object(ws.a)([\"\\n  width: 100%;\\n  margin: 0 auto 0;\\n  max-width: 1110px;\\n  display: flex;\\n  flex-direction: column;\\n  -webkit-box-align: center;\\n  align-items: center;\\n  padding: 50px 95px;\\n  background: #fff;\\n  @media (max-width: 768px) {\\n    padding: 16px 24px;\\n\"])));var Ts=t(867),js=t(394);var Is=function(e){const{pix:a}=e,[t]=Object(n.useState)(a.qrcode.qrcode),[r,l]=Object(n.useState)(!1),i=Object(C.useHistory)(),{dateToClient:s}=In(),c=Object(n.useContext)(v);return Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\");c.getSocket(e).on(\"company-\".concat(e,\"-payment\"),e=>{\"CONCLUIDA\"===e.action&&(w.b.success(\"Sua licen\\xe7a foi renovada at\\xe9 \".concat(s(e.company.dueDate),\"!\")),setTimeout(()=>{i.push(\"/\")},4e3))})},[i,c]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Os,null,o.a.createElement(\"span\",null,\"TOTAL\"),o.a.createElement(\"strong\",null,\"R$\",a.valor.original.toLocaleString(\"pt-br\",{minimumFractionDigits:2}))),o.a.createElement(ks,null,o.a.createElement(Cs.a,{value:t}),o.a.createElement(Ts.CopyToClipboard,{text:t,onCopy:()=>{setTimeout(()=>{l(!1)},1e3),l(!0)}},o.a.createElement(\"button\",{className:\"copy-button\",type:\"button\"},r?o.a.createElement(o.a.Fragment,null,o.a.createElement(\"span\",null,\"Copiado\"),o.a.createElement(js.a,{size:18})):o.a.createElement(o.a.Fragment,null,o.a.createElement(\"span\",null,\"Copiar c\\xf3digo QR\"),o.a.createElement(js.b,{size:18})))),o.a.createElement(\"span\",null,\"Para finalizar, basta realizar o pagamento escaneando ou colando o c\\xf3digo Pix acima :)\")))},Ns={formId:\"checkoutForm\",formField:{firstName:{name:\"firstName\",label:We.a.t(\"checkoutPage.form.firstName.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.firstName.required\")},lastName:{name:\"lastName\",label:We.a.t(\"checkoutPage.form.lastName.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.lastName.required\")},address1:{name:\"address2\",label:We.a.t(\"checkoutPage.form.address1.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.address1.required\")},city:{name:\"city\",label:We.a.t(\"checkoutPage.form.city.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.city.required\")},state:{name:\"state\",label:We.a.t(\"checkoutPage.form.state.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.state.required\")},zipcode:{name:\"zipcode\",label:We.a.t(\"checkoutPage.form.zipcode.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.zipcode.required\"),invalidErrorMsg:We.a.t(\"checkoutPage.form.zipcode.invalid\")},country:{name:\"country\",label:We.a.t(\"checkoutPage.form.country.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.country.required\")},useAddressForPaymentDetails:{name:\"useAddressForPaymentDetails\",label:We.a.t(\"checkoutPage.form.useAddressForPaymentDetails.label\")},invoiceId:{name:\"invoiceId\",label:We.a.t(\"checkoutPage.form.invoiceId.label\")},nameOnCard:{name:\"nameOnCard\",label:We.a.t(\"checkoutPage.form.nameOnCard.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.nameOnCard.required\")},cardNumber:{name:\"cardNumber\",label:We.a.t(\"checkoutPage.form.cardNumber.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.cardNumber.required\"),invalidErrorMsg:We.a.t(\"checkoutPage.form.cardNumber.invalid\")},expiryDate:{name:\"expiryDate\",label:We.a.t(\"checkoutPage.form.expiryDate.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.expiryDate.required\"),invalidErrorMsg:We.a.t(\"checkoutPage.form.expiryDate.invalid\")},cvv:{name:\"cvv\",label:We.a.t(\"checkoutPage.form.cvv.label\"),requiredErrorMsg:We.a.t(\"checkoutPage.form.cvv.required\"),invalidErrorMsg:We.a.t(\"checkoutPage.form.cvv.invalid\")}}};const{formField:{firstName:Ms,address1:Ps,city:Rs,zipcode:Ds,country:qs}}=Ns;var Ls=[an.b().shape({[Ms.name]:an.d().required(\"\".concat(Ms.requiredErrorMsg)),[Ps.name]:an.d().required(\"\".concat(Ps.requiredErrorMsg)),[Rs.name]:an.d().nullable().required(\"\".concat(Rs.requiredErrorMsg)),[Ds.name]:an.d().required(\"\".concat(Ds.requiredErrorMsg)),[qs.name]:an.d().nullable().required(\"\".concat(qs.requiredErrorMsg))})];const{formField:{firstName:Fs,lastName:Ws,address1:Bs,city:zs,state:Hs,zipcode:Us,country:Vs,useAddressForPaymentDetails:Qs,nameOnCard:Ks,cardNumber:Gs,invoiceId:Ys,cvv:Xs}}=Ns;var _s={[Fs.name]:\"\",[Ws.name]:\"\",[Bs.name]:\"\",[zs.name]:\"\",[Hs.name]:\"\",[Us.name]:\"\",[Vs.name]:\"\",[Qs.name]:!1,[Ks.name]:\"\",[Gs.name]:\"\",[Ys.name]:\"\",[Xs.name]:\"\"},Zs=Object(T.a)(e=>({stepper:{padding:e.spacing(3,0,5)},buttons:{display:\"flex\",justifyContent:\"flex-end\"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:\"relative\"},buttonProgress:{position:\"absolute\",top:\"50%\",left:\"50%\"}}));var Js=function(e){const a=[We.a.t(\"checkoutPage.steps.data\"),We.a.t(\"checkoutPage.steps.customize\"),We.a.t(\"checkoutPage.steps.review\")],{formId:t,formField:r}=Ns,l=Zs(),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(e.Invoice.id),p=Ls[i],g=i===a.length-1,{user:b}=Object(n.useContext)(ea);function E(){s(i-1)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"h1\",variant:\"h4\",align:\"center\"},We.a.t(\"checkoutPage.closeToEnd\")),o.a.createElement($i.a,{activeStep:i,className:l.stepper},a.map(e=>o.a.createElement(es.a,{key:e},o.a.createElement(as.a,null,e)))),o.a.createElement(o.a.Fragment,null,i===a.length?o.a.createElement(Is,{pix:c}):o.a.createElement(tn.e,{initialValues:{...b,..._s},validationSchema:p,onSubmit:function(e,a){g?async function(e,a){try{const t=JSON.parse(e.plan),n={firstName:e.firstName,lastName:e.lastName,address2:e.address2,city:e.city,state:e.state,zipcode:e.zipcode,country:e.country,useAddressForPaymentDetails:e.useAddressForPaymentDetails,nameOnCard:e.nameOnCard,cardNumber:e.cardNumber,cvv:e.cvv,plan:e.plan,price:t.price,users:t.users,connections:t.connections,invoiceId:m},{data:o}=await Ye.post(\"/subscription\",n);d(o),a.setSubmitting(!1),s(i+1),w.b.success(We.a.t(\"checkoutPage.success\"))}catch(t){Ue(t)}}(e,a):(s(i+1),a.setTouched({}),a.setSubmitting(!1))}},e=>{let{isSubmitting:a,setFieldValue:n,values:c}=e;return o.a.createElement(tn.d,{id:t},function(e,a,t,n){switch(e){case 0:return o.a.createElement(ss,{formField:r,values:n,setFieldValue:a});case 1:return o.a.createElement(gs,{formField:r,setFieldValue:a,setActiveStep:t,activeStep:e,invoiceId:m,values:n});case 2:return o.a.createElement(vs,null);default:return o.a.createElement(\"div\",null,\"Not Found\")}}(i,n,s,c),o.a.createElement(\"div\",{className:l.buttons},1!==i&&o.a.createElement(ca.a,{onClick:E,className:l.button},We.a.t(\"checkoutPage.BACK\")),o.a.createElement(\"div\",{className:l.wrapper},1!==i&&o.a.createElement(ca.a,{disabled:a,type:\"submit\",variant:\"contained\",color:\"primary\",className:l.button},g?We.a.t(\"checkoutPage.PAY\"):We.a.t(\"checkoutPage.NEXT\")),a&&o.a.createElement(Ba.a,{size:24,className:l.buttonProgress}))))})))};const $s=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var ec=e=>{let{open:a,onClose:t,Invoice:r,contactId:l,initialValues:i,onSave:s}=e;const c=$s(),d=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{d.current=!1},[]);return o.a.createElement(\"div\",{className:c.root},o.a.createElement(tt.a,{open:a,onClose:()=>{t()},maxWidth:\"md\",scroll:\"paper\"},o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Js,{Invoice:r}))))};const ac=(e,a)=>{if(\"LOAD_INVOICES\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_USERS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_USER\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},tc=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var nc=()=>{const e=tc(),[a,t]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(\"\"),[m,u]=Object(n.useReducer)(ac,[]),[p,g]=o.a.useState([]),[b,E]=Object(n.useState)(null),[f,h]=Object(n.useState)(!1);Object(n.useEffect)(()=>{u({type:\"RESET\"}),l(1)},[c]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/invoices/all\",{params:{searchParam:c,pageNumber:r}});u({type:\"LOAD_INVOICES\",payload:e}),s(e.hasMore),t(!1)}catch(e){Ue(e)}})()},500);return()=>clearTimeout(e)},[c,r]);const A=e=>{const a=k()(k()()).format(\"DD/MM/yyyy\"),t=k()(e.dueDate).format(\"DD/MM/yyyy\");var n=k()(t,\"DD/MM/yyyy\").diff(k()(a,\"DD/MM/yyyy\"));if(k.a.duration(n).asDays()<0&&\"paid\"!==e.status)return{backgroundColor:\"#ffbcbc9c\"}},y=e=>{const a=k()(k()()).format(\"DD/MM/yyyy\"),t=k()(e.dueDate).format(\"DD/MM/yyyy\");var n=k()(t,\"DD/MM/yyyy\").diff(k()(a,\"DD/MM/yyyy\")),o=k.a.duration(n).asDays();return\"paid\"===e.status?We.a.t(\"invoices.paid\"):o<0?We.a.t(\"invoices.expired\"):We.a.t(\"invoices.open\")};return o.a.createElement(ii,null,o.a.createElement(ec,{open:f,onClose:()=>{E(null),h(!1)},\"aria-labelledby\":\"form-dialog-title\",Invoice:p,contactId:b}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"invoices.title\"))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&l(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},\"Id\"),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"invoices.details\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"invoices.value\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"invoices.dueDate\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"invoices.status\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"invoices.action\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,m.map(e=>o.a.createElement(so.a,{style:A(e),key:e.id},o.a.createElement(ro.a,{align:\"center\"},e.id),o.a.createElement(ro.a,{align:\"center\"},e.detail),o.a.createElement(ro.a,{style:{fontWeight:\"bold\"},align:\"center\"},e.value.toLocaleString(\"pt-br\",{style:\"currency\",currency:\"BRL\"})),o.a.createElement(ro.a,{align:\"center\"},k()(e.dueDate).format(\"DD/MM/YYYY\")),o.a.createElement(ro.a,{style:{fontWeight:\"bold\"},align:\"center\"},y(e)),o.a.createElement(ro.a,{align:\"center\"},y(e)!==We.a.t(\"invoices.paid\")?o.a.createElement(ca.a,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>(e=>{g(e),E(null),h(!0)})(e)},We.a.t(\"invoices.PAY\")):o.a.createElement(ca.a,{size:\"small\",variant:\"outlined\"},We.a.t(\"invoices.PAID\"))))),a&&o.a.createElement(gi,{columns:4}))))))};const oc=(e,a)=>{if(\"LOAD_USERS\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_USERS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_USER\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},rc=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var lc=()=>{const e=rc(),[a,t]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[f,h]=Object(n.useState)(\"\"),[A,y]=Object(n.useReducer)(oc,[]),x=Object(n.useContext)(v);Object(n.useEffect)(()=>{y({type:\"RESET\"}),l(1)},[f]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/users/\",{params:{searchParam:f,pageNumber:r}});y({type:\"LOAD_USERS\",payload:e.users}),s(e.hasMore),t(!1)}catch(e){Ue(e)}})()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=x.getSocket(e);return a.on(\"company-\".concat(e,\"-user\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||y({type:\"UPDATE_USERS\",payload:e.user}),\"delete\"===e.action&&y({type:\"DELETE_USER\",payload:+e.userId})}),()=>{a.disconnect()}},[x]);return o.a.createElement(ii,null,o.a.createElement(bt,{title:m&&\"\".concat(We.a.t(\"users.confirmationModal.deleteTitle\"),\" \").concat(m.name,\"?\"),open:b,onClose:E,onConfirm:()=>(async e=>{try{await Ye.delete(\"/users/\".concat(e)),w.b.success(We.a.t(\"users.toasts.deleted\"))}catch(a){Ue(a)}u(null),h(\"\"),l(1)})(m.id)},We.a.t(\"users.confirmationModal.deleteMessage\")),o.a.createElement(un,{open:p,onClose:()=>{d(null),g(!1)},\"aria-labelledby\":\"form-dialog-title\",userId:c&&c.id}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"users.title\")),o.a.createElement(mi,null,o.a.createElement(sa.a,{placeholder:We.a.t(\"contacts.searchPlaceholder\"),type:\"search\",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}}),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{d(null),g(!0)}},We.a.t(\"users.buttons.add\")))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&l(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"users.table.id\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"users.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"users.table.email\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"users.table.profile\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"users.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,A.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\"},e.id),o.a.createElement(ro.a,{align:\"center\"},e.name),o.a.createElement(ro.a,{align:\"center\"},e.email),o.a.createElement(ro.a,{align:\"center\"},e.profile),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{d(e),g(!0)})(e)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:a=>{E(!0),u(e)}},o.a.createElement(Xo.a,null))))),a&&o.a.createElement(gi,{columns:4}))))))},ic=t(868),sc=t(1567),cc=t(1568),dc=t(654);const mc=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},dialogImport:{minWidth:500},iFile:{display:\"none\"},lbFile:{border:\"dashed\",borderWidth:2,padding:18,cursor:\"pointer\",display:\"inline-block\",width:\"70%\"},btnWrapper:{position:\"relative\"},iconPlanilha:{marginRight:10},cLbFile:{textAlign:\"center\"},titleLb:{textTransform:\"uppercase\",fontWeight:\"bolder\",marginTop:10},iconDownload:{color:e.palette.primary.main,fontSize:18},cModal:{paddingTop:50,paddingBottom:50},cSuccessContacts:{backgroundColor:\"#AAEE9C80\",padding:10,borderRadius:8,marginTop:30},cErrorContacts:{backgroundColor:\"#DD011B40\",padding:10,borderRadius:8,marginTop:30},titleResult:{fontWeight:\"bolder\"},cCloseModal:{textAlign:\"end\"}}));var uc=e=>{const a=mc(),{open:t,onClose:r}=e,[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(\"\"),[d,m]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)([]),E=e=>{const a=new FileReader;a.onload=e=>{const a=e.target.result,t=dc.a(a,{type:\"array\"}),n=t.SheetNames[0],o=t.Sheets[n],r=dc.b.sheet_to_json(o);m(r)},a.readAsArrayBuffer(e)};return o.a.createElement(\"div\",null,o.a.createElement(tt.a,{open:t,maxWidth:\"sm\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,null,o.a.createElement(Zt.a,{container:!0,alignItems:\"center\"},o.a.createElement(Zt.a,{item:!0,xs:6},We.a.t(\"contactImportModal.title\")),o.a.createElement(Zt.a,{item:!0,xs:6,className:a.cCloseModal},o.a.createElement(N.a,{onClick:r},o.a.createElement(sc.a,null))))),o.a.createElement(pt.a,{dividers:!0,className:a.cModal},o.a.createElement(\"div\",{className:a.cLbFile},o.a.createElement(\"label\",{className:a.lbFile,htmlFor:\"i-import-contacts\"},o.a.createElement(js.c,{className:a.iconDownload}),o.a.createElement(\"div\",{className:a.titleLb},We.a.t(\"contactImportModal.labels.import\")),\"\"!==s&&o.a.createElement(\"div\",null,\"(\",s,\" - \",d.length,\" \",We.a.t(\"contactImportModal.labels.result\"),\")\")),o.a.createElement(\"input\",{onChange:e=>{const a=e.target.files[0];a&&(c(a.name),E(a))},className:a.iFile,type:\"file\",accept:\".xlsx\",id:\"i-import-contacts\"})),u.length>0&&o.a.createElement(\"div\",{className:a.cSuccessContacts},o.a.createElement(q.a,{className:a.titleResult},We.a.t(\"contactImportModal.labels.added\"),\":\"),u.map(e=>o.a.createElement(\"div\",null,e.contactId,\" | \",e.contactName,\" - \",We.a.t(\"contactImportModal.labels.savedContact\")))),g.length>0&&o.a.createElement(\"div\",{className:a.cErrorContacts},o.a.createElement(q.a,{className:a.titleResult},We.a.t(\"contactImportModal.labels.errors\"),\":\"),o.a.createElement(\"ul\",null,g.map(e=>o.a.createElement(\"li\",null,e.contactName,\" - \",e.error.message))))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{color:\"primary\",disabled:l,variant:\"outlined\",onClick:()=>{window.location.href=\"\".concat(window.location.protocol,\"//\").concat(window.location.host,\"/import-contatos.xlsx\")}},o.a.createElement(cc.a,{className:a.iconPlanilha}),We.a.t(\"contactImportModal.buttons.download\")),o.a.createElement(ca.a,{color:\"primary\",disabled:l,variant:\"contained\",className:a.btnWrapper,onClick:async()=>{i(!0);try{const{data:e}=await Ye.post(\"/contacts/upload\",d);p(e.newContacts),b(e.errorBag)}catch(e){Ue(e)}finally{i(!1)}}},We.a.t(\"contactImportModal.buttons.import\")))))};const pc=(e,a)=>{if(\"LOAD_CONTACTS\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_CONTACTS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_CONTACT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},gc=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var bc=()=>{const e=gc(),a=Object(C.useHistory)(),{user:t}=Object(n.useContext)(ea),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(\"\"),[m,u]=Object(n.useReducer)(pc,[]),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,y]=Object(n.useState)({}),[x,S]=Object(n.useState)(null),[O,k]=Object(n.useState)(!1),[T,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)(!1),P=Object(n.useContext)(v);Object(n.useEffect)(()=>{u({type:\"RESET\"}),s(1)},[c]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/contacts/\",{params:{searchParam:c,pageNumber:i}});u({type:\"LOAD_CONTACTS\",payload:e.contacts}),j(e.hasMore),l(!1)}catch(e){Ue(e)}})()},500);return()=>clearTimeout(e)},[c,i]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=P.getSocket(e);return a.on(\"company-\".concat(e,\"-contact\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||u({type:\"UPDATE_CONTACTS\",payload:e.contact}),\"delete\"===e.action&&u({type:\"DELETE_CONTACT\",payload:+e.contactId})}),()=>{a.disconnect()}},[P]);return o.a.createElement(ii,{className:e.mainContainer},o.a.createElement(uc,{open:I,onClose:()=>{M(!1)}}),o.a.createElement(nr,{modalOpen:f,initialContact:A,onClose:e=>{(e=>{h(!1),void 0!==e&&void 0!==e.uuid&&a.push(\"/tickets/\".concat(e.uuid))})(e)}}),o.a.createElement(er,{open:b,onClose:()=>{g(null),E(!1)},\"aria-labelledby\":\"form-dialog-title\",contactId:p}),o.a.createElement(bt,{title:x?\"\".concat(We.a.t(\"contacts.confirmationModal.deleteTitle\"),\" \").concat(x.name,\"?\"):\"\".concat(We.a.t(\"contacts.confirmationModal.importTitlte\")),open:O,onClose:k,onConfirm:e=>x?(async e=>{try{await Ye.delete(\"/contacts/\".concat(e)),w.b.success(We.a.t(\"contacts.toasts.deleted\"))}catch(a){Ue(a)}S(null),d(\"\"),s(1)})(x.id):(async()=>{try{await Ye.post(\"/contacts/import\"),a.go(0)}catch(e){Ue(e)}})()},\"\".concat(x?We.a.t(\"contacts.confirmationModal.deleteMessage\"):We.a.t(\"contacts.confirmationModal.importMessage\"))),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"contacts.title\")),o.a.createElement(mi,null,o.a.createElement(sa.a,{placeholder:We.a.t(\"contacts.searchPlaceholder\"),type:\"search\",value:c,onChange:e=>{d(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}}),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{M(!0)}},We.a.t(\"contacts.buttons.import\")),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{g(null),E(!0)}},We.a.t(\"contacts.buttons.add\")),o.a.createElement(ic.CSVLink,{style:{textDecoration:\"none\"},separator:\";\",filename:\"contatos.csv\",data:m.map(e=>({name:e.name,number:e.number,email:e.email}))},o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\"},We.a.t(\"contacts.buttons.export\"))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!T||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&s(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{padding:\"checkbox\"}),o.a.createElement(ro.a,null,We.a.t(\"contacts.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contacts.table.whatsapp\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contacts.table.email\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contacts.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,m.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{style:{paddingRight:0}},o.a.createElement(Fa.a,{src:e.profilePicUrl})),o.a.createElement(ro.a,null,e.name),o.a.createElement(ro.a,{align:\"center\"},e.number),o.a.createElement(ro.a,{align:\"center\"},e.email),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>{y(e),h(!0)}},o.a.createElement(te.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:()=>{return a=e.id,g(a),void E(!0);var a}},o.a.createElement(ga.a,null)),o.a.createElement(na,{role:t.profile,perform:\"contacts-page:deleteContact\",yes:()=>o.a.createElement(N.a,{size:\"small\",onClick:a=>{k(!0),S(e)}},o.a.createElement(Xo.a,null))})))),r&&o.a.createElement(gi,{avatar:!0,columns:3}))))))},Ec=t(904);var fc=e=>{let{onChange:a,currentColor:t,handleClose:r,open:l}=e;const[i,s]=Object(n.useState)(t);return o.a.createElement(tt.a,{onClose:r,\"aria-labelledby\":\"simple-dialog-title\",open:l},o.a.createElement(Ec.a,{width:\"100%\",triangle:\"hide\",color:i,colors:[\"#B80000\",\"#DB3E00\",\"#FCCB00\",\"#008B02\",\"#006B76\",\"#1273DE\",\"#004DCF\",\"#5300EB\",\"#EB9694\",\"#FAD0C3\",\"#FEF3BD\",\"#C1E1C5\",\"#BEDADC\",\"#C4DEF6\",\"#BED3F3\",\"#D4C4FB\",\"#4D4D4D\",\"#999999\",\"#F44E3B\",\"#FE9200\",\"#FCDC00\",\"#DBDF00\",\"#A4DD00\",\"#68CCCA\",\"#73D8FF\",\"#AEA1FF\",\"#FDA1FF\",\"#333333\",\"#808080\",\"#cccccc\",\"#D33115\",\"#E27300\",\"#FCC400\",\"#B0BC00\",\"#68BC00\",\"#16A5A5\",\"#009CE0\",\"#7B64FF\",\"#FA28FF\",\"#666666\",\"#B3B3B3\",\"#9F0500\",\"#C45100\",\"#FB9E00\",\"#808900\",\"#194D33\",\"#0C797D\",\"#0062B1\",\"#653294\",\"#AB149E\"],onChange:e=>{s(e.hex),r()},onChangeComplete:e=>a(e.hex)}))},hc=t(1570),Ac=t(1569),yc=t(530),vc=t.n(yc),xc=t(871),Cc=t.n(xc);const wc=Object(T.a)(e=>({root:{width:\"100%\",[e.breakpoints.down(\"sm\")]:{maxHeight:\"20vh\"}},button:{marginRight:e.spacing(1)},input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},addButton:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}));function Sc(e){let{queueId:a,options:t,updateOptions:r}=e;const l=wc(),[i,s]=Object(n.useState)(-1),c=e=>async()=>{s(e);const n=t[e];if(void 0!==n&&void 0!==n.id)try{const{data:e}=await Ye.request({url:\"/queue-options\",method:\"GET\",params:{queueId:a,parentId:n.id}}),t=e.map(e=>({...e,children:[],edition:!1}));n.children=t,r()}catch(o){Ue(o)}},d=async e=>{try{if(e.id)await Ye.request({url:\"/queue-options/\".concat(e.id),method:\"PUT\",data:e});else{const{data:a}=await Ye.request({url:\"/queue-options\",method:\"POST\",data:e});e.id=a.id}e.edition=!1,r()}catch(a){Ue(a)}},m=e=>{t[e].edition=!t[e].edition,r()},u=e=>{const a=t[e];return a.edition?o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{value:a.title,onChange:a=>((e,a)=>{t[a].title=e.target.value,r()})(a,e),size:\"small\",className:l.input,placeholder:\"T\\xedtulo da op\\xe7\\xe3o\"}),a.edition&&o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{color:\"primary\",variant:\"outlined\",size:\"small\",className:l.button,onClick:()=>d(a)},o.a.createElement(Cc.a,null)),o.a.createElement(N.a,{variant:\"outlined\",color:\"secondary\",size:\"small\",className:l.button,onClick:()=>(async e=>{const a=t[e];if(void 0!==a&&void 0!==a.id)try{await Ye.request({url:\"/queue-options/\".concat(a.id),method:\"DELETE\"})}catch(n){Ue(n)}t.splice(e,1),t.forEach(async(e,a)=>{e.option=a+1,await d(e)}),r()})(e)},o.a.createElement(Xo.a,null)))):o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,null,\"\"!==a.title?a.title:\"T\\xedtulo n\\xe3o definido\",o.a.createElement(N.a,{variant:\"outlined\",size:\"small\",className:l.button,onClick:()=>m(e)},o.a.createElement(ga.a,null))))},p=e=>{const a=t[e];return a.edition?o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{style:{width:\"100%\"},multiline:!0,value:a.message,onChange:a=>((e,a)=>{t[a].message=e.target.value,r()})(a,e),size:\"small\",className:l.input,placeholder:\"Digite o texto da op\\xe7\\xe3o\"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{onClick:()=>m(e)},a.message))},g=(e,n)=>o.a.createElement(es.a,{key:n},o.a.createElement(as.a,{style:{cursor:\"pointer\"},onClick:c(n)},u(n)),o.a.createElement(Ac.a,null,p(n),void 0!==e.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,{color:\"primary\",size:\"small\",onClick:()=>(e=>{const n=t[e].children.length+1;t[e].children.push({title:\"\",message:\"\",edition:!1,option:n,queueId:a,parentId:t[e].id,children:[]}),r()})(n),startIcon:o.a.createElement(vc.a,null),variant:\"outlined\",className:l.addButton},\"Adicionar\")),o.a.createElement(Sc,{queueId:a,options:e.children,updateOptions:r})));return o.a.createElement($i.a,{style:{marginBottom:0,paddingBottom:0},nonLinear:!0,activeStep:i,orientation:\"vertical\"},t.map((e,a)=>g(e,a)))}function Oc(e){let{queueId:a}=e;const t=wc(),[r,l]=Object(n.useState)([]);Object(n.useEffect)(()=>{if(a){(async()=>{try{const{data:e}=await Ye.request({url:\"/queue-options\",method:\"GET\",params:{queueId:a,parentId:-1}}),t=e.map(e=>({...e,children:[],edition:!1}));l(t)}catch(e){Ue(e)}})()}},[]);const i=()=>{l([...r])};return o.a.createElement(\"div\",{className:t.root},o.a.createElement(\"br\",null),o.a.createElement(q.a,null,\"Op\\xe7\\xf5es\",o.a.createElement(ca.a,{color:\"primary\",size:\"small\",onClick:()=>{const e={title:\"\",message:\"\",edition:!1,option:r.length+1,queueId:a,parentId:null,children:[]};l([...r,e])},startIcon:o.a.createElement(vc.a,null),style:{marginLeft:10},variant:\"outlined\"},\"Adicionar\")),(()=>{if(r.length>0)return o.a.createElement(Sc,{queueId:a,updateOptions:i,options:r})})())}const kc=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Tc=an.b().shape({name:an.d().min(2,We.a.t(\"queueModal.form.nameShort\")).max(50,We.a.t(\"queueModal.form.nameLong\")).required(We.a.t(\"queueModal.form.nameRequired\")),color:an.d().min(3,We.a.t(\"queueModal.form.colorShort\")).max(9,We.a.t(\"queueModal.form.colorLong\")).required(),greetingMessage:an.d()});var jc=e=>{let{open:a,onClose:t,queueId:r}=e;const l=kc(),i={name:\"\",color:\"\",greetingMessage:\"\",outOfHoursMessage:\"\",orderQueue:\"\",integrationId:\"\",promptId:\"\"},[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(i),[u,p]=Object(n.useState)(0),[g,b]=Object(n.useState)(!1),E=Object(n.useRef)(),[f,h]=Object(n.useState)([]),[A,y]=Object(n.useState)([{weekday:\"Segunda-feira\",weekdayEn:\"monday\",startTime:\"08:00\",endTime:\"18:00\"},{weekday:\"Ter\\xe7a-feira\",weekdayEn:\"tuesday\",startTime:\"08:00\",endTime:\"18:00\"},{weekday:\"Quarta-feira\",weekdayEn:\"wednesday\",startTime:\"08:00\",endTime:\"18:00\"},{weekday:\"Quinta-feira\",weekdayEn:\"thursday\",startTime:\"08:00\",endTime:\"18:00\"},{weekday:\"Sexta-feira\",weekdayEn:\"friday\",startTime:\"08:00\",endTime:\"18:00\"},{weekday:\"S\\xe1bado\",weekdayEn:\"saturday\",startTime:\"08:00\",endTime:\"12:00\"},{weekday:\"Domingo\",weekdayEn:\"sunday\",startTime:\"00:00\",endTime:\"00:00\"}]),[v,x]=Object(n.useState)(null),[C,S]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/prompt\");S(e.prompts)}catch(e){Ue(e)}})()},[]),Object(n.useEffect)(()=>{Ye.get(\"/settings\").then(e=>{let{data:a}=e;if(Array.isArray(a)){const e=a.find(e=>\"scheduleType\"===e.key);e&&b(\"queue\"===e.value)}})},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/queueIntegration\");h(e.queueIntegrations)}catch(e){Ue(e)}})()},[]),Object(n.useEffect)(()=>((async()=>{if(r)try{const{data:e}=await Ye.get(\"/queue/\".concat(r));m(a=>({...a,...e})),e.promptId?x(e.promptId):x(null),y(e.schedules)}catch(e){Ue(e)}})(),()=>{m({name:\"\",color:\"\",greetingMessage:\"\",outOfHoursMessage:\"\",orderQueue:\"\",integrationId:\"\"})}),[r,a]);const O=()=>{t(),m(i)},k=e=>{x(e.target.value)};return o.a.createElement(\"div\",{className:l.root},o.a.createElement(tt.a,{maxWidth:\"md\",fullWidth:!0,open:a,onClose:O,scroll:\"paper\"},o.a.createElement(gt.a,null,\"\".concat(r?We.a.t(\"queueModal.title.edit\"):We.a.t(\"queueModal.title.add\"))),o.a.createElement(Wo.a,{value:u,indicatorColor:\"primary\",textColor:\"primary\",onChange:(e,a)=>p(a),\"aria-label\":\"disabled tabs example\"},o.a.createElement(Bo.a,{label:We.a.t(\"queueModal.tabs.queueData\")}),g&&o.a.createElement(Bo.a,{label:We.a.t(\"queueModal.tabs.attendanceTime\")})),0===u&&o.a.createElement(Cn.a,null,o.a.createElement(tn.e,{initialValues:d,enableReinitialize:!0,validationSchema:Tc,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{r?await Ye.put(\"/queue/\".concat(r),{...e,schedules:A,promptId:v||null}):await Ye.post(\"/queue\",{...e,schedules:A,promptId:v||null}),w.b.success(We.a.t(\"queueModal.toasts.success\")),O()}catch(a){Ue(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.name\"),autoFocus:!0,name:\"name\",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:\"outlined\",margin:\"dense\",className:l.textField}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.color\"),name:\"color\",id:\"color\",onFocus:()=>{c(!0),E.current.focus()},error:a.color&&Boolean(t.color),helperText:a.color&&t.color,InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(\"div\",{style:{backgroundColor:i.color},className:l.colorAdorment})),endAdornment:o.a.createElement(N.a,{size:\"small\",color:\"default\",onClick:()=>c(!0)},o.a.createElement(hc.a,null))},variant:\"outlined\",margin:\"dense\",className:l.textField}),o.a.createElement(fc,{open:s,handleClose:()=>c(!1),onChange:e=>{i.color=e,m(()=>({...i,color:e}))}}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.orderQueue\"),name:\"orderQueue\",type:\"orderQueue\",error:a.orderQueue&&Boolean(t.orderQueue),helperText:a.orderQueue&&t.orderQueue,variant:\"outlined\",margin:\"dense\",className:l.textField1}),o.a.createElement(\"div\",null,o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",className:l.FormControl,fullWidth:!0},o.a.createElement(on.a,{id:\"integrationId-selection-label\"},We.a.t(\"queueModal.form.integrationId\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"queueModal.form.integrationId\"),name:\"integrationId\",id:\"integrationId\",placeholder:We.a.t(\"queueModal.form.integrationId\"),labelId:\"integrationId-selection-label\",value:i.integrationId||\"\"},o.a.createElement(F.a,{value:\"\"},\"Nenhum\"),f.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(rn.a,{margin:\"dense\",variant:\"outlined\",fullWidth:!0},o.a.createElement(on.a,null,We.a.t(\"whatsappModal.form.prompt\")),o.a.createElement(nn.a,{labelId:\"dialog-select-prompt-label\",id:\"dialog-select-prompt\",name:\"promptId\",value:v||\"\",onChange:k,label:We.a.t(\"whatsappModal.form.prompt\"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null}},C.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(\"div\",{style:{marginTop:5}},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.greetingMessage\"),type:\"greetingMessage\",multiline:!0,inputRef:E,rows:5,fullWidth:!0,name:\"greetingMessage\",error:a.greetingMessage&&Boolean(t.greetingMessage),helperText:a.greetingMessage&&t.greetingMessage,variant:\"outlined\",margin:\"dense\"}),g&&o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueModal.form.outOfHoursMessage\"),type:\"outOfHoursMessage\",multiline:!0,inputRef:E,rows:5,fullWidth:!0,name:\"outOfHoursMessage\",error:a.outOfHoursMessage&&Boolean(t.outOfHoursMessage),helperText:a.outOfHoursMessage&&t.outOfHoursMessage,variant:\"outlined\",margin:\"dense\"})),o.a.createElement(Oc,{queueId:r})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:O,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"queueModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:l.btnWrapper},\"\".concat(r?We.a.t(\"queueModal.buttons.okEdit\"):We.a.t(\"queueModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:l.buttonProgress}))))})),1===u&&o.a.createElement(Cn.a,{style:{padding:20}},o.a.createElement(Oi,{loading:!1,onSubmit:async e=>{w.b.success(We.a.t(\"queueModal.toasts.info\")),y(e),p(0)},initialValues:A,labelSaveButton:We.a.t(\"queueModal.buttons.okAdd\")}))))};const Ic=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles},customTableCell:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}})),Nc=(e,a)=>{if(\"LOAD_QUEUES\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_QUEUES\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_QUEUE\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]};var Mc=()=>{const e=Ic(),[a,t]=Object(n.useReducer)(Nc,[]),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(!1),p=Object(n.useContext)(v);Object(n.useEffect)(()=>{(async()=>{l(!0);try{const{data:e}=await Ye.get(\"/queue\");t({type:\"LOAD_QUEUES\",payload:e}),l(!1)}catch(e){Ue(e),l(!1)}})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=p.getSocket(e);return a.on(\"company-\".concat(e,\"-queue\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||t({type:\"UPDATE_QUEUES\",payload:e.queue}),\"delete\"===e.action&&t({type:\"DELETE_QUEUE\",payload:e.queueId})}),()=>{a.disconnect()}},[p]);return o.a.createElement(ii,null,o.a.createElement(bt,{title:c&&\"\".concat(We.a.t(\"queues.confirmationModal.deleteTitle\"),\" \").concat(c.name,\"?\"),open:m,onClose:()=>{u(!1),d(null)},onConfirm:()=>(async e=>{try{await Ye.delete(\"/queue/\".concat(e)),w.b.success(We.a.t(\"queues.toasts.success\"))}catch(a){Ue(a)}d(null)})(c.id)},We.a.t(\"queues.confirmationModal.deleteMessage\")),o.a.createElement(jc,{open:i,onClose:()=>{s(!1),d(null)},queueId:null===c||void 0===c?void 0:c.id}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"queues.title\")),o.a.createElement(mi,null,o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{s(!0),d(null)}},We.a.t(\"queues.buttons.add\")))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\"},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queues.table.id\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queues.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queues.table.color\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queues.table.orderQueue\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queues.table.greeting\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queues.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,a.map(a=>o.a.createElement(so.a,{key:a.id},o.a.createElement(ro.a,{align:\"center\"},a.id),o.a.createElement(ro.a,{align:\"center\"},a.name),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(\"div\",{className:e.customTableCell},o.a.createElement(\"span\",{style:{backgroundColor:a.color,width:60,height:20,alignSelf:\"center\"}}))),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(\"div\",{className:e.customTableCell},o.a.createElement(q.a,{style:{width:300,align:\"center\"},noWrap:!0,variant:\"body2\"},a.orderQueue))),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(\"div\",{className:e.customTableCell},o.a.createElement(q.a,{style:{width:300,align:\"center\"},noWrap:!0,variant:\"body2\"},a.greetingMessage))),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{d(e),s(!0)})(a)},o.a.createElement(oi.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:()=>{d(a),u(!0)}},o.a.createElement(ri.a,null))))),r&&o.a.createElement(gi,{columns:4}))))))},Pc=t(872);const Rc=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Dc=an.b().shape({name:an.d().min(3,\"Mensagem muito curta\").required(\"Obrigat\\xf3rio\")});var qc=e=>{let{open:a,onClose:t,tagId:r,reload:l}=e;const i=Rc(),{user:s}=Object(n.useContext)(ea),[c,d]=Object(n.useState)(!1),m={name:\"\",color:\"\",kanban:0},[u,p]=Object(n.useState)(m),[g,b]=Object(n.useState)(0);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ye.get(\"/tags/\".concat(r));b(e.kanban),p(a=>({...a,...e}))})()}catch(e){Ue(e)}},[r,a]);const E=()=>{p(m),d(!1),t()},f=e=>{b(e.target.checked?1:0)};return o.a.createElement(\"div\",{className:i.root},o.a.createElement(tt.a,{open:a,onClose:E,maxWidth:\"xs\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"tagModal.title.edit\"):We.a.t(\"tagModal.title.add\"))),o.a.createElement(tn.e,{initialValues:u,enableReinitialize:!0,validationSchema:Dc,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:s.id,kanban:g};try{r?await Ye.put(\"/tags/\".concat(r),a):await Ye.post(\"/tags\",a),w.b.success(We.a.t(\"tagModal.success\")),\"function\"==typeof l&&l()}catch(t){Ue(t)}E()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"tagModal.form.name\"),name:\"name\",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:\"outlined\",margin:\"dense\",onChange:e=>p(a=>({...a,name:e.target.value})),fullWidth:!0})),o.a.createElement(\"br\",null),o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(tn.b,{as:sa.a,fullWidth:!0,label:We.a.t(\"tagModal.form.color\"),name:\"color\",id:\"color\",error:a.color&&Boolean(t.color),helperText:a.color&&t.color,InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(\"div\",{style:{backgroundColor:l.color},className:i.colorAdorment})),endAdornment:o.a.createElement(N.a,{size:\"small\",color:\"default\",onClick:()=>d(!c)},o.a.createElement(hc.a,null))},variant:\"outlined\",margin:\"dense\"})),(\"admin\"===s.profile||\"supervisor\"===s.profile)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(Ln.a,{control:o.a.createElement(dr.a,{checked:1===g,onChange:f,value:g,color:\"primary\"}),label:\"Kanban\",labelPlacement:\"start\"})),o.a.createElement(\"br\",null)),c&&o.a.createElement(\"div\",null,o.a.createElement(Pc.a,{disableAlpha:!0,hslGradient:!1,style:{margin:\"20px auto 0\"},value:u.color,onChange:e=>{p(a=>({...a,color:\"#\".concat(e.hex)}))}}))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:E,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"tagModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:i.btnWrapper},\"\".concat(r?We.a.t(\"tagModal.buttons.okEdit\"):We.a.t(\"tagModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:i.buttonProgress}))))})))};const Lc=(e,a)=>{if(\"LOAD_TAGS\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_TAGS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_TAG\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},Fc=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var Wc=()=>{const e=Fc(),{user:a}=Object(n.useContext)(ea),[t,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(\"\"),[h,A]=Object(n.useReducer)(Lc,[]),[y,x]=Object(n.useState)(!1),C=Object(n.useCallback)(async()=>{try{const{data:e}=await Ye.get(\"/tags/\",{params:{searchParam:E,pageNumber:l}});A({type:\"LOAD_TAGS\",payload:e.tags}),c(e.hasMore),r(!1)}catch(e){Ue(e)}},[E,l]),S=Object(n.useContext)(v);Object(n.useEffect)(()=>{A({type:\"RESET\"}),i(1)},[E]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{C()},500);return()=>clearTimeout(e)},[E,l,C]),Object(n.useEffect)(()=>{const e=S.getSocket(a.companyId);return e.on(\"user\",e=>{\"update\"!==e.action&&\"create\"!==e.action||A({type:\"UPDATE_TAGS\",payload:e.tags}),\"delete\"===e.action&&A({type:\"DELETE_USER\",payload:+e.tagId})}),()=>{e.disconnect()}},[S,a]);return o.a.createElement(ii,null,o.a.createElement(bt,{title:u&&\"\".concat(We.a.t(\"tags.confirmationModal.deleteTitle\")),open:g,onClose:b,onConfirm:()=>(async e=>{try{await Ye.delete(\"/tags/\".concat(e)),w.b.success(We.a.t(\"tags.toasts.deleted\"))}catch(a){Ue(a)}p(null),f(\"\"),i(1),A({type:\"RESET\"}),i(1),await C()})(u.id)},We.a.t(\"tags.confirmationModal.deleteMessage\")),o.a.createElement(qc,{open:y,onClose:()=>{m(null),x(!1)},reload:C,\"aria-labelledby\":\"form-dialog-title\",tagId:d&&d.id}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"tags.title\")),o.a.createElement(mi,null,o.a.createElement(sa.a,{placeholder:We.a.t(\"contacts.searchPlaceholder\"),type:\"search\",value:E,onChange:e=>{f(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}}),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{m(null),x(!0)}},We.a.t(\"tags.buttons.add\")))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"tags.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"tags.table.tickets\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"tags.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,h.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(ln.a,{variant:\"outlined\",style:{backgroundColor:e.color,textShadow:\"1px 1px 1px #000\",color:\"white\"},label:e.name,size:\"small\"})),o.a.createElement(ro.a,{align:\"center\"},e.ticketsCount),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{m(e),x(!0)})(e)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:a=>{b(!0),p(e)}},o.a.createElement(Xo.a,null))))),t&&o.a.createElement(gi,{columns:4}))))))};const Bc=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{padding:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:\"right\"}}));var zc=()=>{const e=Bc(),a=Object(C.useHistory)(),[t]=Object(n.useState)({token:\"\",number:\"\",body:\"\"}),[r]=Object(n.useState)({token:\"\",number:\"\",medias:\"\"}),[l,i]=Object(n.useState)({}),{getPlanCompany:s}=va();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem(\"companyId\");(await s(void 0,e)).plan.useExternalApi||(w.b.error(\"messagesAPI.toasts.unauthorized\"),setTimeout(()=>{a.push(\"/\")},1e3))}()},[]);return o.a.createElement(Cn.a,{className:e.mainPaper,style:{marginLeft:\"5px\"},variant:\"outlined\"},o.a.createElement(q.a,{variant:\"h5\"},We.a.t(\"messagesAPI.labels.doc\")),o.a.createElement(q.a,{variant:\"h6\",color:\"primary\",className:e.elementMargin},We.a.t(\"messagesAPI.labels.method\")),o.a.createElement(q.a,{component:\"div\"},o.a.createElement(\"ol\",null,o.a.createElement(\"li\",null,We.a.t(\"messagesAPI.labels.textMessage\")),o.a.createElement(\"li\",null,We.a.t(\"messagesAPI.labels.mediaMessage\")))),o.a.createElement(q.a,{variant:\"h6\",color:\"primary\",className:e.elementMargin},We.a.t(\"messagesAPI.labels.instructions\")),o.a.createElement(q.a,{className:e.elementMargin,component:\"div\"},o.a.createElement(\"b\",null,We.a.t(\"messagesAPI.labels.observations\")),o.a.createElement(\"br\",null),o.a.createElement(\"ul\",null,o.a.createElement(\"li\",null,We.a.t(\"messagesAPI.labels.before1\"),\" \",o.a.createElement(\"br\",null),We.a.t(\"messagesAPI.labels.before2\")),o.a.createElement(\"li\",null,We.a.t(\"messagesAPI.labels.numberDescription\"),o.a.createElement(\"ul\",null,o.a.createElement(\"li\",null,We.a.t(\"messagesAPI.labels.countryCode\")),o.a.createElement(\"li\",null,\"DDD\"),o.a.createElement(\"li\",null,We.a.t(\"messagesAPI.labels.number\")))))),o.a.createElement(q.a,{variant:\"h6\",color:\"primary\",className:e.elementMargin},We.a.t(\"messagesAPI.labels.textMessage2\")),o.a.createElement(Zt.a,{container:!0},o.a.createElement(Zt.a,{item:!0,xs:12,sm:6},o.a.createElement(q.a,{className:e.elementMargin,component:\"div\"},o.a.createElement(\"p\",null,We.a.t(\"messagesAPI.labels.textMessageInstructions\")),o.a.createElement(\"b\",null,\"Endpoint: \"),\" \",\"https://api.whatspark.com.br/api/messages/send\",\" \",o.a.createElement(\"br\",null),o.a.createElement(\"b\",null,We.a.t(\"messagesAPI.labels.method2\"),\": \"),\" POST \",o.a.createElement(\"br\",null),o.a.createElement(\"b\",null,\"Headers: \"),\" Authorization (Bearer token) \",We.a.t(\"messagesAPI.labels.e\"),\" Content-Type (application/json) \",o.a.createElement(\"br\",null),o.a.createElement(\"b\",null,\"Body: \"),\" \",'{ \"number\": \"5599999999999\", \"body\": \"Sua mensagem\" }')),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6},o.a.createElement(q.a,{className:e.elementMargin},o.a.createElement(\"b\",null,We.a.t(\"messagesAPI.labels.tests\"))),o.a.createElement(tn.e,{initialValues:t,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{const{number:a,body:t}=e,n={number:a,body:t};try{await Qe.a.request({url:\"https://api.whatspark.com.br/api/messages/send\",method:\"POST\",data:n,headers:{\"Content-type\":\"application/json\",Authorization:\"Bearer \".concat(e.token)}}),w.b.success(We.a.t(\"messagesAPI.toasts.success\"))}catch(o){Ue(o)}})(e),a.setSubmitting(!1),a.resetForm()},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return o.a.createElement(tn.d,{className:e.formContainer},o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"messagesAPI.textMessage.token\"),name:\"token\",autoFocus:!0,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"messagesAPI.textMessage.number\"),name:\"number\",autoFocus:!0,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"messagesAPI.textMessage.body\"),name:\"body\",autoFocus:!0,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12,className:e.textRight},o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:e.btnWrapper},t?o.a.createElement(Ba.a,{size:24,className:e.buttonProgress}):We.a.t(\"messagesAPI.buttons.send\")))))}))),o.a.createElement(q.a,{variant:\"h6\",color:\"primary\",className:e.elementMargin},We.a.t(\"messagesAPI.labels.mediaMessage2\")),o.a.createElement(Zt.a,{container:!0},o.a.createElement(Zt.a,{item:!0,xs:12,sm:6},o.a.createElement(q.a,{className:e.elementMargin,component:\"div\"},o.a.createElement(\"p\",null,We.a.t(\"messagesAPI.labels.textMessageInstructions\")),o.a.createElement(\"b\",null,\"Endpoint: \"),\" \",\"https://api.whatspark.com.br/api/messages/send\",\" \",o.a.createElement(\"br\",null),o.a.createElement(\"b\",null,We.a.t(\"messagesAPI.labels.method2\"),\": \"),\" POST \",o.a.createElement(\"br\",null),o.a.createElement(\"b\",null,\"Headers: \"),\" Authorization (Bearer token) \",We.a.t(\"messagesAPI.labels.e\"),\" Content-Type (multipart/form-data) \",o.a.createElement(\"br\",null),o.a.createElement(\"b\",null,\"FormData: \"),\" \",o.a.createElement(\"br\",null),o.a.createElement(\"ul\",null,o.a.createElement(\"li\",null,o.a.createElement(\"b\",null,\"number: \"),\" 5599999999999\"),o.a.createElement(\"li\",null,o.a.createElement(\"b\",null,\"medias: \"),\" arquivo\")))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:6},o.a.createElement(q.a,{className:e.elementMargin},o.a.createElement(\"b\",null,We.a.t(\"messagesAPI.labels.tests\"))),o.a.createElement(tn.e,{initialValues:r,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{try{const a=l[0],t=new FormData;t.append(\"number\",e.number),t.append(\"body\",a.name),t.append(\"medias\",a),await Qe.a.request({url:\"https://api.whatspark.com.br/api/messages/send\",method:\"POST\",data:t,headers:{\"Content-type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(e.token)}}),w.b.success(We.a.t(\"messagesAPI.toasts.success\"))}catch(a){Ue(a)}})(e),a.setSubmitting(!1),a.resetForm(),document.getElementById(\"medias\").files=null,document.getElementById(\"medias\").value=null},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return o.a.createElement(tn.d,{className:e.formContainer},o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"messagesAPI.mediaMessage.token\"),name:\"token\",autoFocus:!0,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"messagesAPI.mediaMessage.number\"),name:\"number\",autoFocus:!0,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(\"input\",{type:\"file\",name:\"medias\",id:\"medias\",required:!0,onChange:e=>i(e.target.files)})),o.a.createElement(Zt.a,{item:!0,xs:12,className:e.textRight},o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:e.btnWrapper},t?o.a.createElement(Ba.a,{size:24,className:e.buttonProgress}):We.a.t(\"messagesAPI.buttons.send\")))))}))))},Hc=t(926);const Uc=Object(T.a)(e=>({mainPaperContainer:{overflowY:\"auto\",maxHeight:\"calc(100vh - 200px)\"},mainPaper:{width:\"100%\",display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(320px, 1fr))\",gap:e.spacing(3),padding:e.spacing(2),marginBottom:e.spacing(3)},helpPaper:{position:\"relative\",width:\"100%\",minHeight:\"340px\",padding:e.spacing(2),boxShadow:e.shadows[3],borderRadius:e.spacing(1),cursor:\"pointer\",display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\",maxWidth:\"340px\"},paperHover:{transition:\"transform 0.3s, box-shadow 0.3s\",\"&:hover\":{transform:\"scale(1.03)\",boxShadow:\"0 0 8px\",color:e.palette.primary.main}},videoThumbnail:{width:\"100%\",height:\"calc(100% - 56px)\",objectFit:\"cover\",borderRadius:\"\".concat(e.spacing(1),\"px \").concat(e.spacing(1),\"px 0 0\")},videoTitle:{marginTop:e.spacing(1),flex:1},videoDescription:{maxHeight:\"100px\",overflow:\"hidden\"},videoModal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},videoModalContent:{outline:\"none\",width:\"90%\",maxWidth:1024,aspectRatio:\"16/9\",position:\"relative\",backgroundColor:\"white\",borderRadius:e.spacing(1),overflow:\"hidden\"}}));var Vc=()=>{const e=Uc(),[a,t]=Object(n.useState)([]),{list:r}=zi(),[l,i]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){const e=await r();t(e)}()},[]);const s=()=>{i(null)},c=Object(n.useCallback)(e=>{\"Escape\"===e.key&&s()},[]);Object(n.useEffect)(()=>(document.addEventListener(\"keydown\",c),()=>{document.removeEventListener(\"keydown\",c)}),[c]);return o.a.createElement(ii,null,o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"helps.title\"),\" (\",a.length,\")\"),o.a.createElement(mi,null)),o.a.createElement(\"div\",{className:e.mainPaper},o.a.createElement(o.a.Fragment,null,o.a.createElement(\"div\",{className:\"\".concat(e.mainPaper,\" \").concat(e.mainPaperContainer)},a.length?a.map((a,t)=>o.a.createElement(Cn.a,{key:t,className:\"\".concat(e.helpPaper,\" \").concat(e.paperHover),onClick:()=>{return e=a.video,void i(e);var e}},o.a.createElement(\"img\",{src:\"https://img.youtube.com/vi/\".concat(a.video,\"/mqdefault.jpg\"),alt:\"Thumbnail\",className:e.videoThumbnail}),o.a.createElement(q.a,{variant:\"button\",className:e.videoTitle},a.title),o.a.createElement(q.a,{variant:\"caption\",className:e.videoDescription},a.description))):null))),o.a.createElement(Hc.a,{open:Boolean(l),onClose:s,className:e.videoModal},o.a.createElement(\"div\",{className:e.videoModalContent},l&&o.a.createElement(\"iframe\",{style:{width:\"100%\",height:\"100%\",position:\"absolute\",top:0,left:0},src:\"https://www.youtube.com/embed/\".concat(l),title:\"YouTube video player\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:!0}))))},Qc=t(873),Kc=t.n(Qc);const Gc=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Yc=an.b().shape({name:an.d().min(2,We.a.t(\"contactLists.dialog.nameShort\")).max(50,We.a.t(\"contactLists.dialog.nameLong\")).required(We.a.t(\"contactLists.dialog.nameRequired\"))});var Xc=e=>{let{open:a,onClose:t,contactListId:r}=e;const l=Gc(),i={name:\"\"},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await Ye.get(\"/contact-lists/\".concat(r));c(a=>({...a,...e}))}catch(e){Ue(e)}})()},[r,a]);const d=()=>{t(),c(i)};return o.a.createElement(\"div\",{className:l.root},o.a.createElement(tt.a,{open:a,onClose:d,maxWidth:\"xs\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"contactLists.dialog.edit\"):We.a.t(\"contactLists.dialog.add\"))),o.a.createElement(tn.e,{initialValues:s,enableReinitialize:!0,validationSchema:Yc,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{r?await Ye.put(\"/contact-lists/\".concat(r),a):await Ye.post(\"/contact-lists\",a),w.b.success(We.a.t(\"contactList.toasts.success\"))}catch(t){Ue(t)}d()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(\"div\",{className:l.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactLists.dialog.name\"),autoFocus:!0,name:\"name\",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0}))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:d,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"contactLists.dialog.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:l.btnWrapper},\"\".concat(r?We.a.t(\"contactLists.dialog.okEdit\"):We.a.t(\"contactLists.dialog.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:l.buttonProgress}))))})))},_c=t(531),Zc=t.n(_c);const Jc=(e,a)=>{if(\"LOAD_CONTACTLISTS\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_CONTACTLIST\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_CONTACTLIST\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},$c=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var ed=()=>{const e=$c(),a=Object(C.useHistory)(),[t,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(\"\"),[y,x]=Object(n.useReducer)(Jc,[]),S=Object(n.useContext)(v);Object(n.useEffect)(()=>{x({type:\"RESET\"}),i(1)},[h]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/contact-lists/\",{params:{searchParam:h,pageNumber:l}});x({type:\"LOAD_CONTACTLISTS\",payload:e.records}),c(e.hasMore),r(!1)}catch(e){Ue(e)}})()},500);return()=>clearTimeout(e)},[h,l]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=S.getSocket(e);return a.on(\"company-\".concat(e,\"-ContactList\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||x({type:\"UPDATE_CONTACTLIST\",payload:e.record}),\"delete\"===e.action&&x({type:\"DELETE_CONTACTLIST\",payload:+e.id})}),()=>{a.disconnect()}},[S]);return o.a.createElement(ii,null,o.a.createElement(bt,{title:u&&\"\".concat(We.a.t(\"contactLists.confirmationModal.deleteTitle\"),\" \").concat(u.name,\"?\"),open:E,onClose:f,onConfirm:()=>(async e=>{try{await Ye.delete(\"/contact-lists/\".concat(e)),w.b.success(We.a.t(\"contactLists.toasts.deleted\"))}catch(a){Ue(a)}p(null),A(\"\"),i(1)})(u.id)},We.a.t(\"contactLists.confirmationModal.deleteMessage\")),o.a.createElement(Xc,{open:g,onClose:()=>{m(null),b(!1)},\"aria-labelledby\":\"form-dialog-title\",contactListId:d&&d.id}),o.a.createElement(ci,null,o.a.createElement(Zt.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement(Zt.a,{xs:12,sm:8,item:!0},o.a.createElement(ui,null,We.a.t(\"contactLists.title\"))),o.a.createElement(Zt.a,{xs:12,sm:4,item:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:7,sm:6,item:!0},o.a.createElement(sa.a,{fullWidth:!0,placeholder:We.a.t(\"contacts.searchPlaceholder\"),type:\"search\",value:h,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}})),o.a.createElement(Zt.a,{xs:5,sm:6,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",color:\"primary\",onClick:()=>{m(null),b(!0)}},We.a.t(\"contactLists.buttons.add\"))))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contactLists.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contactLists.table.contacts\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contactLists.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,y.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\"},e.name),o.a.createElement(ro.a,{align:\"center\"},e.contactsCount||0),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(\"a\",{href:Zc.a,download:\"planilha.xlsx\"},o.a.createElement(N.a,{size:\"small\",title:\"Baixar Planilha Exemplo\"},o.a.createElement(Kc.a,null))),o.a.createElement(N.a,{size:\"small\",onClick:()=>{return t=e.id,void a.push(\"/contact-lists/\".concat(t,\"/contacts\"));var t}},o.a.createElement(Ie.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{m(e),b(!0)})(e)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:a=>{f(!0),p(e)}},o.a.createElement(Xo.a,null))))),t&&o.a.createElement(gi,{columns:3}))))))},ad=t(874),td=t.n(ad);const nd=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}})),od=an.b().shape({name:an.d().min(2,We.a.t(\"contactListItems.dialog.nameShort\")).max(50,We.a.t(\"contactListItems.dialog.nameLong\")).required(We.a.t(\"contactListItems.dialog.nameRequired\")),number:an.d().min(8,We.a.t(\"contactListItems.dialog.numberShort\")).max(50,We.a.t(\"contactListItems.dialog.numberLong\")),email:an.d().email(We.a.t(\"contactListItems.dialog.emailInvalid\"))});var rd=e=>{let{open:a,onClose:t,contactId:r,initialValues:l,onSave:i}=e;const s=nd(),c=Object(n.useRef)(!0),{user:{companyId:d}}=Object(n.useContext)(ea),{contactListId:m}=Object(C.useParams)(),u={name:\"\",number:\"\",email:\"\"},[p,g]=Object(n.useState)(u);Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(l&&g(e=>({...e,...l})),r)try{const{data:e}=await Ye.get(\"/contact-list-items/\".concat(r));c.current&&g(e)}catch(e){Ue(e)}})()},[r,a,l]);const b=()=>{t(),g(u)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:a,onClose:b,maxWidth:\"lg\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"contactModal.title.edit\"):We.a.t(\"contactModal.title.add\"))),o.a.createElement(tn.e,{initialValues:p,enableReinitialize:!0,validationSchema:od,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(r)await Ye.put(\"/contact-list-items/\".concat(r),{...e,companyId:d,contactListId:m}),b();else{const{data:a}=await Ye.post(\"/contact-list-items\",{...e,companyId:d,contactListId:m});i&&i(a),b()}w.b.success(We.a.t(\"contactModal.success\"))}catch(a){Ue(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(q.a,{variant:\"subtitle1\",gutterBottom:!0},We.a.t(\"contactModal.form.mainInfo\")),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.name\"),name:\"name\",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:\"outlined\",margin:\"dense\",className:s.textField}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.number\"),name:\"number\",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:\"5513912344321\",variant:\"outlined\",margin:\"dense\"}),o.a.createElement(\"div\",null,o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.email\"),name:\"email\",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:We.a.t(\"contactModal.form.email\"),fullWidth:!0,margin:\"dense\",variant:\"outlined\"}))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:b,color:\"secondary\",disabled:l,variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:l,variant:\"contained\",className:s.btnWrapper},\"\".concat(r?We.a.t(\"contactModal.buttons.okEdit\"):We.a.t(\"contactModal.buttons.okAdd\")),l&&o.a.createElement(Ba.a,{size:24,className:s.buttonProgress}))))})))};var ld=()=>({findById:async e=>{const{data:a}=await Ye.request({url:\"/contact-lists/\".concat(e),method:\"GET\"});return a},save:async e=>{const{data:a}=await Ye.request({url:\"/contact-lists\",method:\"POST\",data:e});return a},update:async e=>{const{data:a}=await Ye.request({url:\"/contact-lists/\".concat(e.id),method:\"PUT\",data:e});return a},deleteRecord:async e=>{const{data:a}=await Ye.request({url:\"/contact-lists/\".concat(e),method:\"DELETE\"});return a},list:async e=>{const{data:a}=await Ye.request({url:\"/contact-lists/list\",method:\"GET\",params:e});return a}});const id=(e,a)=>{if(\"LOAD_CONTACTS\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_CONTACTS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_CONTACT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},sd=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var cd=()=>{const e=sd(),{user:a}=Object(n.useContext)(ea),{contactListId:t}=Object(C.useParams)(),r=Object(C.useHistory)(),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(\"\"),[u,p]=Object(n.useReducer)(id,[]),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(null),[y,x]=Object(n.useState)(!1),[S,O]=Object(n.useState)(!1),[k,T]=Object(n.useState)({}),j=Object(n.useRef)(null),{findById:I}=ld(),M=Object(n.useContext)(v);Object(n.useEffect)(()=>{I(t).then(e=>{T(e)})},[t]),Object(n.useEffect)(()=>{p({type:\"RESET\"}),c(1)},[d]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"contact-list-items\",{params:{searchParam:d,pageNumber:s,contactListId:t}});p({type:\"LOAD_CONTACTS\",payload:e.contacts}),O(e.hasMore),i(!1)}catch(e){Ue(e)}})()},500);return()=>clearTimeout(e)},[d,s,t]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=M.getSocket(e);return a.on(\"company-\".concat(e,\"-ContactListItem\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||p({type:\"UPDATE_CONTACTS\",payload:e.record}),\"delete\"===e.action&&p({type:\"DELETE_CONTACT\",payload:+e.id}),\"reload\"===e.action&&p({type:\"LOAD_CONTACTS\",payload:e.records})}),a.on(\"company-\".concat(e,\"-ContactListItem-\").concat(t),e=>{\"reload\"===e.action&&p({type:\"LOAD_CONTACTS\",payload:e.records})}),()=>{a.disconnect()}},[t,M]);return o.a.createElement(ii,{className:e.mainContainer},o.a.createElement(rd,{open:E,onClose:()=>{b(null),f(!1)},\"aria-labelledby\":\"form-dialog-title\",contactId:g}),o.a.createElement(bt,{title:h?\"\".concat(We.a.t(\"contactListItems.confirmationModal.deleteTitle\"),\" \").concat(h.name,\"?\"):\"\".concat(We.a.t(\"contactListItems.confirmationModal.importTitlte\")),open:y,onClose:x,onConfirm:()=>h?(async e=>{try{await Ye.delete(\"/contact-list-items/\".concat(e)),w.b.success(We.a.t(\"contacts.toasts.deleted\"))}catch(a){Ue(a)}A(null),m(\"\"),c(1)})(h.id):(async()=>{try{const e=new FormData;e.append(\"file\",j.current.files[0]),await Ye.request({url:\"contact-lists/\".concat(t,\"/upload\"),method:\"POST\",data:e})}catch(e){Ue(e)}})()},h?\"\".concat(We.a.t(\"contactListItems.confirmationModal.deleteMessage\")):o.a.createElement(o.a.Fragment,null,We.a.t(\"contactListItems.confirmationModal.importMessage\"),o.a.createElement(\"a\",{href:Zc.a,download:\"planilha.xlsx\"},We.a.t(\"contactListItems.download\")))),o.a.createElement(ci,null,o.a.createElement(Zt.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement(Zt.a,{xs:12,sm:5,item:!0},o.a.createElement(ui,null,k.name)),o.a.createElement(Zt.a,{xs:12,sm:7,item:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,sm:6,item:!0},o.a.createElement(sa.a,{fullWidth:!0,placeholder:We.a.t(\"contactListItems.searchPlaceholder\"),type:\"search\",value:d,onChange:e=>{m(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}})),o.a.createElement(Zt.a,{xs:4,sm:2,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",color:\"primary\",onClick:()=>{r.push(\"/contact-lists\")}},We.a.t(\"contactListItems.buttons.lists\"))),o.a.createElement(Zt.a,{xs:4,sm:2,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",color:\"primary\",onClick:()=>{j.current.value=null,j.current.click()}},We.a.t(\"contactListItems.buttons.import\"))),o.a.createElement(Zt.a,{xs:4,sm:2,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",color:\"primary\",onClick:()=>{b(null),f(!0)}},We.a.t(\"contactListItems.buttons.add\"))))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!S||l)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},o.a.createElement(o.a.Fragment,null,o.a.createElement(\"input\",{style:{display:\"none\"},id:\"upload\",name:\"file\",type:\"file\",accept:\".xls,.xlsx\",onChange:()=>{x(!0)},ref:j})),o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\",style:{width:\"0%\"}},\"#\"),o.a.createElement(ro.a,null,We.a.t(\"contactListItems.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contactListItems.table.number\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contactListItems.table.email\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"contactListItems.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,u.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\",style:{width:\"0%\"}},o.a.createElement(N.a,null,e.isWhatsappValid?o.a.createElement(Jn.a,{titleAccess:\"Whatsapp V\\xe1lido\",htmlColor:\"green\"}):o.a.createElement(td.a,{titleAccess:\"Whatsapp Inv\\xe1lido\",htmlColor:\"grey\"}))),o.a.createElement(ro.a,null,e.name),o.a.createElement(ro.a,{align:\"center\"},e.number),o.a.createElement(ro.a,{align:\"center\"},e.email),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>{return a=e.id,b(a),void f(!0);var a}},o.a.createElement(ga.a,null)),o.a.createElement(na,{role:a.profile,perform:\"contacts-page:deleteContact\",yes:()=>o.a.createElement(N.a,{size:\"small\",onClick:()=>{x(!0),A(e)}},o.a.createElement(Xo.a,null))})))),l&&o.a.createElement(gi,{columns:4}))))))};const dd=t(1286),md=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),ud=an.b().shape({shortcode:an.d().required(\"Obrigat\\xf3rio\")});var pd=e=>{let{open:a,onClose:t,quickemessageId:r,reload:l}=e;const i=md(),{user:s}=Object(n.useContext)(ea),{profile:c}=s,d=Object(n.useRef)(),m={shortcode:\"\",message:\"\",geral:!1,status:!0},[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(m),[E,f]=Object(n.useState)(null),h=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ye.get(\"/quick-messages/\".concat(r));b(a=>({...a,...e}))})()}catch(e){Ue(e)}},[r,a]);const A=()=>{b(m),f(null),t()};return o.a.createElement(\"div\",{className:i.root},o.a.createElement(bt,{title:We.a.t(\"quickMessages.confirmationModal.deleteTitle\"),open:u,onClose:()=>p(!1),onConfirm:async()=>{E&&(f(null),h.current.value=null),g.mediaPath&&(await Ye.delete(\"/quick-messages/\".concat(g.id,\"/media-upload\")),b(e=>({...e,mediaPath:null})),w.b.success(We.a.t(\"quickMessages.toasts.deleted\")),\"function\"==typeof l&&l())}},We.a.t(\"quickMessages.confirmationModal.deleteMessage\")),o.a.createElement(tt.a,{open:a,onClose:A,maxWidth:\"xs\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"quickMessages.dialog.edit\"):We.a.t(\"quickMessages.dialog.add\"))),o.a.createElement(\"div\",{style:{display:\"none\"}},o.a.createElement(\"input\",{type:\"file\",ref:h,onChange:e=>(e=>{const a=Object(He.head)(e.target.files);a&&f(a)})(e)})),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:ud,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,isMedia:!0,mediaPath:E?String(E.name).replace(/ /g,\"_\"):e.mediaPath?dd.basename(e.mediaPath).replace(/ /g,\"_\"):null};try{if(r){if(await Ye.put(\"/quick-messages/\".concat(r),a),null!=E){const e=new FormData;e.append(\"typeArch\",\"quickMessage\"),e.append(\"file\",E),await Ye.post(\"/quick-messages/\".concat(r,\"/media-upload\"),e)}}else{const{data:e}=await Ye.post(\"/quick-messages\",a);if(null!=E){const a=new FormData;a.append(\"typeArch\",\"quickMessage\"),a.append(\"file\",E),await Ye.post(\"/quick-messages/\".concat(e.id,\"/media-upload\"),a)}}w.b.success(We.a.t(\"quickMessages.toasts.success\")),\"function\"==typeof l&&l()}catch(t){Ue(t)}A()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,setFieldValue:l,values:s}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:sa.a,autoFocus:!0,label:We.a.t(\"quickMessages.dialog.shortcode\"),name:\"shortcode\",error:a.shortcode&&Boolean(t.shortcode),helperText:a.shortcode&&t.shortcode,variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"quickMessages.dialog.message\"),name:\"message\",inputRef:d,error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:\"outlined\",margin:\"dense\",multiline:!0,rows:7,fullWidth:!0})),o.a.createElement(Zt.a,{item:!0},o.a.createElement(hl,{disabled:n,onClick:e=>(async(e,a)=>{const t=d.current,n=t.value.substring(0,t.selectionStart),o=t.value.substring(t.selectionEnd),r=t.selectionStart+e.length;a(\"message\",\"\".concat(n).concat(e).concat(o)),await new Promise(e=>setTimeout(e,100)),d.current.setSelectionRange(r,r)})(e,l)})),(g.mediaPath||E)&&o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(ca.a,{startIcon:o.a.createElement(Lr.a,null)},E?E.name:g.mediaName),o.a.createElement(N.a,{onClick:()=>p(!0),color:\"secondary\"},o.a.createElement(Xo.a,{color:\"secondary\"}))))),o.a.createElement(nt.a,null,!E&&!g.mediaPath&&o.a.createElement(ca.a,{color:\"primary\",onClick:()=>h.current.click(),disabled:n,variant:\"outlined\"},We.a.t(\"quickMessages.buttons.attach\")),o.a.createElement(ca.a,{onClick:A,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"quickMessages.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:i.btnWrapper},\"\".concat(r?We.a.t(\"quickMessages.buttons.edit\"):We.a.t(\"quickMessages.buttons.add\")),n&&o.a.createElement(Ba.a,{size:24,className:i.buttonProgress}))))})))};const gd=(e,a)=>{if(\"LOAD_QUICKMESSAGES\"===a.type){const t=a.payload,n=[];return Object(He.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_QUICKMESSAGES\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_QUICKMESSAGE\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},bd=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var Ed=()=>{const e=bd(),[a,t]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[f,h]=Object(n.useState)(\"\"),[A,y]=Object(n.useReducer)(gd,[]),{user:x}=Object(n.useContext)(ea),{profile:C}=x,S=Object(n.useContext)(v);Object(n.useEffect)(()=>{y({type:\"RESET\"}),l(1)},[f]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{O()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{const e=x.companyId,a=S.getSocket(e);return a.on(\"company\".concat(e,\"-quickemessage\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||y({type:\"UPDATE_QUICKMESSAGES\",payload:e.record}),\"delete\"===e.action&&y({type:\"DELETE_QUICKMESSAGE\",payload:+e.id})}),()=>{a.disconnect()}},[S,x.companyId]);const O=async()=>{try{x.companyId;const{data:e}=await Ye.get(\"/quick-messages\",{params:{searchParam:f,pageNumber:r,userId:x.id}});y({type:\"LOAD_QUICKMESSAGES\",payload:e.records}),s(e.hasMore),t(!1)}catch(e){Ue(e)}};return o.a.createElement(ii,null,o.a.createElement(bt,{title:m&&\"\".concat(We.a.t(\"quickMessages.confirmationModal.deleteTitle\"),\" \").concat(m.shortcode,\"?\"),open:b,onClose:E,onConfirm:()=>(async e=>{try{await Ye.delete(\"/quick-messages/\".concat(e)),w.b.success(We.a.t(\"quickemessages.toasts.deleted\"))}catch(a){Ue(a)}u(null),h(\"\"),l(1),O(),y({type:\"RESET\"})})(m.id)},We.a.t(\"quickMessages.confirmationModal.deleteMessage\")),o.a.createElement(pd,{resetPagination:()=>{l(1),O()},open:p,onClose:()=>{d(null),g(!1),O()},\"aria-labelledby\":\"form-dialog-title\",quickemessageId:c&&c.id}),o.a.createElement(ci,null,o.a.createElement(Zt.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement(Zt.a,{xs:12,sm:8,item:!0},o.a.createElement(ui,null,We.a.t(\"quickMessages.title\"))),o.a.createElement(Zt.a,{xs:12,sm:4,item:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:6,sm:6,item:!0},o.a.createElement(sa.a,{fullWidth:!0,placeholder:We.a.t(\"quickMessages.searchPlaceholder\"),type:\"search\",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}})),o.a.createElement(Zt.a,{xs:6,sm:6,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",onClick:()=>{d(null),g(!0)},color:\"primary\"},We.a.t(\"quickMessages.buttons.add\"))))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&l(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"quickMessages.table.shortcode\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"quickMessages.table.mediaName\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"quickMessages.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,A.map(e=>{var a;return o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\"},e.shortcode),o.a.createElement(ro.a,{align:\"center\"},null!==(a=e.mediaName)&&void 0!==a?a:We.a.t(\"quickMessages.noAttachment\")),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{d(e),g(!0)})(e)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:a=>{E(!0),u(e)}},o.a.createElement(Xo.a,null))))}),a&&o.a.createElement(gi,{columns:5}))))))},fd=t(875),hd=t.n(fd);const Ad=Object(T.a)(e=>({root:{display:\"flex\",alignItems:\"center\",padding:e.spacing(1)},button:{background:\"#10a110\",border:\"none\",padding:\"10px\",color:\"white\",fontWeight:\"bold\",borderRadius:\"5px\"}}));var yd=()=>{const e=Ad(),a=Object(C.useHistory)(),[t,r]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{var e;const a=null!==(e=(await Ye.get(\"/tags/kanban\")).data.lista)&&void 0!==e?e:[];r(a),await g(p)}catch(a){console.log(a)}})()},[]);const[l,i]=Object(n.useState)({lanes:[]}),[s,c]=Object(n.useState)([]),{user:d}=Object(n.useContext)(ea),{profile:m,queues:u}=d,p=d.queues.map(e=>e.UserQueue.queueId),g=async e=>{try{const{data:a}=await Ye.get(\"/ticket/kanban\",{params:{queueIds:JSON.stringify(e),showAll:\"admin\"===m}});c(a.tickets)}catch(a){console.log(a),c([])}},b=e=>{a.push(\"/tickets/\"+e)};Object(n.useEffect)(()=>{(a=>{const n=s.filter(e=>0===e.tags.length),r=[{id:\"lane0\",title:We.a.t(\"kanban.open\"),label:n.length.toString(),cards:n.map(a=>({id:a.id.toString(),label:\"Ticket n\\xba \"+a.id.toString(),description:o.a.createElement(\"div\",null,o.a.createElement(\"p\",null,a.contact.number,o.a.createElement(\"br\",null),a.lastMessage),o.a.createElement(\"button\",{className:e.button,onClick:()=>{b(a.uuid)}},We.a.t(\"kanban.seeTicket\"))),title:a.contact.name,draggable:!0,href:\"/tickets/\"+a.uuid}))},...t.map(a=>{const t=s.filter(e=>e.tags.map(e=>e.id).includes(a.id));return{id:a.id.toString(),title:a.name,label:t.length.toString(),cards:t.map(a=>({id:a.id.toString(),label:\"Ticket n\\xba \"+a.id.toString(),description:o.a.createElement(\"div\",null,o.a.createElement(\"p\",null,a.contact.number,o.a.createElement(\"br\",null),a.lastMessage),o.a.createElement(\"button\",{className:e.button,onClick:()=>{b(a.uuid)}},We.a.t(\"kanban.seeTicket\"))),title:a.contact.name,draggable:!0,href:\"/tickets/\"+a.uuid})),style:{backgroundColor:a.color,color:\"white\"}}})];i({lanes:r})})()},[t,s]);return o.a.createElement(\"div\",{className:e.root},o.a.createElement(hd.a,{data:l,onCardMoveAcrossLanes:async(e,a,t)=>{try{await Ye.delete(\"/ticket-tags/\".concat(t)),w.b.success(We.a.t(\"kanban.toasts.removed\")),await Ye.put(\"/ticket-tags/\".concat(t,\"/\").concat(a)),w.b.success(We.a.t(\"kanban.toasts.added\"))}catch(n){console.log(n)}},style:{backgroundColor:\"rgba(252, 252, 252, 0.03)\"}}))};var vd=e=>{let{component:a,isPrivate:t=!1,...r}=e;const{isAuth:l,loading:i}=Object(n.useContext)(ea);return!l&&t?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(bn,null),o.a.createElement(C.Redirect,{to:{pathname:\"/login\",state:{from:r.location}}})):l&&!t?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(bn,null),o.a.createElement(C.Redirect,{to:{pathname:\"/\",state:{from:r.location}}}),\";\"):o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(bn,null),o.a.createElement(C.Route,Object.assign({},r,{component:a})))},xd=t(537);t(802),t(1341),t(1342),t(1343),t(1344);const Cd={fontSize:\"14px\",overflow:\"hidden\",whiteSpace:\"nowrap\",textOverflow:\"ellipsis\"};var wd={date:We.a.t(\"schedules.messages.date\"),time:We.a.t(\"schedules.messages.time\"),event:We.a.t(\"schedules.messages.event\"),allDay:We.a.t(\"schedules.messages.allDay\"),week:We.a.t(\"schedules.messages.week\"),work_week:We.a.t(\"schedules.messages.work_week\"),day:We.a.t(\"schedules.messages.day\"),month:We.a.t(\"schedules.messages.month\"),previous:We.a.t(\"schedules.messages.previous\"),next:We.a.t(\"schedules.messages.next\"),yesterday:We.a.t(\"schedules.messages.yesterday\"),tomorrow:We.a.t(\"schedules.messages.tomorrow\"),today:We.a.t(\"schedules.messages.today\"),agenda:We.a.t(\"schedules.messages.agenda\"),noEventsInRange:We.a.t(\"schedules.messages.noEventsInRange\"),showMore:function(e){return\"+\"+e+\" \"+We.a.t(\"schedules.messages.showMore\")}};const Sd=(e,a)=>{if(\"LOAD_SCHEDULES\"===a.type)return[...e,...a.payload];if(\"UPDATE_SCHEDULES\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_SCHEDULE\"===a.type){const t=a.payload;return e.filter(e=>e.id!==t)}return\"RESET\"===a.type?[]:e},Od=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var kd=()=>{const e=(()=>{const e=localStorage.getItem(\"i18nextLng\")||\"en\";return k.a.locale(\"pt\"===e?\"pt-br\":e),Object(xd.b)(k.a)})(),a=Od(),{user:t}=(Object(C.useHistory)(),Object(n.useContext)(ea)),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[f,h]=Object(n.useState)(\"\"),[A,y]=Object(n.useReducer)(Sd,[]),[x,S]=Object(n.useState)(!1),[O,T]=Object(n.useState)((j=\"contactId\",+new URLSearchParams(window.location.search).get(j)));var j;const I=Object(n.useCallback)(async()=>{try{const{data:e}=await Ye.get(\"/schedules/\",{params:{searchParam:f,pageNumber:i}});y({type:\"LOAD_SCHEDULES\",payload:e.schedules}),d(e.hasMore),l(!1)}catch(e){Ue(e)}},[f,i]),N=Object(n.useCallback)(()=>{O&&P()},[O]),M=Object(n.useContext)(v);Object(n.useEffect)(()=>{y({type:\"RESET\"}),s(1)},[f]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{I()},500);return()=>clearTimeout(e)},[f,i,O,I,N]),Object(n.useEffect)(()=>{N();const e=M.getSocket(t.companyId);return e.on(\"company\".concat(t.companyId,\"-schedule\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||y({type:\"UPDATE_SCHEDULES\",payload:e.schedule}),\"delete\"===e.action&&y({type:\"DELETE_SCHEDULE\",payload:+e.scheduleId})}),()=>{e.disconnect()}},[N,M,t]);const P=()=>{u(null),S(!0)},R=async e=>{try{await Ye.delete(\"/schedules/\".concat(e)),w.b.success(We.a.t(\"schedules.toasts.deleted\"))}catch(a){Ue(a)}g(null),h(\"\"),s(1),y({type:\"RESET\"}),s(1),await I()};return o.a.createElement(ii,null,o.a.createElement(bt,{title:p&&\"\".concat(We.a.t(\"schedules.confirmationModal.deleteTitle\")),open:b,onClose:()=>E(!1),onConfirm:()=>R(p.id)},We.a.t(\"schedules.confirmationModal.deleteMessage\")),o.a.createElement(vl,{open:x,onClose:()=>{u(null),S(!1)},reload:I,\"aria-labelledby\":\"form-dialog-title\",scheduleId:m&&m.id,contactId:O,cleanContact:()=>{T(\"\")}}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"schedules.title\"),\" (\",A.length,\")\"),o.a.createElement(mi,null,o.a.createElement(sa.a,{placeholder:We.a.t(\"contacts.searchPlaceholder\"),type:\"search\",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}}),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:P},We.a.t(\"schedules.buttons.add\")))),o.a.createElement(Cn.a,{className:a.mainPaper,variant:\"outlined\",onScroll:e=>{if(!c||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&s(e=>e+1)}},o.a.createElement(xd.a,{messages:wd,formats:{agendaDateFormat:\"DD/MM ddd\",weekdayFormat:\"dddd\"},localizer:e,events:A.map(e=>({title:o.a.createElement(\"div\",{className:\"event-container\"},o.a.createElement(\"div\",{style:Cd},e.contact.name),o.a.createElement(Xo.a,{onClick:()=>R(e.id),className:\"delete-icon\"}),o.a.createElement(ga.a,{onClick:()=>{(e=>{u(e),S(!0)})(e),S(!0)},className:\"edit-icon\"})),start:new Date(e.sendAt),end:new Date(e.sendAt)})),startAccessor:\"start\",endAccessor:\"end\",style:{height:500}})))},Td=t(895),jd=t.n(Td),Id=t(894),Nd=t.n(Id),Md=t(893),Pd=t.n(Md);const Rd=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\",backgroundColor:\"#fff\"},tabmsg:{backgroundColor:e.palette.campaigntab},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}})),Dd=an.b().shape({name:an.d().min(2,We.a.t(\"campaigns.dialog.form.nameShort\")).max(50,We.a.t(\"campaigns.dialog.form.nameLong\")).required(We.a.t(\"campaigns.dialog.form.nameRequired\"))});var qd=e=>{let{open:a,onClose:t,campaignId:r,initialValues:l,onSave:i,resetPagination:s}=e;const c=Rd(),d=Object(n.useRef)(!0),{user:m}=Object(n.useContext)(ea),{companyId:u}=m,[p,g]=Object(n.useState)(null),b={name:\"\",message1:\"\",message2:\"\",message3:\"\",message4:\"\",message5:\"\",status:\"INATIVA\",scheduledAt:\"\",whatsappId:\"\",contactListId:\"\",tagListId:\"Nenhuma\",companyId:u},[E,f]=Object(n.useState)(b),[h,A]=Object(n.useState)([]),[y,v]=Object(n.useState)([]),[x,C]=Object(n.useState)(0),[S,O]=Object(n.useState)(null),[T,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)(!0),P=Object(n.useRef)(null),[R,D]=Object(n.useState)([]);Object(n.useEffect)(()=>()=>{d.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/files/\",{params:{companyId:u}});g(e.files)}catch(e){Ue(e)}})()},[]),Object(n.useEffect)(()=>{if(d.current){if(l&&f(e=>({...e,...l})),Ye.get(\"/contact-lists/list\",{params:{companyId:u}}).then(e=>{let{data:a}=e;return v(a)}),Ye.get(\"/whatsapp\",{params:{companyId:u,session:0}}).then(e=>{let{data:a}=e;return A(a)}),Ye.get(\"/tags\",{params:{companyId:u}}).then(e=>{let{data:a}=e;const t=a.tags.map(e=>({id:e.id,name:e.name}));D(t)}).catch(e=>{console.error(\"Error retrieving tags:\",e)}),!r)return;Ye.get(\"/campaigns/\".concat(r)).then(e=>{let{data:a}=e;f(e=>{let t=Object.assign({},e);return Object.entries(a).forEach(e=>{let[a,n]=e;t[a]=\"scheduledAt\"===a&&\"\"!==n&&null!==n?k()(n).format(\"YYYY-MM-DDTHH:mm\"):null===n?\"\":n}),{...t,tagListId:a.tagId||\"Nenhuma\"}})})}},[r,a,l,u]),Object(n.useEffect)(()=>{const e=k()(),a=k()(E.scheduledAt),t=!Number.isNaN(a.diff(e))&&a.diff(e,\"hour\")>1,n=\"INATIVA\"===E.status||\"PROGRAMADA\"===E.status&&t;M(n)},[E.status,E.scheduledAt]);const q=()=>{t(),f(b)},L=e=>o.a.createElement(tn.b,{as:sa.a,id:e,name:e,fullWidth:!0,rows:5,label:We.a.t(\"campaigns.dialog.form.\".concat(e)),placeholder:We.a.t(\"campaigns.dialog.form.messagePlaceholder\"),multiline:!0,variant:\"outlined\",helperText:We.a.t(\"campaigns.dialog.form.helper\"),disabled:!I&&\"CANCELADA\"!==E.status});return o.a.createElement(\"div\",{className:c.root},o.a.createElement(bt,{title:We.a.t(\"campaigns.confirmationModal.deleteTitle\"),open:T,onClose:()=>j(!1),onConfirm:async()=>{S&&(O(null),P.current.value=null),E.mediaPath&&(await Ye.delete(\"/campaigns/\".concat(E.id,\"/media-upload\")),f(e=>({...e,mediaPath:null,mediaName:null})),w.b.success(We.a.t(\"campaigns.toasts.deleted\")))}},We.a.t(\"campaigns.confirmationModal.deleteMessage\")),o.a.createElement(tt.a,{open:a,onClose:q,fullWidth:!0,maxWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},I?o.a.createElement(o.a.Fragment,null,\"\".concat(r?We.a.t(\"campaigns.dialog.update\"):We.a.t(\"campaigns.dialog.new\"))):o.a.createElement(o.a.Fragment,null,\"\".concat(We.a.t(\"campaigns.dialog.readonly\")))),o.a.createElement(\"div\",{style:{display:\"none\"}},o.a.createElement(\"input\",{type:\"file\",ref:P,onChange:e=>(e=>{const a=Object(He.head)(e.target.files);a&&O(a)})(e)})),o.a.createElement(tn.e,{initialValues:E,enableReinitialize:!0,validationSchema:Dd,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{const a={};if(Object.entries(e).forEach(e=>{let[t,n]=e;a[t]=\"scheduledAt\"===t&&\"\"!==n&&null!==n?k()(n).format(\"YYYY-MM-DD HH:mm:ss\"):\"\"===n?null:n}),r){if(await Ye.put(\"/campaigns/\".concat(r),a),null!=S){const e=new FormData;e.append(\"file\",S),await Ye.post(\"/campaigns/\".concat(r,\"/media-upload\"),e)}q()}else{const{data:e}=await Ye.post(\"/campaigns\",a);if(null!=S){const a=new FormData;a.append(\"file\",S),await Ye.post(\"/campaigns/\".concat(e.id,\"/media-upload\"),a)}i&&i(e),q()}w.b.success(We.a.t(\"campaigns.toasts.success\"))}catch(a){console.log(a),Ue(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,md:9,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"campaigns.dialog.form.name\"),name:\"name\",error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:c.textField,disabled:!I})),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:c.formControl},o.a.createElement(on.a,{id:\"contactList-selection-label\"},We.a.t(\"campaigns.dialog.form.contactList\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"campaigns.dialog.form.contactList\"),placeholder:We.a.t(\"campaigns.dialog.form.contactList\"),labelId:\"contactList-selection-label\",id:\"contactListId\",name:\"contactListId\",error:n.contactListId&&Boolean(t.contactListId),disabled:!I},o.a.createElement(F.a,{value:\"\"},\"Nenhuma\"),y&&y.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:c.formControl},o.a.createElement(on.a,{id:\"tagList-selection-label\"},We.a.t(\"campaigns.dialog.form.tagList\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"campaigns.dialog.form.tagList\"),placeholder:We.a.t(\"campaigns.dialog.form.tagList\"),labelId:\"tagList-selection-label\",id:\"tagListId\",name:\"tagListId\",error:n.tagListId&&Boolean(t.tagListId),disabled:!I},o.a.createElement(F.a,{value:\"\"},\"Nenhuma\"),Array.isArray(R)&&R.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:c.formControl},o.a.createElement(on.a,{id:\"whatsapp-selection-label\"},We.a.t(\"campaigns.dialog.form.whatsapp\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"campaigns.dialog.form.whatsapp\"),placeholder:We.a.t(\"campaigns.dialog.form.whatsapp\"),labelId:\"whatsapp-selection-label\",id:\"whatsappId\",name:\"whatsappId\",error:n.whatsappId&&Boolean(t.whatsappId),disabled:!I},o.a.createElement(F.a,{value:\"\"},\"Nenhuma\"),h&&h.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"campaigns.dialog.form.scheduledAt\"),name:\"scheduledAt\",error:n.scheduledAt&&Boolean(t.scheduledAt),helperText:n.scheduledAt&&t.scheduledAt,variant:\"outlined\",margin:\"dense\",type:\"datetime-local\",InputLabelProps:{shrink:!0},fullWidth:!0,className:c.textField,disabled:!I})),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",className:c.FormControl,fullWidth:!0},o.a.createElement(on.a,{id:\"fileListId-selection-label\"},We.a.t(\"campaigns.dialog.form.fileList\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"campaigns.dialog.form.fileList\"),name:\"fileListId\",id:\"fileListId\",placeholder:We.a.t(\"campaigns.dialog.form.fileList\"),labelId:\"fileListId-selection-label\",value:a.fileListId||\"\"},o.a.createElement(F.a,{value:\"\"},\"Nenhum\"),p.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Wo.a,{value:x,indicatorColor:\"primary\",textColor:\"primary\",className:c.tabmsg,onChange:(e,a)=>C(a),variant:\"fullWidth\",centered:!0,style:{borderRadius:2}},o.a.createElement(Bo.a,{label:\"Msg. 1\",index:0}),o.a.createElement(Bo.a,{label:\"Msg. 2\",index:1}),o.a.createElement(Bo.a,{label:\"Msg. 3\",index:2}),o.a.createElement(Bo.a,{label:\"Msg. 4\",index:3}),o.a.createElement(Bo.a,{label:\"Msg. 5\",index:4})),o.a.createElement(Wa.a,{style:{paddingTop:20,border:\"none\"}},0===x&&o.a.createElement(o.a.Fragment,null,L(\"message1\")),1===x&&o.a.createElement(o.a.Fragment,null,L(\"message2\")),2===x&&o.a.createElement(o.a.Fragment,null,L(\"message3\")),3===x&&o.a.createElement(o.a.Fragment,null,L(\"message4\")),4===x&&o.a.createElement(o.a.Fragment,null,L(\"message5\")))),(E.mediaPath||S)&&o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(ca.a,{startIcon:o.a.createElement(Lr.a,null)},null!=S?S.name:E.mediaName),I&&o.a.createElement(N.a,{onClick:()=>j(!0),color:\"secondary\"},o.a.createElement(Xo.a,null))))),o.a.createElement(nt.a,null,\"CANCELADA\"===E.status&&o.a.createElement(ca.a,{color:\"primary\",onClick:()=>(async()=>{try{await Ye.post(\"/campaigns/\".concat(E.id,\"/restart\")),w.b.success(We.a.t(\"campaigns.toasts.restart\")),f(e=>({...e,status:\"EM_ANDAMENTO\"})),s()}catch(e){w.b.error(e.message)}})(),variant:\"outlined\"},We.a.t(\"campaigns.dialog.buttons.restart\")),\"EM_ANDAMENTO\"===E.status&&o.a.createElement(ca.a,{color:\"primary\",onClick:()=>(async()=>{try{await Ye.post(\"/campaigns/\".concat(E.id,\"/cancel\")),w.b.success(We.a.t(\"campaigns.toasts.cancel\")),f(e=>({...e,status:\"CANCELADA\"})),s()}catch(e){w.b.error(e.message)}})(),variant:\"outlined\"},We.a.t(\"campaigns.dialog.buttons.cancel\")),!S&&!E.mediaPath&&I&&o.a.createElement(ca.a,{color:\"primary\",onClick:()=>P.current.click(),disabled:l,variant:\"outlined\"},We.a.t(\"campaigns.dialog.buttons.attach\")),o.a.createElement(ca.a,{onClick:q,color:\"secondary\",disabled:l,variant:\"outlined\"},We.a.t(\"campaigns.dialog.buttons.close\")),(I||\"CANCELADA\"===E.status)&&o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:l,variant:\"contained\",className:c.btnWrapper},\"\".concat(r?We.a.t(\"campaigns.dialog.buttons.edit\"):We.a.t(\"campaigns.dialog.buttons.add\")),l&&o.a.createElement(Ba.a,{size:24,className:c.buttonProgress}))))})))};const Ld=(e,a)=>{if(\"LOAD_CAMPAIGNS\"===a.type){const t=a.payload,n=[];return Object(He.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_CAMPAIGNS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_CAMPAIGN\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},Fd=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var Wd=()=>{const e=Fd(),a=Object(C.useHistory)(),[t,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(\"\"),[y,x]=Object(n.useReducer)(Ld,[]),{datetimeToClient:S}=In(),O=Object(n.useContext)(v);Object(n.useEffect)(()=>{x({type:\"RESET\"}),i(1)},[h]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{k()},500);return()=>clearTimeout(e)},[h,l]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=O.getSocket(e);return a.on(\"company-\".concat(e,\"-campaign\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||x({type:\"UPDATE_CAMPAIGNS\",payload:e.record}),\"delete\"===e.action&&x({type:\"DELETE_CAMPAIGN\",payload:+e.id})}),()=>{a.disconnect()}},[O]);const k=async()=>{try{const{data:e}=await Ye.get(\"/campaigns/\",{params:{searchParam:h,pageNumber:l}});x({type:\"LOAD_CAMPAIGNS\",payload:e.records}),c(e.hasMore),r(!1)}catch(e){Ue(e)}};return o.a.createElement(ii,null,o.a.createElement(bt,{title:u&&\"\".concat(We.a.t(\"campaigns.confirmationModal.deleteTitle\"),\" \").concat(u.name,\"?\"),open:E,onClose:f,onConfirm:()=>(async e=>{try{await Ye.delete(\"/campaigns/\".concat(e)),w.b.success(We.a.t(\"campaigns.toasts.deleted\"))}catch(a){Ue(a)}p(null),A(\"\"),i(1)})(u.id)},We.a.t(\"campaigns.confirmationModal.deleteMessage\")),o.a.createElement(qd,{resetPagination:()=>{i(1),k()},open:g,onClose:()=>{m(null),b(!1)},\"aria-labelledby\":\"form-dialog-title\",campaignId:d&&d.id}),o.a.createElement(ci,null,o.a.createElement(Zt.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement(Zt.a,{xs:12,sm:8,item:!0},o.a.createElement(ui,null,We.a.t(\"campaigns.title\"))),o.a.createElement(Zt.a,{xs:12,sm:4,item:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:6,sm:6,item:!0},o.a.createElement(sa.a,{fullWidth:!0,placeholder:We.a.t(\"campaigns.searchPlaceholder\"),type:\"search\",value:h,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}})),o.a.createElement(Zt.a,{xs:6,sm:6,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",onClick:()=>{m(null),b(!0)},color:\"primary\"},We.a.t(\"campaigns.buttons.add\"))))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"campaigns.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"campaigns.table.status\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"campaigns.table.contactList\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"campaigns.table.whatsapp\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"campaigns.table.scheduledAt\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"campaigns.table.completedAt\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"campaigns.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,y.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\"},e.name),o.a.createElement(ro.a,{align:\"center\"},(e=>{switch(e){case\"INATIVA\":return We.a.t(\"campaigns.status.inactive\");case\"PROGRAMADA\":return We.a.t(\"campaigns.status.programmed\");case\"EM_ANDAMENTO\":return We.a.t(\"campaigns.status.inProgress\");case\"CANCELADA\":return We.a.t(\"campaigns.status.canceled\");case\"FINALIZADA\":return We.a.t(\"campaigns.status.finished\");default:return e}})(e.status)),o.a.createElement(ro.a,{align:\"center\"},e.contactListId?e.contactList.name:We.a.t(\"campaigns.table.notDefined\")),o.a.createElement(ro.a,{align:\"center\"},e.whatsappId?e.whatsapp.name:We.a.t(\"campaigns.table.notDefined2\")),o.a.createElement(ro.a,{align:\"center\"},e.scheduledAt?S(e.scheduledAt):We.a.t(\"campaigns.table.notScheduled\")),o.a.createElement(ro.a,{align:\"center\"},e.completedAt?S(e.completedAt):We.a.t(\"campaigns.table.notConcluded\")),o.a.createElement(ro.a,{align:\"center\"},\"EM_ANDAMENTO\"===e.status&&o.a.createElement(N.a,{onClick:()=>(async e=>{try{await Ye.post(\"/campaigns/\".concat(e.id,\"/cancel\")),w.b.success(We.a.t(\"campaigns.toasts.cancel\")),i(1),k()}catch(a){w.b.error(a.message)}})(e),title:We.a.t(\"campaigns.table.stopCampaign\"),size:\"small\"},o.a.createElement(Pd.a,null)),\"CANCELADA\"===e.status&&o.a.createElement(N.a,{onClick:()=>(async e=>{try{await Ye.post(\"/campaigns/\".concat(e.id,\"/restart\")),w.b.success(We.a.t(\"campaigns.toasts.restart\")),i(1),k()}catch(a){w.b.error(a.message)}})(e),title:We.a.t(\"campaigns.table.stopCampaign\"),size:\"small\"},o.a.createElement(Nd.a,null)),o.a.createElement(N.a,{onClick:()=>a.push(\"/campaign/\".concat(e.id,\"/report\")),size:\"small\"},o.a.createElement(jd.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{m(e),b(!0)})(e)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:a=>{f(!0),p(e)}},o.a.createElement(Xo.a,null))))),t&&o.a.createElement(gi,{columns:8}))))))};const Bd=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles},textRight:{textAlign:\"right\"},tabPanelsContainer:{padding:e.spacing(2)}})),zd={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[]};var Hd=()=>{const e=Bd(),[a,t]=Object(n.useState)(zd),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)({key:\"\",value:\"\"});Object(n.useEffect)(()=>{Ye.get(\"/campaign-settings\").then(e=>{let{data:a}=e;const n=[];Array.isArray(a)&&a.length>0&&(a.forEach(e=>{n.push([e.key,JSON.parse(e.value)])}),t(Object.fromEntries(n)))})},[]);const p=e=>{if(null!==e.target.value){const a={};a[e.target.name]=e.target.value,u(e=>({...e,...a}))}},g=e=>{const a={};a[e.target.name]=e.target.value,t(e=>({...e,...a}))};return o.a.createElement(ii,null,o.a.createElement(bt,{title:We.a.t(\"campaigns.confirmationModal.deleteTitle\"),open:i,onClose:()=>s(!1),onConfirm:()=>{const e=a.variables.filter(e=>e.key!==c);t(a=>({...a,variables:e})),d(null)}},We.a.t(\"campaigns.confirmationModal.deleteMessage\")),o.a.createElement(ci,null,o.a.createElement(Zt.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(ui,null,We.a.t(\"campaignsConfig.title\"))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\"},o.a.createElement(Wa.a,{className:e.tabPanelsContainer},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(q.a,{component:\"h3\"},We.a.t(\"campaigns.config.interval\"))),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",className:e.formControl,fullWidth:!0},o.a.createElement(on.a,{id:\"messageInterval-label\"},We.a.t(\"campaigns.config.randomInterval\")),o.a.createElement(nn.a,{name:\"messageInterval\",id:\"messageInterval\",labelId:\"messageInterval-label\",label:We.a.t(\"campaigns.config.randomInterval\"),value:a.messageInterval,onChange:e=>g(e)},o.a.createElement(F.a,{value:0},We.a.t(\"campaigns.config.noInterval\")),o.a.createElement(F.a,{value:5},\"5 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:10},\"10 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:15},\"15 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:20},\"20 \",We.a.t(\"campaigns.config.seconds\"))))),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",className:e.formControl,fullWidth:!0},o.a.createElement(on.a,{id:\"longerIntervalAfter-label\"},We.a.t(\"campaigns.config.biggerInterval\")),o.a.createElement(nn.a,{name:\"longerIntervalAfter\",id:\"longerIntervalAfter\",labelId:\"longerIntervalAfter-label\",label:We.a.t(\"campaigns.config.biggerInterval\"),value:a.longerIntervalAfter,onChange:e=>g(e)},o.a.createElement(F.a,{value:0},We.a.t(\"campaigns.config.notDefined\")),o.a.createElement(F.a,{value:1},\"1 \",We.a.t(\"campaigns.config.second\")),o.a.createElement(F.a,{value:5},\"5 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:10},\"10 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:15},\"15 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:20},\"20 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:30},\"30 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:40},\"40 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:60},\"60 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:80},\"80 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:100},\"100 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:120},\"120 \",We.a.t(\"campaigns.config.seconds\"))))),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",className:e.formControl,fullWidth:!0},o.a.createElement(on.a,{id:\"greaterInterval-label\"},We.a.t(\"campaigns.config.greaterInterval\")),o.a.createElement(nn.a,{name:\"greaterInterval\",id:\"greaterInterval\",labelId:\"greaterInterval-label\",label:We.a.t(\"campaigns.config.greaterInterval\"),value:a.greaterInterval,onChange:e=>g(e)},o.a.createElement(F.a,{value:0},We.a.t(\"campaigns.config.noInterval\")),o.a.createElement(F.a,{value:1},\"1 \",We.a.t(\"campaigns.config.second\")),o.a.createElement(F.a,{value:5},\"5 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:10},\"10 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:15},\"15 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:20},\"20 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:30},\"30 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:40},\"40 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:60},\"60 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:80},\"80 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:100},\"100 \",We.a.t(\"campaigns.config.seconds\")),o.a.createElement(F.a,{value:120},\"120 \",We.a.t(\"campaigns.config.seconds\"))))),o.a.createElement(Zt.a,{xs:12,className:e.textRight,item:!0},o.a.createElement(ca.a,{onClick:()=>l(!r),color:\"primary\",style:{marginRight:10}},We.a.t(\"campaigns.config.addVariable\")),o.a.createElement(ca.a,{onClick:async()=>{await Ye.post(\"/campaign-settings\",{settings:a}),w.b.success(We.a.t(\"campaigns.toasts.configSaved\"))},color:\"primary\",variant:\"contained\"},We.a.t(\"campaigns.config.save\"))),r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{xs:12,md:6,item:!0},o.a.createElement(sa.a,{label:We.a.t(\"campaigns.config.shortcut\"),variant:\"outlined\",value:m.key,name:\"key\",onChange:p,fullWidth:!0})),o.a.createElement(Zt.a,{xs:12,md:6,item:!0},o.a.createElement(sa.a,{label:We.a.t(\"campaigns.config.content\"),variant:\"outlined\",value:m.value,name:\"value\",onChange:p,fullWidth:!0})),o.a.createElement(Zt.a,{xs:12,className:e.textRight,item:!0},o.a.createElement(ca.a,{onClick:()=>l(!r),color:\"primary\",style:{marginRight:10}},We.a.t(\"campaigns.config.close\")),o.a.createElement(ca.a,{onClick:()=>{t(e=>{const t=a.variables.filter(e=>e.key===m.key),n=e.variables;return 0===t.length&&(n.push(Object.assign({},m)),u({key:\"\",value:\"\"})),{...e,variables:n}})},color:\"primary\",variant:\"contained\"},We.a.t(\"campaigns.config.add\")))),a.variables.length>0&&o.a.createElement(Zt.a,{xs:12,className:e.textRight,item:!0},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{style:{width:\"1%\"}}),o.a.createElement(ro.a,null,We.a.t(\"campaigns.config.shortcut\")),o.a.createElement(ro.a,null,We.a.t(\"campaigns.config.content\")))),o.a.createElement(oo.a,null,Array.isArray(a.variables)&&a.variables.map((e,a)=>o.a.createElement(so.a,{key:a},o.a.createElement(ro.a,null,o.a.createElement(N.a,{size:\"small\",onClick:()=>{d(e.key),s(!0)}},o.a.createElement(Xo.a,null))),o.a.createElement(ro.a,null,\"{\"+e.key+\"}\"),o.a.createElement(ro.a,null,e.value))))))))))},Ud=t(1571);const Vd=Object(T.a)(e=>({cardAvatar:{fontSize:\"55px\",color:Da.a[500],backgroundColor:\"#ffffff\",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:\"18px\",color:e.palette.text.primary},cardSubtitle:{color:Da.a[600],fontSize:\"14px\"}}));function Qd(e){const{icon:a,title:t,value:n,loading:r}=e,l=Vd();return r?o.a.createElement(jt.a,{variant:\"rect\",height:80}):o.a.createElement(kt.a,null,o.a.createElement(Tt.a,{avatar:o.a.createElement(Fa.a,{className:l.cardAvatar},a),title:o.a.createElement(q.a,{variant:\"h6\",component:\"h2\",className:l.cardTitle},t),subheader:o.a.createElement(q.a,{variant:\"subtitle1\",component:\"p\",className:l.cardSubtitle},n)}))}var Kd=t(896),Gd=t.n(Kd),Yd=t(897),Xd=t.n(Yd);const _d=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),overflowY:\"scroll\",...e.scrollbarStyles},textRight:{textAlign:\"right\"},tabPanelsContainer:{padding:e.spacing(2)}}));var Zd=()=>{const e=_d(),{campaignId:a}=Object(C.useParams)(),[t,r]=Object(n.useState)({}),[l,i]=Object(n.useState)(0),[s,c]=Object(n.useState)(0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1),g=Object(n.useRef)(!0),{datetimeToClient:b}=In(),E=Object(n.useContext)(v);Object(n.useEffect)(()=>(g.current&&f(),()=>{g.current=!1}),[]),Object(n.useEffect)(()=>{if(g.current&&Object(He.has)(t,\"shipping\")){if(Object(He.has)(t,\"contactList\")){const e=Object(He.get)(t,\"contactList\");if(!e)return;const a=e.contacts.filter(e=>e.isWhatsappValid);i(a.length)}if(Object(He.has)(t,\"shipping\")){const e=Object(He.get)(t,\"shipping\");if(!e)return;const a=e.filter(e=>!Object(He.isNull)(e.deliveredAt));c(a.length)}}},[t]),Object(n.useEffect)(()=>{m(s/l*100)},[s,l]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),t=E.getSocket(e);return t.on(\"company-\".concat(e,\"-campaign\"),e=>{e.record.id===+a&&(r(e.record),\"FINALIZADA\"===e.record.status&&setTimeout(()=>{f()},5e3))}),()=>{t.disconnect()}},[a,E]);const f=async()=>{p(!0);const{data:e}=await Ye.get(\"/campaigns/\".concat(a));r(e),p(!1)};return o.a.createElement(ii,null,o.a.createElement(ci,null,o.a.createElement(Zt.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(ui,null,We.a.t(\"campaigns.report.title\"),\" \",t.name||We.a.t(\"campaigns.report.title2\"))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\"},o.a.createElement(q.a,{variant:\"h6\",component:\"h2\"},\"Status: \",(e=>{switch(e){case\"INATIVA\":return We.a.t(\"campaigns.status.inactive\");case\"PROGRAMADA\":return We.a.t(\"campaigns.status.programmed\");case\"EM_ANDAMENTO\":return We.a.t(\"campaigns.status.inProgress\");case\"CANCELADA\":return We.a.t(\"campaigns.status.canceled\");case\"FINALIZADA\":return We.a.t(\"campaigns.status.finished\");default:return e}})(t.status),\" \",s,\" \",We.a.t(\"campaigns.report.of\"),\" \",l),o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(Ud.a,{variant:\"determinate\",style:{height:15,borderRadius:3,margin:\"20px 0\"},value:d})),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(Qd,{icon:o.a.createElement(Gd.a,{fontSize:\"inherit\"}),title:We.a.t(\"campaigns.report.validContacts\"),value:l,loading:u})),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(Qd,{icon:o.a.createElement(Jn.a,{fontSize:\"inherit\"}),title:We.a.t(\"campaigns.report.delivered\"),value:s,loading:u})),t.whatsappId&&o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(Qd,{icon:o.a.createElement(te.a,{fontSize:\"inherit\"}),title:We.a.t(\"campaigns.report.connection\"),value:t.whatsapp.name,loading:u})),t.contactListId&&o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(Qd,{icon:o.a.createElement(Me.a,{fontSize:\"inherit\"}),title:We.a.t(\"campaigns.report.contactList\"),value:t.contactList.name,loading:u})),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(Qd,{icon:o.a.createElement(Xd.a,{fontSize:\"inherit\"}),title:We.a.t(\"campaigns.report.schedule\"),value:b(t.scheduledAt),loading:u})),o.a.createElement(Zt.a,{xs:12,md:4,item:!0},o.a.createElement(Qd,{icon:o.a.createElement(we.a,{fontSize:\"inherit\"}),title:We.a.t(\"campaigns.report.conclusion\"),value:b(t.completedAt),loading:u})))))};const Jd=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),$d=an.b().shape({title:an.d().required(We.a.t(\"announcements.dialog.form.required\")),text:an.d().required(We.a.t(\"announcements.dialog.form.required\"))});var em=e=>{let{open:a,onClose:t,announcementId:r,reload:l}=e;const i=Jd(),s={title:\"\",text:\"\",priority:3,status:!0},[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(s),[p,g]=Object(n.useState)(null),b=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ye.get(\"/announcements/\".concat(r));u(a=>({...a,...e}))})()}catch(e){Ue(e)}},[r,a]);const E=()=>{u(s),g(null),t()};return o.a.createElement(\"div\",{className:i.root},o.a.createElement(bt,{title:We.a.t(\"announcements.confirmationModal.deleteTitle\"),open:c,onClose:()=>d(!1),onConfirm:async()=>{p&&(g(null),b.current.value=null),m.mediaPath&&(await Ye.delete(\"/announcements/\".concat(m.id,\"/media-upload\")),u(e=>({...e,mediaPath:null})),w.b.success(We.a.t(\"announcements.toasts.deleted\")),\"function\"==typeof l&&l())}},We.a.t(\"announcements.confirmationModal.deleteMessage\")),o.a.createElement(tt.a,{open:a,onClose:E,maxWidth:\"xs\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"announcements.dialog.edit\"):We.a.t(\"announcements.dialog.add\"))),o.a.createElement(\"div\",{style:{display:\"none\"}},o.a.createElement(\"input\",{type:\"file\",accept:\".png,.jpg,.jpeg\",ref:b,onChange:e=>(e=>{const a=Object(He.head)(e.target.files);a&&g(a)})(e)})),o.a.createElement(tn.e,{initialValues:m,enableReinitialize:!0,validationSchema:$d,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{if(r){if(await Ye.put(\"/announcements/\".concat(r),a),null!=p){const e=new FormData;e.append(\"file\",p),await Ye.post(\"/announcements/\".concat(r,\"/media-upload\"),e)}}else{const{data:e}=await Ye.post(\"/announcements\",a);if(null!=p){const a=new FormData;a.append(\"file\",p),await Ye.post(\"/announcements/\".concat(e.id,\"/media-upload\"),a)}}w.b.success(We.a.t(\"announcements.toasts.success\")),\"function\"==typeof l&&l()}catch(t){Ue(t)}E()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"announcements.dialog.form.title\"),name:\"title\",error:a.title&&Boolean(t.title),helperText:a.title&&t.title,variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"announcements.dialog.form.text\"),name:\"text\",error:a.text&&Boolean(t.text),helperText:a.text&&t.text,variant:\"outlined\",margin:\"dense\",multiline:!0,rows:7,fullWidth:!0})),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",fullWidth:!0},o.a.createElement(on.a,{id:\"status-selection-label\"},We.a.t(\"announcements.dialog.form.status\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"announcements.dialog.form.status\"),placeholder:We.a.t(\"announcements.dialog.form.status\"),labelId:\"status-selection-label\",id:\"status\",name:\"status\",error:a.status&&Boolean(t.status)},o.a.createElement(F.a,{value:!0},\"Ativo\"),o.a.createElement(F.a,{value:!1},\"Inativo\")))),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(rn.a,{variant:\"outlined\",margin:\"dense\",fullWidth:!0},o.a.createElement(on.a,{id:\"priority-selection-label\"},We.a.t(\"announcements.dialog.form.priority\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"announcements.dialog.form.priority\"),placeholder:We.a.t(\"announcements.dialog.form.priority\"),labelId:\"priority-selection-label\",id:\"priority\",name:\"priority\",error:a.priority&&Boolean(t.priority)},o.a.createElement(F.a,{value:1},\"Alta\"),o.a.createElement(F.a,{value:2},\"M\\xe9dia\"),o.a.createElement(F.a,{value:3},\"Baixa\")))),(m.mediaPath||p)&&o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(ca.a,{startIcon:o.a.createElement(Lr.a,null)},p?p.name:m.mediaName),o.a.createElement(N.a,{onClick:()=>d(!0),color:\"secondary\"},o.a.createElement(Xo.a,null))))),o.a.createElement(nt.a,null,!p&&!m.mediaPath&&o.a.createElement(ca.a,{color:\"primary\",onClick:()=>b.current.click(),disabled:n,variant:\"outlined\"},We.a.t(\"announcements.dialog.buttons.attach\")),o.a.createElement(ca.a,{onClick:E,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"announcements.dialog.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:i.btnWrapper},\"\".concat(r?We.a.t(\"announcements.dialog.buttons.add\"):We.a.t(\"announcements.dialog.buttons.edit\")),n&&o.a.createElement(Ba.a,{size:24,className:i.buttonProgress}))))})))};const am=(e,a)=>{if(\"LOAD_ANNOUNCEMENTS\"===a.type){const t=a.payload,n=[];return Object(He.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_ANNOUNCEMENTS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_ANNOUNCEMENT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},tm=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:\"scroll\",...e.scrollbarStyles}}));var nm=()=>{const e=tm(),a=Object(C.useHistory)(),{user:t}=Object(n.useContext)(ea),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[f,h]=Object(n.useState)(!1),[A,y]=Object(n.useState)(\"\"),[x,S]=Object(n.useReducer)(am,[]),O=Object(n.useContext)(v);Object(n.useEffect)(()=>{!async function(){t.super||(w.b.error(We.a.t(\"announcements.toasts.info\")),setTimeout(()=>{a.push(\"/\")},1e3))}()},[]),Object(n.useEffect)(()=>{S({type:\"RESET\"}),s(1)},[A]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{k()},500);return()=>clearTimeout(e)},[A,i]),Object(n.useEffect)(()=>{const e=t.companyId,a=O.getSocket(e);return a.on(\"company-announcement\",e=>{\"update\"!==e.action&&\"create\"!==e.action||S({type:\"UPDATE_ANNOUNCEMENTS\",payload:e.record}),\"delete\"===e.action&&S({type:\"DELETE_ANNOUNCEMENT\",payload:+e.id})}),()=>{a.disconnect()}},[O,t.companyId]);const k=async()=>{try{const{data:e}=await Ye.get(\"/announcements/\",{params:{searchParam:A,pageNumber:i}});S({type:\"LOAD_ANNOUNCEMENTS\",payload:e.records}),d(e.hasMore),l(!1)}catch(e){Ue(e)}};return o.a.createElement(ii,null,o.a.createElement(bt,{title:p&&\"\".concat(We.a.t(\"announcements.confirmationModal.deleteTitle\"),\" \").concat(p.name,\"?\"),open:f,onClose:h,onConfirm:()=>(async e=>{try{e.mediaName&&await Ye.delete(\"/announcements/\".concat(e.id,\"/media-upload\")),await Ye.delete(\"/announcements/\".concat(e.id)),w.b.success(We.a.t(\"announcements.toasts.deleted\"))}catch(a){Ue(a)}g(null),y(\"\"),s(1)})(p)},We.a.t(\"announcements.confirmationModal.deleteMessage\")),o.a.createElement(em,{resetPagination:()=>{s(1),k()},open:b,onClose:()=>{u(null),E(!1)},\"aria-labelledby\":\"form-dialog-title\",announcementId:m&&m.id}),o.a.createElement(ci,null,o.a.createElement(Zt.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement(Zt.a,{xs:12,sm:8,item:!0},o.a.createElement(ui,null,We.a.t(\"announcements.title\"),\" (\",x.length,\")\")),o.a.createElement(Zt.a,{xs:12,sm:4,item:!0},o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:6,sm:6,item:!0},o.a.createElement(sa.a,{fullWidth:!0,placeholder:We.a.t(\"announcements.searchPlaceholder\"),type:\"search\",value:A,onChange:e=>{y(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}})),o.a.createElement(Zt.a,{xs:6,sm:6,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",onClick:()=>{u(null),E(!0)},color:\"primary\"},We.a.t(\"announcements.buttons.add\"))))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!c||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&s(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"announcements.table.title\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"announcements.table.priority\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"announcements.table.mediaName\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"announcements.table.status\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"announcements.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,x.map(e=>{var a,t;return o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\"},e.title),o.a.createElement(ro.a,{align:\"center\"},1===(t=e.priority)?We.a.t(\"announcements.high\"):2===t?We.a.t(\"announcements.medium\"):3===t?We.a.t(\"announcements.low\"):void 0),o.a.createElement(ro.a,{align:\"center\"},null!==(a=e.mediaName)&&void 0!==a?a:We.a.t(\"quickMessages.noAttachment\")),o.a.createElement(ro.a,{align:\"center\"},e.status?We.a.t(\"announcements.active\"):We.a.t(\"announcements.inactive\")),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{u(e),E(!0)})(e)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:a=>{h(!0),g(e)}},o.a.createElement(Xo.a,null))))}),r&&o.a.createElement(gi,{columns:5}))))))};const om=Object(T.a)(e=>({mainContainer:{display:\"flex\",flexDirection:\"column\",position:\"relative\",flex:1,height:\"calc(100% - 58px)\",overflow:\"hidden\",borderRadius:0,backgroundColor:e.palette.boxlist},chatList:{display:\"flex\",flexDirection:\"column\",position:\"relative\",flex:1,overflowY:\"scroll\",...e.scrollbarStyles},listItem:{cursor:\"pointer\"}}));function rm(e){let{chats:a,handleSelectChat:t,handleDeleteChat:r,handleEditChat:l,pageInfo:i,loading:s}=e;const c=om(),d=Object(C.useHistory)(),{user:m}=Object(n.useContext)(ea),{datetimeToClient:u}=In(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)({}),{id:f}=Object(C.useParams)(),h=async e=>{if(A(e)>0)try{await Ye.post(\"/chats/\".concat(e.id,\"/read\"),{userId:m.id})}catch(a){}f!==e.uuid&&(d.push(\"/chats/\".concat(e.uuid)),t(e))},A=e=>e.users.find(e=>e.userId===m.id).unreads,y=e=>{const a=e.title,t=A(e);return o.a.createElement(o.a.Fragment,null,a,t>0&&o.a.createElement(ln.a,{size:\"small\",style:{marginLeft:5},label:t,color:\"secondary\"}))},v=e=>\"\"!==e.lastMessage?\"\".concat(u(e.updatedAt),\": \").concat(e.lastMessage):\"\",x=e=>({borderLeft:e.uuid===f?\"6px solid #002d6e\":null,backgroundColor:e.uuid===f?\"theme.palette.chatlist\":null});return o.a.createElement(o.a.Fragment,null,o.a.createElement(bt,{title:We.a.t(\"chat.confirm.title\"),open:p,onClose:g,onConfirm:()=>{r(b)}},We.a.t(\"chat.confirm.message\")),o.a.createElement(\"div\",{className:c.mainContainer},o.a.createElement(\"div\",{className:c.chatList},o.a.createElement(P.a,null,Array.isArray(a)&&a.length>0&&a.map((e,a)=>o.a.createElement(G.a,{onClick:()=>h(e),key:a,className:c.listItem,style:x(e),button:!0},o.a.createElement(X.a,{primary:y(e),secondary:v(e)}),e.ownerId===m.id&&o.a.createElement(da.a,null,o.a.createElement(N.a,{onClick:()=>{h(e).then(()=>{l(e)})},edge:\"end\",\"aria-label\":\"delete\",size:\"small\",style:{marginRight:5}},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{onClick:()=>{E(e),g(!0)},edge:\"end\",\"aria-label\":\"delete\",size:\"small\"},o.a.createElement(ua.a,null)))))))))}var lm=t(916);const im=Object(T.a)(e=>({mainContainer:{display:\"flex\",flexDirection:\"column\",position:\"relative\",flex:1,overflow:\"hidden\",borderRadius:0,height:\"100%\",borderLeft:\"1px solid \".concat(\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.08)\":\"rgba(255, 255, 255, 0.05)\"),backgroundColor:\"light\"===e.palette.mode?\"#f8f9fa\":\"#1a1a1a\"},messageList:{position:\"relative\",overflowY:\"auto\",height:\"100%\",...e.scrollbarStyles,backgroundColor:e.palette.chatlist,padding:\"10px 16px\"},inputArea:{position:\"relative\",height:\"auto\",backgroundColor:\"light\"===e.palette.mode?\"#ffffff\":\"#2a2a2a\",borderTop:\"1px solid \".concat(\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.08)\":\"rgba(255, 255, 255, 0.05)\"),padding:\"8px 16px\"},input:{padding:\"12px 16px\",backgroundColor:\"light\"===e.palette.mode?\"#f0f2f5\":\"#3a3a3a\",borderRadius:\"20px\",fontSize:\"14px\"},buttonSend:{margin:e.spacing(.5),color:e.palette.primary.main,\"&:hover\":{backgroundColor:\"light\"===e.palette.mode?\"rgba(0, 0, 0, 0.04)\":\"rgba(255, 255, 255, 0.08)\"}},boxLeft:{padding:\"12px 16px\",margin:\"6px 0\",position:\"relative\",backgroundColor:\"light\"===e.palette.mode?\"#e4e6eb\":\"#3a3b3c\",color:\"light\"===e.palette.mode?\"#050505\":\"#e4e6eb\",maxWidth:300,borderRadius:\"18px\",borderBottomLeftRadius:\"4px\",boxShadow:\"0 1px 2px rgba(0, 0, 0, 0.1)\",wordBreak:\"break-word\"},boxRight:{padding:\"12px 16px\",margin:\"6px 0 6px auto\",position:\"relative\",backgroundColor:e.palette.primary.main,color:\"#ffffff\",textAlign:\"left\",maxWidth:300,borderRadius:\"18px\",borderBottomRightRadius:\"4px\",boxShadow:\"0 1px 2px rgba(0, 0, 0, 0.1)\",wordBreak:\"break-word\"},messageTime:{fontSize:\"11px\",marginTop:\"4px\",opacity:.7,display:\"block\"},senderName:{fontWeight:600,marginBottom:\"4px\",fontSize:\"13px\"},messageContent:{fontSize:\"14px\",lineHeight:\"1.4\"}}));function sm(e){let{chat:a,messages:t,handleSendMessage:r,handleLoadMore:l,scrollToBottomRef:i,pageInfo:s,loading:c}=e;const d=im(),{user:m}=Object(n.useContext)(ea),{datetimeToClient:u}=In(),p=Object(n.useRef)(),[g,b]=Object(n.useState)(\"\"),E=()=>{p.current&&p.current.scrollIntoView({})};Object(n.useEffect)(()=>{if((e=>{if(void 0!==e){return e.users.find(e=>e.userId===m.id).unreads>0}return 0})(a)>0)try{Ye.post(\"/chats/\".concat(a.id,\"/read\"),{userId:m.id})}catch(e){}i.current=E},[]);return o.a.createElement(Cn.a,{className:d.mainContainer},o.a.createElement(\"div\",{onScroll:e=>{const{scrollTop:a}=e.currentTarget;s.hasMore&&!c&&a<600&&l()},className:d.messageList},Array.isArray(t)&&t.map((e,a)=>e.senderId===m.id?o.a.createElement(Wa.a,{key:a,className:d.boxRight},o.a.createElement(q.a,{variant:\"subtitle2\",className:d.senderName},e.sender.name),o.a.createElement(q.a,{className:d.messageContent},e.message),o.a.createElement(q.a,{variant:\"caption\",className:d.messageTime},u(e.createdAt))):o.a.createElement(Wa.a,{key:a,className:d.boxLeft},o.a.createElement(q.a,{variant:\"subtitle2\",className:d.senderName},e.sender.name),o.a.createElement(q.a,{className:d.messageContent},e.message),o.a.createElement(q.a,{variant:\"caption\",className:d.messageTime},u(e.createdAt)))),o.a.createElement(\"div\",{ref:p})),o.a.createElement(\"div\",{className:d.inputArea},o.a.createElement(rn.a,{variant:\"outlined\",fullWidth:!0},o.a.createElement(lm.a,{multiline:!0,placeholder:\"Digite sua mensagem...\",value:g,onKeyUp:e=>{\"Enter\"===e.key&&\"\"!==g.trim()&&(r(g),b(\"\"))},onChange:e=>b(e.target.value),className:d.input,disableUnderline:!0,endAdornment:o.a.createElement(Kl.a,{position:\"end\"},o.a.createElement(N.a,{onClick:()=>{\"\"!==g.trim()&&(r(g),b(\"\"))},className:d.buttonSend,size:\"small\"},o.a.createElement(zr.a,{fontSize:\"small\"})))}))))}const cm=Object(T.a)(e=>({mainContainer:{display:\"flex\",flexDirection:\"column\",position:\"relative\",flex:1,padding:e.spacing(2),height:\"calc(100% - 48px)\",overflowY:\"hidden\",border:\"1px solid rgba(0, 0, 0, 0.12)\"},gridContainer:{flex:1,height:\"100%\",border:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:e.palette.dark},gridItem:{height:\"100%\"},gridItemTab:{height:\"92%\",width:\"100%\"},btnContainer:{textAlign:\"right\",padding:10}}));function dm(e){let{open:a,chat:t,type:r,handleClose:l,handleLoadNewChat:i}=e;const[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)(\"\");Object(n.useEffect)(()=>{if(m(\"\"),c([]),\"edit\"===r){const e=t.users.map(e=>({id:e.user.id,name:e.user.name}));c(e),m(t.title)}},[t,a,r]);return o.a.createElement(tt.a,{open:a,onClose:l,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\"},o.a.createElement(gt.a,{id:\"alert-dialog-title\"},We.a.t(\"chat.modal.title\")),o.a.createElement(pt.a,null,o.a.createElement(Zt.a,{spacing:2,container:!0},o.a.createElement(Zt.a,{xs:12,style:{padding:18},item:!0},o.a.createElement(sa.a,{label:We.a.t(\"chat.modal.titleField\"),placeholder:We.a.t(\"chat.modal.titleField\"),value:d,onChange:e=>m(e.target.value),variant:\"outlined\",size:\"small\",fullWidth:!0})),o.a.createElement(Zt.a,{xs:12,item:!0},o.a.createElement(pr,{onFiltered:e=>c(e),initialUsers:s})))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:l,color:\"primary\"},We.a.t(\"chat.buttons.close\")),o.a.createElement(ca.a,{onClick:async()=>{try{if(!d)return void alert(We.a.t(\"chat.toasts.fillTitle\"));if(!s||0===s.length)return void alert(We.a.t(\"chat.toasts.fillUser\"));if(\"edit\"===r)await Ye.put(\"/chats/\".concat(t.id),{users:s,title:d});else{const{data:e}=await Ye.post(\"/chats\",{users:s,title:d});i(e)}l()}catch(e){}},color:\"primary\",variant:\"contained\"},We.a.t(\"chat.buttons.save\"))))}var mm=Object(Do.a)()((function(e){const a=cm(),{user:t}=Object(n.useContext)(ea),r=Object(C.useHistory)(),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(\"new\"),[d,m]=Object(n.useState)({}),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)({hasMore:!1}),[E,f]=Object(n.useState)([]),[h,A]=Object(n.useState)({hasMore:!1}),[y,x]=Object(n.useState)(1),[w,S]=Object(n.useState)(!1),[O,k]=Object(n.useState)(0),T=Object(n.useRef)(!0),j=Object(n.useRef)(),{id:I}=Object(C.useParams)(),N=Object(n.useContext)(v);Object(n.useEffect)(()=>()=>{T.current=!1},[]),Object(n.useEffect)(()=>{T.current&&L().then(e=>{const{records:a}=e;if(a.length>0&&(p(a),b(e),I&&a.length)){const e=a.find(e=>e.uuid===I);M(e)}})},[]),Object(n.useEffect)(()=>{Object(He.isObject)(d)&&Object(He.has)(d,\"id\")&&D(d.id).then(()=>{\"function\"===typeof j.current&&setTimeout(()=>{j.current()},300)})},[d]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=N.getSocket(e);return a.on(\"company-\".concat(e,\"-chat-user-\").concat(t.id),e=>{if(\"create\"===e.action&&p(a=>[e.record,...a]),\"update\"===e.action){const a=u.map(a=>a.id===e.record.id?(m(e.record),{...e.record}):a);p(a)}}),a.on(\"company-\".concat(e,\"-chat\"),e=>{if(\"delete\"===e.action){const a=u.filter(a=>a.id!==+e.id);p(a),f([]),x(1),A({hasMore:!1}),m({}),r.push(\"/chats\")}}),Object(He.isObject)(d)&&Object(He.has)(d,\"id\")&&a.on(\"company-\".concat(e,\"-chat-\").concat(d.id),e=>{if(\"new-message\"===e.action){f(a=>[...a,e.newMessage]);const a=u.map(a=>a.id===e.newMessage.chatId?{...e.chat}:a);p(a),j.current()}if(\"update\"===e.action){const a=u.map(a=>a.id===e.chat.id?{...e.chat}:a);p(a),j.current()}}),()=>{a.disconnect()}},[d,N]);const M=e=>{try{f([]),x(1),m(e),k(1)}catch(a){}},P=async e=>{S(!0);try{await Ye.post(\"/chats/\".concat(d.id,\"/messages\"),{message:e})}catch(a){}S(!1)},R=async e=>{try{await Ye.delete(\"/chats/\".concat(e.id))}catch(a){}},D=async e=>{S(!0);try{const{data:a}=await Ye.get(\"/chats/\".concat(e,\"/messages?pageNumber=\").concat(y));x(e=>e+1),A(a),f(e=>[...a.records,...e])}catch(a){}S(!1)},q=async()=>{w||D(d.id)},L=async()=>{try{const{data:e}=await Ye.get(\"/chats\");return e}catch(e){console.log(e)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(dm,{type:s,open:l,chat:d,handleLoadNewChat:e=>{f([]),x(1),m(e),k(1),r.push(\"/chats/\".concat(e.uuid))},handleClose:()=>i(!1)}),o.a.createElement(Cn.a,{className:a.mainContainer},Object(Do.b)(\"md\",e.width)?o.a.createElement(Zt.a,{className:a.gridContainer,container:!0},o.a.createElement(Zt.a,{className:a.gridItem,md:3,item:!0},o.a.createElement(\"div\",{className:a.btnContainer},o.a.createElement(ca.a,{onClick:()=>{c(\"new\"),i(!0)},color:\"primary\",variant:\"contained\"},We.a.t(\"chat.buttons.new\"))),o.a.createElement(rm,{chats:u,pageInfo:g,loading:w,handleSelectChat:e=>M(e),handleDeleteChat:e=>R(e),handleEditChat:()=>{c(\"edit\"),i(!0)}})),o.a.createElement(Zt.a,{className:a.gridItem,md:9,item:!0},Object(He.isObject)(d)&&Object(He.has)(d,\"id\")&&o.a.createElement(sm,{chat:d,scrollToBottomRef:j,pageInfo:h,messages:E,loading:w,handleSendMessage:P,handleLoadMore:q}))):o.a.createElement(Zt.a,{className:a.gridContainer,container:!0},o.a.createElement(Zt.a,{md:12,item:!0},o.a.createElement(Wo.a,{value:O,indicatorColor:\"primary\",textColor:\"primary\",onChange:(e,a)=>k(a),\"aria-label\":\"disabled tabs example\"},o.a.createElement(Bo.a,{label:We.a.t(\"chat.chats\")}),o.a.createElement(Bo.a,{label:We.a.t(\"chat.messages\")}))),0===O&&o.a.createElement(Zt.a,{className:a.gridItemTab,md:12,item:!0},o.a.createElement(\"div\",{className:a.btnContainer},o.a.createElement(ca.a,{onClick:()=>i(!0),color:\"primary\",variant:\"contained\"},We.a.t(\"chat.buttons.newChat\"))),o.a.createElement(rm,{chats:u,pageInfo:g,loading:w,handleSelectChat:e=>M(e),handleDeleteChat:e=>R(e)})),1===O&&o.a.createElement(Zt.a,{className:a.gridItemTab,md:12,item:!0},Object(He.isObject)(d)&&Object(He.has)(d,\"id\")&&o.a.createElement(sm,{scrollToBottomRef:j,pageInfo:h,messages:E,loading:w,handleSendMessage:P,handleLoadMore:q})))))}));const um=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}})),pm=e=>{const a=new Date,t=new Date(e),n=Math.abs(a.getTime()-t.getTime());return Math.ceil(n/864e5)};var gm=()=>{var e,a;const t=um(),{user:r}=Object(n.useContext)(ea),[l]=Object(n.useState)(!1),[,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(null),[d,m]=Object(n.useState)(!1),[u]=Object(n.useState)(!1);return o.a.createElement(ii,{className:t.mainContainer},o.a.createElement(ec,{open:d,onClose:()=>{c(null),m(!1)},\"aria-labelledby\":\"form-dialog-title\",contactId:s}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"subscription.title\"))),o.a.createElement(Zt.a,{item:!0,xs:12,sm:4},o.a.createElement(Cn.a,{className:t.mainPaper,variant:\"outlined\",onScroll:e=>{if(!u||l)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&i(e=>e+1)}},o.a.createElement(\"div\",null,o.a.createElement(sa.a,{id:\"outlined-full-width\",label:We.a.t(\"subscription.testPeriod\"),defaultValue:\"\".concat(We.a.t(\"subscription.remainingTest\"),\" \").concat(pm(null===r||void 0===r||null===(e=r.company)||void 0===e?void 0:e.trialExpiration),\" \").concat(We.a.t(\"subscription.remainingTest2\")),fullWidth:!0,margin:\"normal\",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:\"outlined\"})),o.a.createElement(\"div\",null,o.a.createElement(sa.a,{id:\"outlined-full-width\",label:We.a.t(\"subscription.chargeEmail\"),defaultValue:null===r||void 0===r||null===(a=r.company)||void 0===a?void 0:a.email,fullWidth:!0,margin:\"normal\",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:\"outlined\"})),o.a.createElement(\"div\",null,o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{c(null),m(!0)},fullWidth:!0},We.a.t(\"subscription.signNow\"))))))};const bm=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\",gap:4},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:2e3},colorAdorment:{width:20,height:20}})),Em=an.b().shape({name:an.d().min(3,We.a.t(\"fileModal.formErrors.name.short\")).required(We.a.t(\"fileModal.formErrors.name.required\")),message:an.d().required(We.a.t(\"fileModal.formErrors.message.required\"))});var fm=e=>{let{open:a,onClose:t,fileListId:r,reload:l}=e;const i=bm(),{user:s}=Object(n.useContext)(ea),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)([]),p={name:\"\",message:\"\",options:[{name:\"\",path:\"\",mediaType:\"\"}]},[g,b]=Object(n.useState)(p);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ye.get(\"/files/\".concat(r));b(e)})()}catch(e){Ue(e)}},[r,a]);const E=()=>{b(p),d([]),t()};return o.a.createElement(\"div\",{className:i.root},o.a.createElement(tt.a,{open:a,onClose:E,maxWidth:\"md\",fullWidth:!0,scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"fileModal.title.edit\"):We.a.t(\"fileModal.title.add\"))),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:Em,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=async(e,a,t)=>{const n=new FormData;n.append(\"fileId\",t),n.append(\"typeArch\",\"fileList\"),a.forEach((a,t)=>{a.file&&(n.append(\"files\",a.file),n.append(\"mediaType\",a.file.type),n.append(\"name\",e[t].name),n.append(\"id\",e[t].id))});try{const{data:e}=await Ye.post(\"/files/uploadList/\".concat(t),n);return d([]),e}catch(o){Ue(o)}return null},t={...e,userId:s.id};try{if(r){const{data:n}=await Ye.put(\"/files/\".concat(r),t);n.options.length>0&&a(n.options,e.options,r)}else{const{data:n}=await Ye.post(\"/files\",t);n.options.length>0&&a(n.options,e.options,n.id)}w.b.success(We.a.t(\"fileModal.success\")),\"function\"==typeof l&&l()}catch(n){Ue(n)}E()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"fileModal.form.name\"),name:\"name\",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(\"br\",null),o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"fileModal.form.message\"),type:\"message\",multiline:!0,minRows:5,fullWidth:!0,name:\"message\",error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:\"outlined\",margin:\"dense\"})),o.a.createElement(q.a,{style:{marginBottom:8,marginTop:12},variant:\"subtitle1\"},We.a.t(\"fileModal.form.fileOptions\")),o.a.createElement(tn.c,{name:\"options\"},e=>{let{push:a,remove:t}=e;return o.a.createElement(o.a.Fragment,null,l.options&&l.options.length>0&&l.options.map((e,a)=>o.a.createElement(\"div\",{className:i.extraAttr,key:\"\".concat(a,\"-info\")},o.a.createElement(Zt.a,{container:!0,spacing:0},o.a.createElement(Zt.a,{xs:6,md:10,item:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"fileModal.form.extraName\"),name:\"options[\".concat(a,\"].name\"),variant:\"outlined\",margin:\"dense\",multiline:!0,fullWidth:!0,minRows:2,className:i.textField})),o.a.createElement(Zt.a,{xs:2,md:2,item:!0,style:{display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\"}},o.a.createElement(\"input\",{type:\"file\",onChange:e=>{const t=e.target.files[0],n=[...l.options];n[a].file=t,d(\"options\",n);const o=[...m];o[a]=t?t.name:\"\",u(o)},style:{display:\"none\"},name:\"options[\".concat(a,\"].file\"),id:\"file-upload-\".concat(a)}),o.a.createElement(\"label\",{htmlFor:\"file-upload-\".concat(a)},o.a.createElement(N.a,{component:\"span\"},o.a.createElement(Lr.a,null))),o.a.createElement(N.a,{size:\"small\",onClick:()=>t(a)},o.a.createElement(Xo.a,null))),o.a.createElement(Zt.a,{xs:12,md:12,item:!0},e.path?e.path:m[a])))),o.a.createElement(\"div\",{className:i.extraAttr},o.a.createElement(ca.a,{style:{flex:1,marginTop:8},variant:\"outlined\",color:\"primary\",onClick:()=>{a({name:\"\",path:\"\"}),u([...m,\"\"])}},\"+ \".concat(We.a.t(\"fileModal.buttons.fileOptions\")))))})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:E,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"fileModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:i.btnWrapper},\"\".concat(r?We.a.t(\"fileModal.buttons.okEdit\"):We.a.t(\"fileModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:i.buttonProgress}))))})))};const hm=(e,a)=>{if(\"LOAD_FILES\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_FILES\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_TAG\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},Am=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var ym=()=>{const e=Am(),{user:a}=Object(n.useContext)(ea),[t,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(\"\"),[h,A]=Object(n.useReducer)(hm,[]),[y,x]=Object(n.useState)(!1),C=Object(n.useCallback)(async()=>{try{const{data:e}=await Ye.get(\"/files/\",{params:{searchParam:E,pageNumber:l}});A({type:\"LOAD_FILES\",payload:e.files}),c(e.hasMore),r(!1)}catch(e){Ue(e)}},[E,l]),S=Object(n.useContext)(v);Object(n.useEffect)(()=>{A({type:\"RESET\"}),i(1)},[E]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{C()},500);return()=>clearTimeout(e)},[E,l,C]),Object(n.useEffect)(()=>{const e=S.getSocket(a.companyId);return e.on(\"company-\".concat(a.companyId,\"-file\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||A({type:\"UPDATE_FILES\",payload:e.files}),\"delete\"===e.action&&A({type:\"DELETE_USER\",payload:+e.fileId})}),()=>{e.disconnect()}},[S,a]);return o.a.createElement(ii,null,o.a.createElement(bt,{title:u&&\"\".concat(We.a.t(\"files.confirmationModal.deleteTitle\")),open:g,onClose:b,onConfirm:()=>(async e=>{try{await Ye.delete(\"/files/\".concat(e)),w.b.success(We.a.t(\"files.toasts.deleted\"))}catch(a){Ue(a)}p(null),f(\"\"),i(1),A({type:\"RESET\"}),i(1),await C()})(u.id)},We.a.t(\"files.confirmationModal.deleteMessage\")),o.a.createElement(fm,{open:y,onClose:()=>{m(null),x(!1)},reload:C,\"aria-labelledby\":\"form-dialog-title\",fileListId:d&&d.id}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"files.title\"),\" (\",h.length,\")\"),o.a.createElement(mi,null,o.a.createElement(sa.a,{placeholder:We.a.t(\"contacts.searchPlaceholder\"),type:\"search\",value:E,onChange:e=>{f(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}}),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{m(null),x(!0)}},We.a.t(\"files.buttons.add\")))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"files.table.name\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"files.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,h.map(e=>o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"center\"},e.name),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{m(e),x(!0)})(e)},o.a.createElement(ga.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:a=>{b(!0),p(e)}},o.a.createElement(Xo.a,null))))),t&&o.a.createElement(gi,{columns:4}))))))},vm=t(1572),xm=t(1573);const Cm=Object(T.a)(e=>({formControl:{margin:e.spacing(1),minWidth:120}}));var wm=(e,a)=>{const t=Cm(),[r,l]=Object(n.useState)([]);return Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/queue\");l(e)}catch(e){Ue(\"QUEUESELETSINGLE >>> \".concat(e))}})()},[]),o.a.createElement(\"div\",{style:{marginTop:6}},o.a.createElement(rn.a,{variant:\"outlined\",className:t.FormControl,margin:\"dense\",fullWidth:!0},o.a.createElement(\"div\",null,o.a.createElement(q.a,null,We.a.t(\"queueSelect.inputLabel\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"queueSelect.inputLabel\"),name:\"queueId\",labelId:\"queue-selection-label\",id:\"queue-selection\",error:e.queueId&&Boolean(a.queueId),helpertext:e.name&&a.name,fullWidth:!0},r.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))))};const Sm=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:e.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Om=an.b().shape({name:an.d().min(5,We.a.t(\"promptModal.formErrors.name.short\")).max(100,We.a.t(\"promptModal.formErrors.name.long\")).required(We.a.t(\"promptModal.formErrors.name.required\")),prompt:an.d().min(50,We.a.t(\"promptModal.formErrors.prompt.short\")).required(We.a.t(\"promptModal.formErrors.prompt.required\")),model:an.d().required(We.a.t(\"promptModal.formErrors.modal.required\")),maxTokens:an.a().required(We.a.t(\"promptModal.formErrors.maxTokens.required\")),temperature:an.a().required(We.a.t(\"promptModal.formErrors.temperature.required\")),apiKey:an.d().required(We.a.t(\"promptModal.formErrors.apikey.required\")),queueId:an.a().required(We.a.t(\"promptModal.formErrors.queueId.required\")),maxMessages:an.a().required(We.a.t(\"promptModal.formErrors.maxMessages.required\"))});var km=e=>{let{open:a,onClose:t,promptId:r,refreshPrompts:l}=e;const i=Sm(),[s,c]=Object(n.useState)(\"gpt-3.5-turbo-1106\"),[d,m]=Object(n.useState)(!1),u=()=>{m(!d)},p={name:\"\",prompt:\"\",model:\"gpt-3.5-turbo-1106\",maxTokens:100,temperature:1,apiKey:\"\",queueId:\"\",maxMessages:10},[g,b]=Object(n.useState)(p);Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await Ye.get(\"/prompt/\".concat(r));b(a=>({...a,...e})),c(e.model)}catch(e){Ue(e)}else b(p)})()},[r,a]);const E=()=>{b(p),c(\"gpt-3.5-turbo-1106\"),t()},f=e=>{c(e.target.value)};return o.a.createElement(\"div\",{className:i.root},o.a.createElement(tt.a,{open:a,onClose:E,maxWidth:\"md\",scroll:\"paper\",fullWidth:!0},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"\".concat(r?We.a.t(\"promptModal.title.edit\"):We.a.t(\"promptModal.title.add\"))),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:Om,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,model:s};if(console.log(a),e.queueId){try{r?await Ye.put(\"/prompt/\".concat(r),a):await Ye.post(\"/prompt\",a),w.b.success(We.a.t(\"promptModal.success\")),l()}catch(t){Ue(t)}E()}else Ue(We.a.t(\"promptModal.setor\"))})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,{style:{width:\"100%\"}},o.a.createElement(pt.a,{dividers:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.name\"),name:\"name\",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(rn.a,{fullWidth:!0,margin:\"dense\",variant:\"outlined\"},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.apikey\"),name:\"apiKey\",type:d?\"text\":\"password\",error:a.apiKey&&Boolean(t.apiKey),helperText:a.apiKey&&t.apiKey,variant:\"outlined\",margin:\"dense\",fullWidth:!0,InputProps:{endAdornment:o.a.createElement(Kl.a,{position:\"end\"},o.a.createElement(N.a,{onClick:u},d?o.a.createElement(vm.a,null):o.a.createElement(xm.a,null)))}})),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.prompt\"),name:\"prompt\",error:a.prompt&&Boolean(t.prompt),helperText:a.prompt&&t.prompt,variant:\"outlined\",margin:\"dense\",fullWidth:!0,rows:10,multiline:!0}),o.a.createElement(wm,{touched:a,errors:t}),o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(rn.a,{fullWidth:!0,margin:\"dense\",variant:\"outlined\"},o.a.createElement(on.a,null,We.a.t(\"promptModal.form.model\")),o.a.createElement(nn.a,{id:\"type-select\",labelWidth:60,name:\"model\",value:s,onChange:f,multiple:!1},o.a.createElement(F.a,{key:\"gpt-3.5\",value:\"gpt-3.5-turbo-1106\"},\"GPT 3.5 turbo\"),o.a.createElement(F.a,{key:\"gpt-4\",value:\"gpt-4o-mini\"},\"GPT 4.0\"))),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.temperature\"),name:\"temperature\",error:a.temperature&&Boolean(t.temperature),helperText:a.temperature&&t.temperature,variant:\"outlined\",margin:\"dense\",fullWidth:!0,type:\"number\",inputProps:{step:\"0.1\",min:\"0\",max:\"1\"}})),o.a.createElement(\"div\",{className:i.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.max_tokens\"),name:\"maxTokens\",error:a.maxTokens&&Boolean(t.maxTokens),helperText:a.maxTokens&&t.maxTokens,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.max_messages\"),name:\"maxMessages\",error:a.maxMessages&&Boolean(t.maxMessages),helperText:a.maxMessages&&t.maxMessages,variant:\"outlined\",margin:\"dense\",fullWidth:!0}))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:E,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"promptModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:i.btnWrapper},\"\".concat(r?We.a.t(\"promptModal.buttons.okEdit\"):We.a.t(\"promptModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:i.buttonProgress}))))})))},Tm=t(337);const jm=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles},customTableCell:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},redBox:{backgroundColor:\"#ffcccc\",padding:e.spacing(2),marginBottom:e.spacing(2)}})),Im=(e,a)=>{if(\"LOAD_PROMPTS\"===a.type){const t=a.payload,n=[];return 0===t.length?[]:(t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n])}if(\"UPDATE_PROMPTS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_PROMPT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]};var Nm=()=>{const e=jm(),[a,t]=Object(n.useReducer)(Im,[]),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(!1),{user:p}=Object(n.useContext)(ea),{getPlanCompany:g}=va(),b=Object(Tm.useHistory)(),E=p.companyId,f=Object(n.useContext)(v);Object(n.useEffect)(()=>{!async function(){(await g(void 0,E)).plan.useOpenAi||(w.b.error(\"Esta empresa n\\xe3o possui permiss\\xe3o para acessar essa p\\xe1gina! Estamos lhe redirecionando.\"),setTimeout(()=>{b.push(\"/\")},1e3))}()},[]),Object(n.useEffect)(()=>{(async()=>{l(!0);try{h(),l(!1)}catch(e){Ue(e),l(!1)}})()},[]),Object(n.useEffect)(()=>{const e=f.getSocket(E);return e.on(\"company-\".concat(E,\"-prompt\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||t({type:\"UPDATE_PROMPTS\",payload:e.prompt}),\"delete\"===e.action&&t({type:\"DELETE_PROMPT\",payload:e.promptId})}),()=>{e.disconnect()}},[E,f]);const h=async()=>{const{data:e}=await Ye.get(\"/prompt\");t({type:\"LOAD_PROMPTS\",payload:e.prompts})};return o.a.createElement(ii,null,o.a.createElement(bt,{title:c&&\"\".concat(We.a.t(\"prompts.confirmationModal.deleteTitle\"),\" \").concat(c.name,\"?\"),open:m,onClose:()=>{u(!1),d(null)},onConfirm:()=>(async e=>{try{const{data:a}=await Ye.delete(\"/prompt/\".concat(e));t({type:\"DELETE_PROMPT\",payload:e}),w.b.info(We.a.t(a.message))}catch(a){Ue(a)}d(null)})(c.id)},We.a.t(\"prompts.confirmationModal.deleteMessage\")),o.a.createElement(km,{open:i,onClose:()=>{s(!1),d(null)},promptId:null===c||void 0===c?void 0:c.id,refreshPrompts:h}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"prompts.title\")),o.a.createElement(mi,null,o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{s(!0),d(null)}},We.a.t(\"prompts.buttons.add\")))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\"},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"prompts.table.name\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"prompts.table.queue\")),o.a.createElement(ro.a,{align:\"left\"},We.a.t(\"prompts.table.max_tokens\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"prompts.table.actions\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,a.map(e=>{var a;return o.a.createElement(so.a,{key:e.id},o.a.createElement(ro.a,{align:\"left\"},e.name),o.a.createElement(ro.a,{align:\"left\"},null===(a=e.queue)||void 0===a?void 0:a.name),o.a.createElement(ro.a,{align:\"left\"},e.maxTokens),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{d(e),s(!0)})(e)},o.a.createElement(oi.a,null)),o.a.createElement(N.a,{size:\"small\",onClick:()=>{d(e),u(!0)}},o.a.createElement(ri.a,null))))}),r&&o.a.createElement(gi,{columns:4}))))))},Mm=t(898),Pm=t.n(Mm),Rm=t(899),Dm=t.n(Rm),qm=t(900),Lm=t.n(qm),Fm=t(901),Wm=t.n(Fm);const Bm=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\",gap:4},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},btnLeft:{display:\"flex\",marginRight:\"auto\",marginLeft:12},colorAdorment:{width:20,height:20}})),zm=an.b().shape({name:an.d().min(2,\"Too Short!\").max(50,\"Too Long!\").required(\"Required\")});var Hm=e=>{let{open:a,onClose:t,integrationId:r}=e;const l=Bm(),i={type:\"typebot\",name:\"\",projectName:\"\",jsonContent:\"\",language:\"\",urlN8N:\"\",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:\"\",typebotKeywordRestart:\"\",typebotRestartMessage:\"\",typebotSlug:\"\",typebotUnknownMessage:\"\"},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>((async()=>{if(r)try{const{data:e}=await Ye.get(\"/queueIntegration/\".concat(r));c(a=>({...a,...e}))}catch(e){Ue(e)}})(),()=>{c({type:\"dialogflow\",name:\"\",projectName:\"\",jsonContent:\"\",language:\"\",urlN8N:\"\",typebotDelayMessage:1e3})}),[r,a]);const d=()=>{t(),c(i)};return o.a.createElement(\"div\",{className:l.root},o.a.createElement(tt.a,{open:a,onClose:d,fullWidth:!0,maxWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,null,\"\".concat(r?We.a.t(\"queueIntegrationModal.title.edit\"):We.a.t(\"queueIntegrationModal.title.add\"))),o.a.createElement(tn.e,{initialValues:s,enableReinitialize:!0,validationSchema:zm,onSubmit:(e,a,t)=>{setTimeout(()=>{(async e=>{try{\"n8n\"!==e.type&&\"webhook\"!==e.type&&\"typebot\"!==e.type&&\"flowbuilder\"!==e.type||(e.projectName=e.name),r?(await Ye.put(\"/queueIntegration/\".concat(r),e),w.b.success(We.a.t(\"queueIntegrationModal.messages.editSuccess\"))):(await Ye.post(\"/queueIntegration\",e),w.b.success(We.a.t(\"queueIntegrationModal.messages.addSuccess\"))),d()}catch(a){Ue(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(Cn.a,{square:!0,className:l.mainPaper,elevation:1},o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Zt.a,{container:!0,spacing:1},o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(rn.a,{variant:\"outlined\",className:l.formControl,margin:\"dense\",fullWidth:!0},o.a.createElement(on.a,{id:\"type-selection-input-label\"},We.a.t(\"queueIntegrationModal.form.type\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"queueIntegrationModal.form.type\"),name:\"type\",labelId:\"profile-selection-label\",error:a.type&&Boolean(t.type),helpertext:a.type&&t.type,id:\"type\",required:!0},o.a.createElement(F.a,{value:\"dialogflow\"},\"DialogFlow\"),o.a.createElement(F.a,{value:\"n8n\"},\"N8N\"),o.a.createElement(F.a,{value:\"webhook\"},\"WebHooks\"),o.a.createElement(F.a,{value:\"typebot\"},\"Typebot\"),o.a.createElement(F.a,{value:\"flowbuilder\"},\"Flowbuilder\")))),\"dialogflow\"===i.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.name\"),autoFocus:!0,name:\"name\",fullWidth:!0,error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:\"outlined\",margin:\"dense\",className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(rn.a,{variant:\"outlined\",className:l.formControl,margin:\"dense\",fullWidth:!0},o.a.createElement(on.a,{id:\"language-selection-input-label\"},We.a.t(\"queueIntegrationModal.form.language\")),o.a.createElement(tn.b,{as:nn.a,label:We.a.t(\"queueIntegrationModal.form.language\"),name:\"language\",labelId:\"profile-selection-label\",fullWidth:!0,error:a.language&&Boolean(t.language),helpertext:a.language&&t.language,id:\"language-selection\",required:!0},o.a.createElement(F.a,{value:\"pt-BR\"},\"Portugues\"),o.a.createElement(F.a,{value:\"en\"},\"Ingl\\xeas\"),o.a.createElement(F.a,{value:\"es\"},\"Espa\\xf1ol\")))),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.projectName\"),name:\"projectName\",error:a.projectName&&Boolean(t.projectName),helpertext:a.projectName&&t.projectName,fullWidth:!0,variant:\"outlined\",margin:\"dense\"})),o.a.createElement(Zt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.jsonContent\"),type:\"jsonContent\",multiline:!0,maxRows:5,minRows:5,fullWidth:!0,name:\"jsonContent\",error:a.jsonContent&&Boolean(t.jsonContent),helpertext:a.jsonContent&&t.jsonContent,variant:\"outlined\",margin:\"dense\"}))),(\"n8n\"===i.type||\"webhook\"===i.type)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.name\"),autoFocus:!0,required:!0,name:\"name\",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.urlN8N\"),name:\"urlN8N\",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:\"outlined\",margin:\"dense\",required:!0,fullWidth:!0,className:l.textField}))),\"typebot\"===i.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.name\"),autoFocus:!0,name:\"name\",error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:\"outlined\",margin:\"dense\",required:!0,fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.urlN8N\"),name:\"urlN8N\",error:a.urlN8N&&Boolean(t.urlN8N),helpertext:a.urlN8N&&t.urlN8N,variant:\"outlined\",margin:\"dense\",required:!0,fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotSlug\"),name:\"typebotSlug\",error:a.typebotSlug&&Boolean(t.typebotSlug),helpertext:a.typebotSlug&&t.typebotSlug,required:!0,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotExpires\"),name:\"typebotExpires\",error:a.typebotExpires&&Boolean(t.typebotExpires),helpertext:a.typebotExpires&&t.typebotExpires,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotDelayMessage\"),name:\"typebotDelayMessage\",error:a.typebotDelayMessage&&Boolean(t.typebotDelayMessage),helpertext:a.typebotDelayMessage&&t.typebotDelayMessage,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotKeywordFinish\"),name:\"typebotKeywordFinish\",error:a.typebotKeywordFinish&&Boolean(t.typebotKeywordFinish),helpertext:a.typebotKeywordFinish&&t.typebotKeywordFinish,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotKeywordRestart\"),name:\"typebotKeywordRestart\",error:a.typebotKeywordRestart&&Boolean(t.typebotKeywordRestart),helpertext:a.typebotKeywordRestart&&t.typebotKeywordRestart,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotUnknownMessage\"),name:\"typebotUnknownMessage\",error:a.typebotUnknownMessage&&Boolean(t.typebotUnknownMessage),helpertext:a.typebotUnknownMessage&&t.typebotUnknownMessage,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotRestartMessage\"),name:\"typebotRestartMessage\",error:a.typebotRestartMessage&&Boolean(t.typebotRestartMessage),helpertext:a.typebotRestartMessage&&t.typebotRestartMessage,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:l.textField}))),\"flowbuilder\"===i.type&&o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.name\"),autoFocus:!0,name:\"name\",fullWidth:!0,error:a.name&&Boolean(t.name),helpertext:a.name&&t.name,variant:\"outlined\",margin:\"dense\",className:l.textField}))))),o.a.createElement(nt.a,null,\"dialogflow\"===i.type&&o.a.createElement(ca.a,{onClick:e=>(async(e,a)=>{try{const{projectName:e,jsonContent:t,language:n}=a;await Ye.post(\"/queueIntegration/testSession\",{projectName:e,jsonContent:t,language:n}),w.b.success(We.a.t(\"queueIntegrationModal.messages.testSuccess\"))}catch(t){Ue(t)}})(0,i),color:\"inherit\",disabled:n,name:\"testSession\",variant:\"outlined\",className:l.btnLeft},We.a.t(\"queueIntegrationModal.buttons.test\")),o.a.createElement(ca.a,{onClick:d,color:\"secondary\",disabled:n,variant:\"outlined\"},We.a.t(\"queueIntegrationModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:n,variant:\"contained\",className:l.btnWrapper},\"\".concat(r?We.a.t(\"queueIntegrationModal.buttons.okEdit\"):We.a.t(\"queueIntegrationModal.buttons.okAdd\")),n&&o.a.createElement(Ba.a,{size:24,className:l.buttonProgress}))))})))};const Um=(e,a)=>{if(\"LOAD_INTEGRATIONS\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_INTEGRATIONS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_INTEGRATION\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},Vm=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),margin:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles},avatar:{width:\"140px\",height:\"40px\",borderRadius:4}}));var Qm=()=>{const e=Vm(),[a,t]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[f,h]=Object(n.useState)(\"\"),[A,y]=Object(n.useReducer)(Um,[]),{user:x}=Object(n.useContext)(ea),{getPlanCompany:C}=va(),S=x.companyId,O=Object(Tm.useHistory)(),k=Object(n.useContext)(v);Object(n.useEffect)(()=>{!async function(){(await C(void 0,S)).plan.useIntegrations||(w.b.error(\"Esta empresa n\\xe3o possui permiss\\xe3o para acessar essa p\\xe1gina! Estamos lhe redirecionando.\"),setTimeout(()=>{O.push(\"/\")},1e3))}()},[]),Object(n.useEffect)(()=>{y({type:\"RESET\"}),l(1)},[f]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/queueIntegration/\",{params:{searchParam:f,pageNumber:r}});y({type:\"LOAD_INTEGRATIONS\",payload:e.queueIntegrations}),s(e.hasMore),t(!1)}catch(e){Ue(e)}})()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{const e=localStorage.getItem(\"companyId\"),a=k.getSocket(e);return a.on(\"company-\".concat(e,\"-queueIntegration\"),e=>{\"update\"!==e.action&&\"create\"!==e.action||y({type:\"UPDATE_INTEGRATIONS\",payload:e.queueIntegration}),\"delete\"===e.action&&y({type:\"DELETE_INTEGRATION\",payload:+e.integrationId})}),()=>{a.disconnect()}},[k]);return o.a.createElement(ii,null,o.a.createElement(bt,{title:m&&\"\".concat(We.a.t(\"queueIntegration.confirmationModal.deleteTitle\"),\" \").concat(m.name,\"?\"),open:b,onClose:E,onConfirm:()=>(async e=>{try{await Ye.delete(\"/queueIntegration/\".concat(e)),w.b.success(We.a.t(\"queueIntegration.toasts.deleted\"))}catch(a){Ue(a)}u(null),h(\"\"),l(1)})(m.id)},We.a.t(\"queueIntegration.confirmationModal.deleteMessage\")),o.a.createElement(Hm,{open:p,onClose:()=>{d(null),g(!1)},\"aria-labelledby\":\"form-dialog-title\",integrationId:c&&c.id}),o.a.createElement(ci,null,o.a.createElement(ui,null,We.a.t(\"queueIntegration.title\"),\" (\",A.length,\")\"),o.a.createElement(mi,null,o.a.createElement(sa.a,{placeholder:We.a.t(\"queueIntegration.searchPlaceholder\"),type:\"search\",value:f,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{color:\"secondary\"}))}}),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{d(null),g(!0)}},We.a.t(\"queueIntegration.buttons.add\")))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!i||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&l(e=>e+1)}},o.a.createElement(no.a,{size:\"small\"},o.a.createElement(io.a,null,o.a.createElement(so.a,null,o.a.createElement(ro.a,{padding:\"checkbox\"}),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queueIntegration.table.id\")),o.a.createElement(ro.a,{align:\"center\"},We.a.t(\"queueIntegration.table.name\")))),o.a.createElement(oo.a,null,o.a.createElement(o.a.Fragment,null,A.map(a=>o.a.createElement(so.a,{key:a.id},o.a.createElement(ro.a,null,\"dialogflow\"===a.type&&o.a.createElement(Fa.a,{src:Dm.a,className:e.avatar}),\"n8n\"===a.type&&o.a.createElement(Fa.a,{src:Pm.a,className:e.avatar}),\"webhook\"===a.type&&o.a.createElement(Fa.a,{src:Lm.a,className:e.avatar}),\"typebot\"===a.type&&o.a.createElement(Fa.a,{src:Wm.a,className:e.avatar})),o.a.createElement(ro.a,{align:\"center\"},a.id),o.a.createElement(ro.a,{align:\"center\"},a.name),o.a.createElement(ro.a,{align:\"center\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>(e=>{d(e),g(!0)})(a)},o.a.createElement(oi.a,{color:\"secondary\"})),o.a.createElement(N.a,{size:\"small\",onClick:e=>{E(!0),u(a)}},o.a.createElement(ri.a,{color:\"secondary\"}))))),a&&o.a.createElement(gi,{columns:7}))))))},Km=t(656),Gm=t.n(Km);const Ym=Object(T.a)(e=>({root:{width:\"100vw\",height:\"100vh\",background:\"black\",backgroundRepeat:\"no-repeat\",backgroundSize:\"100% 100%\",backgroundPosition:\"center\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",textAlign:\"center\"},paper:{backgroundColor:\"white\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"55px 30px\",borderRadius:\"12.5px\"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:\"100%\",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},powered:{color:\"white\"}})),Xm=/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;var _m=()=>{const e=Ym(),a=Object(C.useHistory)();let t=null;const[r,l]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(\"\"),E=()=>{m(!d)},f=()=>{p(!u)},h=Hl.a.parse(window.location.search);void 0!==h.companyId&&(t=h.companyId);const[A]=Object(n.useState)({email:\"\"}),y=(k()().add(3,\"day\").format(),s),v=an.b().shape({email:an.d().email(We.a.t(\"resetPassword.formErrors.email.invalid\")).required(We.a.t(\"resetPassword.formErrors.email.required\")),newPassword:y?an.d().required(We.a.t(\"resetPassword.formErrors.newPassword.required\")).matches(Xm,We.a.t(\"resetPassword.formErrors.newPassword.matches\")):an.d(),confirmPassword:an.d().when(\"newPassword\",{is:e=>y&&e,then:an.d().oneOf([an.c(\"newPassword\"),null],We.a.t(\"resetPassword.formErrors.confirmPassword.matches\")).required(We.a.t(\"resetPassword.formErrors.confirmPassword.required\")),otherwise:an.d()})});return o.a.createElement(\"div\",{className:e.root},o.a.createElement(Un.a,{component:\"main\",maxWidth:\"xs\"},o.a.createElement(i.a,null),o.a.createElement(\"div\",{className:e.paper},o.a.createElement(\"div\",null,o.a.createElement(\"img\",{style:{margin:\"0 auto\",height:\"80px\",width:\"100%\"},src:jn.a,alt:\"Whats\"})),o.a.createElement(q.a,{component:\"h1\",variant:\"h5\"},We.a.t(\"resetPassword.title\")),o.a.createElement(tn.e,{initialValues:{email:\"\",token:\"\",newPassword:\"\",confirmPassword:\"\"},enableReinitialize:!0,validationSchema:v,onSubmit:(e,t)=>{setTimeout(()=>{s?(async e=>{const t=e.email,n=e.token,o=e.newPassword;if(o===e.confirmPassword)try{await Ye.post(\"\".concat(\"https://api.whatspark.com.br\",\"/resetpasswords/\").concat(t,\"/\").concat(n,\"/\").concat(o)),b(\"\"),w.b.success(We.a.t(\"resetPassword.toasts.passwordUpdated\")),a.push(\"/login\")}catch(r){console.log(r)}})(e):(async e=>{const a=e.email;try{const e=await Ye.post(\"\".concat(\"https://api.whatspark.com.br\",\"/forgetpassword/\").concat(a));console.log(\"API Response:\",e.data),404===e.data.status?w.b.error(We.a.t(\"resetPassword.toasts.emailNotFound\")):w.b.success(We.a.t(\"resetPassword.toasts.emailSent\"))}catch(t){console.log(\"API Error:\",t),Ue(t)}})(e),t.setSubmitting(!1),l(!r),c(!r)},400)}},a=>{let{touched:t,errors:n,isSubmitting:l}=a;return o.a.createElement(tn.d,{className:e.form},o.a.createElement(Zt.a,{container:!0,spacing:2},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,variant:\"outlined\",fullWidth:!0,id:\"email\",label:We.a.t(\"resetPassword.form.email\"),name:\"email\",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:\"email\",required:!0})),r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,variant:\"outlined\",fullWidth:!0,id:\"token\",label:We.a.t(\"resetPassword.form.verificationCode\"),name:\"token\",error:t.token&&Boolean(n.token),helperText:t.token&&n.token,autoComplete:\"off\",required:!0})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,variant:\"outlined\",fullWidth:!0,type:d?\"text\":\"password\",id:\"newPassword\",label:We.a.t(\"resetPassword.form.newPassword\"),name:\"newPassword\",error:t.newPassword&&Boolean(n.newPassword),helperText:t.newPassword&&n.newPassword,autoComplete:\"off\",required:!0,InputProps:{endAdornment:o.a.createElement(Kl.a,{position:\"end\"},o.a.createElement(N.a,{onClick:E},d?o.a.createElement(at.a,null):o.a.createElement(Gm.a,null)))}})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:sa.a,variant:\"outlined\",fullWidth:!0,type:u?\"text\":\"password\",id:\"confirmPassword\",label:We.a.t(\"resetPassword.form.confirmPassword\"),name:\"confirmPassword\",error:t.confirmPassword&&Boolean(n.confirmPassword),helperText:t.confirmPassword&&n.confirmPassword,autoComplete:\"off\",required:!0,InputProps:{endAdornment:o.a.createElement(Kl.a,{position:\"end\"},o.a.createElement(N.a,{onClick:f},u?o.a.createElement(at.a,null):o.a.createElement(Gm.a,null)))}})))),s?o.a.createElement(ca.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:e.submit},We.a.t(\"resetPassword.buttons.submitPassword\")):o.a.createElement(ca.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:e.submit},We.a.t(\"resetPassword.buttons.submitEmail\")),o.a.createElement(Zt.a,{container:!0,justifyContent:\"flex-end\"},o.a.createElement(Zt.a,{item:!0},o.a.createElement(hr.a,{href:\"#\",variant:\"body2\",component:x.b,to:\"/signup\"},We.a.t(\"resetPassword.buttons.back\")))),g&&o.a.createElement(q.a,{variant:\"body2\",color:\"error\"},g))})),o.a.createElement(Wa.a,{mt:5})))},Zm=t(1574),Jm=t(1575),$m=t(1618),eu=t(1635),au=t(1597),tu=t(1616),nu=t(1598);const ou=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var ru=e=>{let{open:a,onClose:t,FlowCampaignId:r,onSave:l}=e;const i=ou(),{user:s}=(Object(n.useRef)(!0),Object(n.useContext)(ea)),{companyId:c}=s,[d,m]=Object(n.useState)(!0),u=Object(n.useRef)(null),[p,g]=Object(n.useState)({name:\"\",phrase:\"\"}),[b,E]=Object(n.useState)({name:!1,flowId:!1,phrase:!1}),[f,h]=Object(n.useState)(),[A,y]=Object(n.useState)([]),[v,x]=Object(n.useState)([]),[C,S]=Object(n.useState)(\"\"),[O,k]=Object(n.useState)([]),[T,j]=Object(n.useState)(!0),[I,N]=Object(n.useState)(!0),M=async()=>{const e=await(async()=>{const e=await Ye.get(\"/flowbuilder\");return x(e.data.flows),y(e.data.flows.map(e=>e.name)),e.data.flows})();r?await(async e=>{N(!0),await Ye.get(\"/flowcampaign/\".concat(r)).then(a=>{console.log(\"dete\",a.data),g({name:a.data.details.name,phrase:a.data.details.phrase}),j(a.data.details.status);const t=e.filter(e=>e.id===a.data.details.flowId);t.length>0&&h(t[0].name),S(a.data.details.whatsappId),N(!1)})})(e):(P(),N(!1))};Object(n.useEffect)(()=>{N(!0);const e=setTimeout(()=>{(async()=>{Ye.get(\"/whatsapp\",{params:{companyId:c,session:0}}).then(e=>{let{data:a}=e;k(a)})})(),N(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{N(!0),!0===a&&M()},[a]);const P=()=>{h(),g({name:\"\",phrase:\"\"})},R=()=>{let e=0;if(\"\"!==p.name&&0!==p.name.length||(E(e=>({...e,name:!0})),e++),f||(E(e=>({...e,flowId:!0})),e++),\"\"!==p.phrase&&0!==p.phrase.length||(E(e=>({...e,phrase:!0})),e++),C||E(e=>({...e,whatsappId:!0})),0!==e)return;const a=v.filter(e=>e.name===f)[0].id,n=\"\"!==C?C:null;r?(Ye.put(\"/flowcampaign\",{id:r,name:p.name,flowId:a,whatsappId:n,phrase:p.phrase,status:T}),t(),l(\"ok\"),w.b.success(\"Frase alterada com sucesso!\"),P()):(Ye.post(\"/flowcampaign\",{name:p.name,flowId:a,whatsappId:n,phrase:p.phrase}),t(),l(\"ok\"),w.b.success(\"Frase criada com sucesso!\"),P())};return o.a.createElement(\"div\",{className:i.root},o.a.createElement(tt.a,{open:a,onClose:()=>{t()},fullWidth:!0,maxWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},d?o.a.createElement(o.a.Fragment,null,r?\"Editar campanha com fluxo por frase\":\"Nova campanha com fluxo por frase\"):o.a.createElement(o.a.Fragment,null,\"\".concat(We.a.t(\"campaigns.dialog.readonly\")))),o.a.createElement(\"div\",{style:{display:\"none\"}},o.a.createElement(\"input\",{type:\"file\",ref:u})),!I&&o.a.createElement(Oo.a,{sx:{padding:\"52px\"}},o.a.createElement(Oo.a,{sx:{gap:\"14px\"}},o.a.createElement(Oo.a,{gap:1},o.a.createElement(q.a,null,\"Nome do disparo por frase\"),o.a.createElement(sa.a,{label:\"\",name:\"text\",variant:\"outlined\",error:b.name,defaultValue:p.name,margin:\"dense\",onChange:e=>{g(a=>{let t=a;return t.name=e.target.value,t})},className:i.textField,style:{width:\"100%\"}})),o.a.createElement(Oo.a,{gap:1},o.a.createElement(q.a,null,\"Escolha um fluxo\"),o.a.createElement(au.a,{disablePortal:!0,id:\"combo-box-demo\",value:f,error:b.flowId,defaultValue:f,options:A,onChange:(e,a)=>{h(a)},sx:{width:\"100%\"},renderInput:e=>o.a.createElement(sa.a,Object.assign({},e,{error:b.flowId,variant:\"outlined\",style:{width:\"100%\"},placeholder:\"Escolha um fluxo\"})),renderTags:(e,a)=>e.map((e,t)=>o.a.createElement(tu.a,Object.assign({variant:\"outlined\",label:e},a({index:t}),{style:{borderRadius:\"8px\"}})))})),o.a.createElement(Oo.a,{gap:1},o.a.createElement(nn.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:\"outlined\",value:C,onChange:e=>{S(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:()=>{if(\"\"===C||null===C)return\"Selecione uma Conex\\xe3o\";return O.find(e=>e.id===C).name}},(null===O||void 0===O?void 0:O.length)>0&&O.map((e,a)=>o.a.createElement(F.a,{dense:!0,key:a,value:e.id},o.a.createElement(X.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{component:\"span\",style:{fontSize:14,marginLeft:\"10px\",display:\"inline-flex\",alignItems:\"center\",lineHeight:\"2\"}},e.name,\" \\xa0\",\" \",o.a.createElement(\"p\",{className:\"CONNECTED\"===e.status?i.online:i.offline},\"(\",e.status,\")\")))}))))),o.a.createElement(Oo.a,{gap:1},o.a.createElement(q.a,null,\"Qual frase dispara o fluxo?\"),o.a.createElement(sa.a,{label:\"\",name:\"text\",variant:\"outlined\",error:b.phrase,defaultValue:p.phrase,margin:\"dense\",onChange:e=>{g(a=>{let t=a;return t.phrase=e.target.value,t})},className:i.textField,style:{width:\"100%\"}})),o.a.createElement(Oo.a,{direction:\"row\",gap:2},o.a.createElement(Oo.a,{justifyContent:\"center\"},o.a.createElement(q.a,null,\"Status\")),o.a.createElement(nu.a,{checked:T,onChange:()=>j(e=>!e)}))),o.a.createElement(Oo.a,{direction:\"row\",spacing:2,alignSelf:\"end\",marginTop:\"16px\"},o.a.createElement(ca.a,{variant:\"outlined\",onClick:()=>{t(),E({name:!1,flowId:!1,whatsappId:!1,phrase:!1})}},\"Cancelar\"),r?o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>R()},\"Salvar campanha\"):o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>R()},\"Criar campanha\"))),I&&o.a.createElement(Oo.a,{justifyContent:\"center\",alignItems:\"center\",minHeight:\"10vh\",sx:{padding:\"52px\"}},o.a.createElement(Ba.a,null))))};const lu=Object(T.a)(e=>({mainPaper:{flex:1,borderRadius:12,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var iu=()=>{const e=lu(),{user:a}=(Object(C.useHistory)(),Object(n.useContext)(ea)),[t,r]=Object(n.useState)(!0),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(\"\"),[y,v]=Object(n.useState)(!1),[x,S]=Object(n.useState)(null),[O,k]=Object(n.useState)([]),[T,j]=Object(n.useState)(!1),[I,M]=Object(n.useState)(),P=async()=>{r(!0),await Ye.get(\"/flowcampaign\").then(e=>{k(e.data.flow)}).finally(()=>{r(!1)})};return Object(n.useEffect)(()=>{P()},[]),o.a.createElement(ii,null,o.a.createElement(bt,{title:u&&\"\".concat(We.a.t(\"campaigns.confirmationModal.deleteTitle\"),\" \").concat(u.name,\"?\"),open:E,onClose:f,onConfirm:()=>(async e=>{try{await Ye.delete(\"/flowcampaign/\".concat(e)),w.b.success(\"Frase deletada\"),P()}catch(a){Ue(a)}})(x.id)},We.a.t(\"campaigns.confirmationModal.deleteMessage\")),o.a.createElement(ru,{open:T,onClose:()=>j(!1),FlowCampaignId:I,onSave:()=>{P()}}),o.a.createElement(ci,null,o.a.createElement($m.a,{style:{width:\"99.6%\"},container:!0},o.a.createElement($m.a,{xs:12,sm:8,item:!0},o.a.createElement(ui,null,\"Campanhas\")),o.a.createElement($m.a,{xs:12,sm:4,item:!0},o.a.createElement($m.a,{spacing:2,container:!0},o.a.createElement($m.a,{xs:6,sm:6,item:!0}),o.a.createElement($m.a,{xs:6,sm:6,item:!0},o.a.createElement(ca.a,{fullWidth:!0,variant:\"contained\",onClick:()=>{M(),j(!0)},color:\"primary\",style:{textTransform:\"none\"}},o.a.createElement(Oo.a,{direction:\"row\",gap:1},o.a.createElement(Zm.a,null),\"Campanha\"))))))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!s||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget}},o.a.createElement(Oo.a,null,o.a.createElement($m.a,{container:!0,style:{padding:\"8px\"}},o.a.createElement($m.a,{item:!0,xs:4},\"Nome\"),o.a.createElement($m.a,{item:!0,xs:4,align:\"center\"},\"Status\"),o.a.createElement($m.a,{item:!0,xs:4,align:\"end\"},We.a.t(\"contacts.table.actions\"))),o.a.createElement(o.a.Fragment,null,!t&&O.map(e=>o.a.createElement($m.a,{container:!0,key:e.id,sx:{padding:\"8px\",borderRadius:4,marginTop:.5}},o.a.createElement($m.a,{item:!0,xs:4},o.a.createElement(Oo.a,{justifyContent:\"center\",height:\"100%\",style:{color:\"#252525\"}},o.a.createElement(Oo.a,{direction:\"row\"},o.a.createElement(Jm.a,null),o.a.createElement(Oo.a,{justifyContent:\"center\",marginLeft:1},e.name)))),o.a.createElement($m.a,{item:!0,xs:4,align:\"center\",style:{color:\"#252525\"}},o.a.createElement(Oo.a,{justifyContent:\"center\",height:\"100%\"},e.status?\"Ativo\":\"Desativado\")),o.a.createElement($m.a,{item:!0,xs:4,align:\"end\"},o.a.createElement(N.a,{size:\"small\",onClick:()=>{M(e.id),j(!0)}},o.a.createElement(ga.a,{style:{color:\"#252525\"}})),o.a.createElement(na,{role:a.profile,perform:\"contacts-page:deleteContact\",yes:()=>o.a.createElement(N.a,{size:\"small\",onClick:a=>{f(!0),S(e)}},o.a.createElement(Xo.a,{style:{color:\"#252525\"}}))})))),t&&o.a.createElement(Oo.a,{justifyContent:\"center\",alignItems:\"center\",minHeight:\"50vh\"},o.a.createElement(eu.a,null))))))},su=t(1576),cu=t(1577),du=t(908),mu=t(1605);const uu=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}})),pu=an.b().shape({name:an.d().min(2,\"Muito curto!\").max(50,\"Muito longo!\").required(\"Digite um nome!\")});var gu=e=>{let{open:a,onClose:t,flowId:r,nameWebhook:l=\"\",initialValues:i,onSave:s}=e;const c=uu(),d=Object(n.useRef)(!0),[m,u]=Object(n.useState)({name:l});Object(n.useEffect)(()=>()=>{d.current=!1},[]);const p=()=>{t(),u({name:\"\"})};return o.a.createElement(\"div\",{className:c.root},o.a.createElement(tt.a,{open:a,onClose:p,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},r?\"Editar Fluxo\":\"Adicionar Fluxo\"),o.a.createElement(tn.e,{initialValues:m,enableReinitialize:!0,validationSchema:pu,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{if(r)try{await Ye.put(\"/flowbuilder\",{name:e.name,flowId:r}),s(e.name),p(),w.b.success(We.a.t(\"webhookModal.toasts.update\"))}catch(a){Ue(a)}else try{await Ye.post(\"/flowbuilder\",{name:e.name}),s(e.name),p(),w.b.success(We.a.t(\"webhookModal.saveSuccess\"))}catch(a){Ue(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{errors:a,isSubmitting:t}=e;return o.a.createElement(tn.d,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"contactModal.form.name\"),name:\"name\",autoFocus:!0,defaultValue:m.name,error:Boolean(a.name),helperText:a.name,variant:\"outlined\",margin:\"dense\",className:c.textField,style:{width:\"95%\"}})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:p,color:\"secondary\",disabled:t,variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:t,variant:\"contained\",className:c.btnWrapper},\"\".concat(r?We.a.t(\"contactModal.buttons.okEdit\"):We.a.t(\"contactModal.buttons.okAdd\")),t&&o.a.createElement(Ba.a,{size:24,className:c.buttonProgress}))))})))};const bu=(e,a)=>{if(\"LOAD_CONTACTS\"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if(\"UPDATE_CONTACTS\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if(\"DELETE_CONTACT\"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if(\"RESET\"===a.type)return[]},Eu=Object(T.a)(e=>({mainPaper:{flex:1,borderRadius:12,padding:e.spacing(1),overflowY:\"scroll\",...e.scrollbarStyles}}));var fu=()=>{const e=Eu(),a=Object(C.useHistory)(),[t,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(\"\"),[d,m]=Object(n.useReducer)(bu,[]),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(null),[h,A]=Object(n.useState)(!1),[y,v]=Object(n.useState)(!1),[x,S]=Object(n.useState)({}),[O,k]=Object(n.useState)(null),[T,j]=Object(n.useState)(!1),[I,N]=Object(n.useState)(!1),[M,P]=Object(n.useState)(!1),[R,D]=Object(n.useState)(!1),{user:q,socket:L}=Object(n.useContext)(ea);Object(n.useEffect)(()=>{m({type:\"RESET\"}),i(1)},[s]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/flowbuilder\");p(e.flows),m({type:\"LOAD_CONTACTS\",payload:e.flows}),P(e.hasMore)}catch(e){Ue(e)}finally{r(!1)}})()},500);return()=>clearTimeout(e)},[s,l,R]);const[F,W]=Object(n.useState)(null),B=Boolean(F),z=()=>{W(null)};return o.a.createElement(ii,{className:e.mainContainer},o.a.createElement(nr,{modalOpen:y,initialContact:x,onClose:e=>{(e=>{v(!1),void 0!==e&&void 0!==e.uuid&&a.push(\"/tickets/\".concat(e.uuid))})(e)}}),o.a.createElement(gu,{open:h,onClose:()=>{b(null),A(!1)},\"aria-labelledby\":\"form-dialog-title\",flowId:g,nameWebhook:E,onSave:()=>D(e=>!e)}),o.a.createElement(bt,{title:O?\"\".concat(We.a.t(\"contacts.confirmationModal.deleteTitle\"),\" \").concat(O.name,\"?\"):\"\".concat(We.a.t(\"contacts.confirmationModal.importTitlte\")),open:T,onClose:j,onConfirm:e=>O?(async e=>{try{await Ye.delete(\"/flowbuilder/\".concat(e)).then(e=>{k(null),D(e=>!e)}),w.b.success(\"Fluxo exclu\\xeddo com sucesso\")}catch(a){Ue(a)}})(O.id):()=>{}},O?\"Tem certeza que deseja deletar este fluxo? Todas as integra\\xe7\\xf5es relacionados ser\\xe3o perdidos.\":\"\".concat(We.a.t(\"contacts.confirmationModal.importMessage\"))),o.a.createElement(bt,{title:O?\"Deseja duplicar o fluxo \".concat(O.name,\"?\"):\"\".concat(We.a.t(\"contacts.confirmationModal.importTitlte\")),open:I,onClose:N,onConfirm:e=>O?(async e=>{try{await Ye.post(\"/flowbuilder/duplicate\",{flowId:e}).then(e=>{k(null),D(e=>!e)}),w.b.success(\"Fluxo duplicado com sucesso\")}catch(a){Ue(a)}})(O.id):()=>{}},O?\"Tem certeza que deseja duplicar este fluxo?\":\"\".concat(We.a.t(\"contacts.confirmationModal.importMessage\"))),o.a.createElement(ci,null,o.a.createElement(ui,null,\"Fluxos de conversa\"),o.a.createElement(mi,null,o.a.createElement(sa.a,{placeholder:We.a.t(\"contacts.searchPlaceholder\"),type:\"search\",value:s,onChange:e=>{c(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Kl.a,{position:\"start\"},o.a.createElement(Lo.a,{style:{color:\"gray\"}}))}}),o.a.createElement(To.a,{variant:\"contained\",onClick:()=>{b(null),A(!0)},color:\"primary\"},o.a.createElement(Oo.a,{direction:\"row\",gap:1},o.a.createElement(Zm.a,null),\"Adicionar Fluxo\")))),o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!M||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&i(e=>e+1)}},o.a.createElement(Oo.a,null,o.a.createElement($m.a,{container:!0,style:{padding:\"8px\"}},o.a.createElement($m.a,{item:!0,xs:4},We.a.t(\"contacts.table.name\")),o.a.createElement($m.a,{item:!0,xs:4,align:\"center\"},\"Status\"),o.a.createElement($m.a,{item:!0,xs:4,align:\"end\"},We.a.t(\"contacts.table.actions\"))),o.a.createElement(o.a.Fragment,null,u.map(e=>o.a.createElement($m.a,{container:!0,key:e.id,sx:{padding:\"8px\",borderRadius:2,marginTop:.5}},o.a.createElement($m.a,{item:!0,xs:4,onClick:()=>a.push(\"/flowbuilder/\".concat(e.id))},o.a.createElement(Oo.a,{justifyContent:\"center\",height:\"100%\",style:{color:\"#252525\"}},o.a.createElement(Oo.a,{direction:\"row\"},o.a.createElement(su.a,null),o.a.createElement(Oo.a,{justifyContent:\"center\",marginLeft:1},e.name)))),o.a.createElement($m.a,{item:!0,xs:4,align:\"center\",style:{color:\"#252525\"},onClick:()=>a.push(\"/flowbuilder/\".concat(e.id))},o.a.createElement(Oo.a,{justifyContent:\"center\",height:\"100%\"},e.active?\"Ativo\":\"Desativado\")),o.a.createElement($m.a,{item:!0,xs:4,align:\"end\"},o.a.createElement(To.a,{id:\"basic-button\",\"aria-controls\":B?\"basic-menu\":void 0,\"aria-haspopup\":\"true\",\"aria-expanded\":B?\"true\":void 0,onClick:a=>{W(a.currentTarget),k(e)},sx:{borderRadius:\"36px\",minWidth:\"24px\"}},o.a.createElement(cu.a,{sx:{color:\"#252525\",width:\"21px\",height:\"21px\"}}))))),o.a.createElement(du.a,{id:\"basic-menu\",anchorEl:F,open:B,sx:{borderRadius:\"40px\"},onClose:z,MenuListProps:{\"aria-labelledby\":\"basic-button\"}},o.a.createElement(mu.a,{onClick:()=>{z(),b(O.id),f(O.name),A(!0)}},\"Editar nome\"),o.a.createElement(mu.a,{onClick:()=>{z(),a.push(\"/flowbuilder/\".concat(O.id))}},\"Editar fluxo\"),o.a.createElement(mu.a,{onClick:()=>{z(),N(!0)}},\"Duplicar\"),o.a.createElement(mu.a,{onClick:()=>{z(),j(!0)}},\"Excluir\")),t&&o.a.createElement(Oo.a,{justifyContent:\"center\",alignItems:\"center\",minHeight:\"50vh\"},o.a.createElement(eu.a,null))))))},hu=t(536),Au=t(532),yu=t.n(Au),vu=t(1579),xu=t(1580),Cu=t(1581),wu=t(48),Su=t(278);const Ou=t.n(Su)()(e=>({node:\"\",connect:\"\",action:\"idle\",setNodesStorage:a=>e(e=>({...e,node:a})),setConnectsStorage:a=>e(e=>({...e,connect:a})),setAct:a=>e(e=>({...e,action:a}))}));var ku=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#555\",padding:\"8px\",borderRadius:\"8px\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t}),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Cu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\"}}),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\"}},\"Audio\")),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"12px\"}},o.a.createElement(\"div\",{style:{position:\"absolute\",right:\"50px\",top:\"12px\"}},a.record&&a.record?o.a.createElement(\"div\",null,\"Gravado na hora\"):o.a.createElement(\"div\",null,\"Audio enviado\")),o.a.createElement(\"audio\",{controls:\"controls\"},o.a.createElement(\"source\",{src:\"\".concat(\"https://api.whatspark.com.br\",\"/public/\").concat(a.url),type:\"audio/mp3\"}),\"seu navegador n\\xe3o suporta HTML5\")),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\"},isConnectable:t}))}),Tu=t(1582),ju=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return console.log(12,\"ticketNode\",a),o.a.createElement(\"div\",{style:{backgroundColor:\"#ffffff\",padding:\"8px\",borderRadius:\"8px\",boxShadow:\"rgba(0, 0, 0, 0.05) 0px 3px 5px\",border:\"1px solid rgba(33, 94, 151, 0.25)\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0872b9\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Wa.a,{component:\"img\",sx:{width:16,height:16,marginRight:4,marginTop:4,color:\"#3aba38\"},src:yu.a,alt:\"icon\"}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"TypeBot\")),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"12px\",width:180}},o.a.createElement(\"div\",{style:{backgroundColor:\"#F6EEEE\",marginBottom:\"3px\",borderRadius:\"5px\"}},o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{textAlign:\"center\"}},\"TypeBot\")))),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0872b9\",width:\"18px\",height:\"18px\",top:\"70%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),Iu=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return console.log(12,\"ticketNode\",a),o.a.createElement(\"div\",{style:{backgroundColor:\"#ffffff\",padding:\"8px\",borderRadius:\"8px\",boxShadow:\"rgba(0, 0, 0, 0.05) 0px 3px 5px\",border:\"1px solid rgba(33, 94, 151, 0.25)\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0872b9\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(hu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#3aba38\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"OpenAI\")),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"12px\",width:180}},o.a.createElement(\"div\",{style:{backgroundColor:\"#F6EEEE\",marginBottom:\"3px\",borderRadius:\"5px\"}},o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{textAlign:\"center\"}},\"OpenAI\")))),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0872b9\",width:\"18px\",height:\"18px\",top:\"70%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),Nu=t(1583),Mu=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#555\",padding:\"8px\",borderRadius:\"8px\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"3.5px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Nu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\"}}),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\"}},\"Mensagem\")),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"12px\",width:180}},a.label),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"70%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),Pu=t(1584),Ru=Object(n.memo)(e=>{let{data:a,isConnectable:t}=e;return o.a.createElement(\"div\",{style:{backgroundColor:\"#F9FDF9\",padding:\"8px\",borderRadius:\"8px\",boxShadow:\"rgba(0, 0, 0, 0.05) 0px 3px 5px\",border:\"1px solid rgba(58, 186, 56, 0.25)\"}},o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Pu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#3aba38\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"Inicio do fluxo\")),o.a.createElement(\"div\",{style:{color:\"#727272\",fontSize:\"12px\"}},\"Este bloco marca o inicio do seu fluxo!\"),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"70%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),Du=t(1585),qu=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#FAFBFF\",padding:\"8px\",borderRadius:\"8px\",maxWidth:\"155px\",boxShadow:\"0px 3px 5px rgba(0,0,0,.05)\",border:\"1px solid rgba(104, 58, 200, 0.25)\",width:180}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"3.5px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#683AC8\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#683AC8\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Du.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#683AC8\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"Menu\")),o.a.createElement(\"div\",null,o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"12px\",height:\"50px\",overflow:\"hidden\",marginBottom:\"8px\"}},a.message)),a.arrayOption.map(e=>o.a.createElement(\"div\",{style:{marginBottom:\"9px\",justifyContent:\"end\",display:\"flex\"}},o.a.createElement(\"div\",{style:{whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\",fontSize:\"10px\",position:\"relative\",display:\"flex\",color:\"#232323\",justifyContent:\"center\",flexDirection:\"column\",alignSelf:\"end\"}},\"[\".concat(e.number,\"] \").concat(e.value)),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\"+e.number,style:{top:74+23*e.number,background:\"#0000FF\",width:\"18px\",height:\"18px\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))))}),Lu=t(1586),Fu=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#FFFBFA\",padding:\"8px\",borderRadius:\"8px\",minWidth:\"155px\",border:\"1px solid rgba(240, 135, 90, 0.25)\",boxShadow:\"rgba(0, 0, 0, 0.05) 0px 3px 5px\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"3.5px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Lu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#F7953B\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"Intervalo\")),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"12px\"}},a.sec,\" segundos\"),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"70%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),Wu=t(1587),Bu=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#555\",padding:\"8px\",borderRadius:\"8px\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t}),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Wu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\"}}),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\"}},\"Imagem\")),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"12px\",width:180}},o.a.createElement(\"img\",{src:\"\".concat(\"https://api.whatspark.com.br\",\"/public/\").concat(a.url),style:{width:\"180px\"}})),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\"},isConnectable:t}))}),zu=t(1588),Hu=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#F8FCFD\",padding:\"8px\",borderRadius:\"8px\",width:\"185px\",border:\"1px solid rgba(31, 186, 220, 0.25)\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"3.5px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#1FBADC\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#1FBADC\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(zu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#1FBADC\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"Randomizador\")),o.a.createElement(\"div\",{style:{whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\",fontSize:\"16px\",justifyContent:\"end\",position:\"relative\",display:\"flex\",color:\"#232323\"}},\"\".concat(a.percent,\"%\")),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",right:\"-11px\",marginTop:\"-5px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\",fontSize:\"16px\",justifyContent:\"end\",position:\"relative\",display:\"flex\",marginTop:\"8px\",color:\"#232323\"}},\"\".concat(100-a.percent,\"%\")),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"b\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",right:\"-11px\",top:73,cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),Uu=t(1589),Vu=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#555\",padding:\"8px\",borderRadius:\"8px\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t}),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#ffff\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Uu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\"}}),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\"}},\"Video\")),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"12px\",width:180}},o.a.createElement(\"video\",{controls:\"controls\",width:\"180px\"},o.a.createElement(\"source\",{src:\"\".concat(\"https://api.whatspark.com.br\",\"/public/\").concat(a.url),type:\"video/mp4\"}),\"seu navegador n\\xe3o suporta HTML5\")),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\"},isConnectable:t}))}),Qu=t(1629),Ku=t(395),Gu=t.n(Ku),Yu=Object(n.memo)(e=>{var a;let{data:t,isConnectable:n,id:r}=e;const l=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#FEFAFA\",padding:\"8px\",borderRadius:\"8px\",border:\"1px solid rgba(236, 88, 88, 0.25)\",boxShadow:\"rgba(0, 0, 0, 0.05) 0px 3px 5px\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:n},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"3.5px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{l.setNodesStorage(r),l.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#EC5858\"}}),o.a.createElement(xu.a,{onClick:()=>{l.setNodesStorage(r),l.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#EC5858\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Gu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#EC5858\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"Pergunta\")),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"12px\",width:180}},o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{display:\"flex\",position:\"relative\",flexDirection:\"row\",justifyContent:\"center\"}},o.a.createElement(Gu.a,{sx:{color:\"#EC5858\"}})),o.a.createElement(Qu.a,{textAlign:\"center\",sx:{textOverflow:\"ellipsis\",fontSize:\"10px\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},null===t||void 0===t||null===(a=t.typebotIntegration)||void 0===a?void 0:a.message))),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"90%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:n},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))});t(1346);var Xu=t(1590),_u=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return o.a.createElement(\"div\",{style:{backgroundColor:\"#FEFAFA\",padding:\"8px\",borderRadius:\"8px\",border:\"1px solid rgba(236, 88, 88, 0.25)\",boxShadow:\"rgba(0, 0, 0, 0.05) 0px 3px 5px\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"3.5px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#EC5858\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#EC5858\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Xu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#EC5858\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"Conte\\xfado\")),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"12px\",width:180}},a.seq.map(e=>o.a.createElement(\"div\",{style:{backgroundColor:\"#F6EEEE\",marginBottom:\"3px\",borderRadius:\"5px\"}},e.includes(\"message\")&&o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{display:\"flex\",position:\"relative\",flexDirection:\"row\",justifyContent:\"center\"}},o.a.createElement(Nu.a,{sx:{color:\"#EC5858\"}})),o.a.createElement(Qu.a,{textAlign:\"center\",sx:{textOverflow:\"ellipsis\",fontSize:\"10px\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},a.elements.filter(a=>a.number===e)[0].value)),e.includes(\"interval\")&&o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{display:\"flex\",position:\"relative\",flexDirection:\"row\",justifyContent:\"center\"}},o.a.createElement(Lu.a,{sx:{color:\"#EC5858\"}})),o.a.createElement(Qu.a,{textAlign:\"center\",sx:{textOverflow:\"ellipsis\",fontSize:\"10px\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},a.elements.filter(a=>a.number===e)[0].value,\" \",\"segundos\")),e.includes(\"img\")&&o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{display:\"flex\",position:\"relative\",flexDirection:\"row\",justifyContent:\"center\"}},o.a.createElement(Wu.a,{sx:{color:\"#EC5858\"}})),o.a.createElement(Qu.a,{textAlign:\"center\",sx:{textOverflow:\"ellipsis\",fontSize:\"10px\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},a.elements.filter(a=>a.number===e)[0].original)),e.includes(\"audio\")&&o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{display:\"flex\",position:\"relative\",flexDirection:\"row\",justifyContent:\"center\"}},o.a.createElement(Cu.a,{sx:{color:\"#EC5858\"}})),o.a.createElement(Qu.a,{textAlign:\"center\",sx:{textOverflow:\"ellipsis\",fontSize:\"10px\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},a.elements.filter(a=>a.number===e)[0].original)),e.includes(\"video\")&&o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{display:\"flex\",position:\"relative\",flexDirection:\"row\",justifyContent:\"center\"}},o.a.createElement(Uu.a,{sx:{color:\"#EC5858\"}})),o.a.createElement(Qu.a,{textAlign:\"center\",sx:{textOverflow:\"ellipsis\",fontSize:\"10px\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},a.elements.filter(a=>a.number===e)[0].original))))),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0000FF\",width:\"18px\",height:\"18px\",top:\"90%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),Zu=t(1591),Ju=Object(n.memo)(e=>{let{data:a,isConnectable:t,id:n}=e;const r=Ou();return console.log(12,\"ticketNode\",a),o.a.createElement(\"div\",{style:{backgroundColor:\"#ffffff\",padding:\"8px\",borderRadius:\"8px\",boxShadow:\"rgba(0, 0, 0, 0.05) 0px 3px 5px\",border:\"1px solid rgba(33, 94, 151, 0.25)\"}},o.a.createElement(wu.a,{type:\"target\",position:\"left\",style:{background:\"#0872b9\",width:\"18px\",height:\"18px\",top:\"20px\",left:\"-12px\",cursor:\"pointer\"},onConnect:e=>console.log(\"handle onConnect\",e),isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})),o.a.createElement(\"div\",{style:{display:\"flex\",position:\"absolute\",right:5,top:5,cursor:\"pointer\",gap:6}},o.a.createElement(vu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"duplicate\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}}),o.a.createElement(xu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct(\"delete\")},sx:{width:\"12px\",height:\"12px\",color:\"#F7953B\"}})),o.a.createElement(\"div\",{style:{color:\"#ededed\",fontSize:\"16px\",flexDirection:\"row\",display:\"flex\"}},o.a.createElement(Zu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\",marginTop:\"4px\",color:\"#3aba38\"}}),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"16px\"}},\"Ticket\")),o.a.createElement(\"div\",{style:{color:\"#232323\",fontSize:\"12px\",width:180}},o.a.createElement(\"div\",{style:{backgroundColor:\"#F6EEEE\",marginBottom:\"3px\",borderRadius:\"5px\"}},o.a.createElement(\"div\",{style:{gap:\"5px\",padding:\"6px\"}},o.a.createElement(\"div\",{style:{textAlign:\"center\"}},\"data\"===Object.keys(a)[0]?a.data.name:a.name)))),o.a.createElement(wu.a,{type:\"source\",position:\"right\",id:\"a\",style:{background:\"#0872b9\",width:\"18px\",height:\"18px\",top:\"70%\",right:\"-11px\",cursor:\"pointer\"},isConnectable:t},o.a.createElement(Tu.a,{sx:{color:\"#ffff\",width:\"10px\",height:\"10px\",marginLeft:\"2.9px\",marginBottom:\"1px\",pointerEvents:\"none\"}})))}),$u=t(1619),ep=t(1620),ap=t(1614),tp=(t(1347),t(8)),np=t(283),op=t(803),rp=t(804);const lp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));an.b().shape({name:an.d().min(2,\"Muito curto!\").max(50,\"Muito longo!\").required(\"Digite um nome!\"),text:an.d().min(2,\"Muito curto!\").max(50,\"Muito longo!\").required(\"Digite uma mensagem!\")});var ip=e=>{let{open:a,onSave:t,onUpdate:r,data:l,close:i}=e;const s=lp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)({title:\"Adicionar mensagem ao fluxo\",btn:\"Adicionar\"}),[g,b]=Object(n.useState)();Object(n.useEffect)(()=>{\"edit\"===a?(p({title:\"Editar mensagem ao fluxo\",btn:\"Salvar\"}),b(l.data.label),m(!0)):\"create\"===a?(p({title:\"Adicionar mensagem ao fluxo\",btn:\"Adicionar\"}),b(\"\"),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const E=()=>{i(null),m(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:d,onClose:E,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},u.title),o.a.createElement(Oo.a,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(sa.a,{label:\"Mensagem\",multiline:!0,rows:7,name:\"text\",variant:\"outlined\",value:g,margin:\"dense\",onChange:e=>b(e.target.value),className:s.textField,style:{width:\"95%\"}})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:E,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>(async()=>{if(\"edit\"===a)return E(),void r({...l,data:{label:g}});\"create\"===a&&(E(),t({text:g}))})()},\"\".concat(u.btn))))))};const sp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var cp=e=>{let{open:a,onSave:t,data:r,onUpdate:l,close:i}=e;const s=sp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>(\"edit\"===a?(m(r.data.sec),p(!0)):\"create\"===a&&(m(0),p(!0)),()=>{c.current=!1}),[a]);const g=()=>{i(null),p(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:u,onClose:g,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"create\"===a?\"Adicionar um intervalo ao fluxo\":\"Editar intervalo\"),o.a.createElement(Oo.a,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(sa.a,{label:\"Tempo em segundos\",name:\"timer\",type:\"number\",value:d,onChange:e=>m(e.target.value),autoFocus:!0,variant:\"outlined\",InputProps:{inputProps:{min:0}},margin:\"dense\",className:s.textField,style:{width:\"95%\"}})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:g,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?w.b.error(\"Adicione o valor de intervalo\"):parseInt(d)>120?w.b.error(\"M\\xe1ximo de tempo atingido 120 segundos\"):(\"edit\"===a?l({...r,data:{sec:d}}):\"create\"===a&&t({sec:d}),void g()))()},\"create\"===a?\"Adicionar\":\"Editar\")))))};t(1632),t(1611),t(1603);Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}})),an.b().shape({name:an.d().min(2,\"Muito curto!\").max(50,\"Muito longo!\").required(\"Digite um nome!\"),text:an.d().min(2,\"Muito curto!\").max(50,\"Muito longo!\").required(\"Digite uma mensagem!\")});const dp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));an.b().shape({name:an.d().min(2,\"Muito curto!\").max(50,\"Muito longo!\").required(\"Digite um nome!\"),text:an.d().min(2,\"Muito curto!\").max(50,\"Muito longo!\").required(\"Digite uma mensagem!\")});var mp=e=>{let{open:a,onSave:t,onUpdate:r,data:l,close:i}=e;const s=dp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(),[g,b]=Object(n.useState)(),[E,f]=Object(n.useState)([]),[h,A]=Object(n.useState)({title:\"Adicionar menu ao fluxo\",btn:\"Adicionar\"});Object(n.useEffect)(()=>{\"edit\"===a?(A({title:\"Editar menu\",btn:\"Salvar\"}),b(l.data.message),f(l.data.arrayOption),m(!0)):\"create\"===a?(A({title:\"Adicionar menu ao fluxo\",btn:\"Adicionar\"}),b(),f([]),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const y=()=>{i(null),m(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:d,onClose:y,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},h.title),o.a.createElement(Oo.a,null,o.a.createElement(Oo.a,{dividers:!0,style:{gap:\"8px\",padding:\"16px\"}},o.a.createElement(sa.a,{label:\"Mensagem de explica\\xe7\\xe3o do menu\",rows:4,name:\"text\",multiline:!0,variant:\"outlined\",value:g,onChange:e=>b(e.target.value),className:s.textField,style:{width:\"100%\"}}),o.a.createElement(Oo.a,{direction:\"row\",justifyContent:\"space-between\"},o.a.createElement(q.a,null,\"Adicionar Op\\xe7\\xe3o\"),o.a.createElement(ca.a,{onClick:()=>f(e=>[...e,{number:e.length+1,value:\"\"}]),color:\"primary\",variant:\"contained\"},o.a.createElement(Zm.a,null))),E.map((e,a)=>o.a.createElement(Oo.a,{width:\"100%\",key:e.number},o.a.createElement(q.a,null,\"Digite \",e.number),o.a.createElement(Oo.a,{direction:\"row\",width:\"100%\",style:{gap:\"8px\"}},o.a.createElement(sa.a,{placeholder:\"Digite op\\xe7\\xe3o\",variant:\"outlined\",defaultValue:e.value,style:{width:\"100%\"},onChange:e=>f(t=>{let n=t;return n[a].value=e.target.value,n})}),E.length===e.number&&o.a.createElement(N.a,{onClick:()=>{return a=e.number,void f(e=>e.filter(e=>e.number!==a));var a}},o.a.createElement(xu.a,null)))))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:y,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>(async()=>{if(\"edit\"===a)return y(),void r({...l,data:{message:g,arrayOption:E}});\"create\"===a&&(y(),t({message:g,arrayOption:E}))})()},\"\".concat(h.btn))))))},up=t(232),pp=t.n(up);const gp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var bp=e=>{let{open:a,onSave:t,onUpdate:r,data:l,close:i}=e;const s=gp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(),[E,f]=Object(n.useState)(),[h,A]=Object(n.useState)({title:\"Adicionar imagem ao fluxo\",btn:\"Adicionar\"}),[y,v]=Object(n.useState)([]);Object(n.useEffect)(()=>{\"edit\"===a?(A({title:\"Editar imagem\",btn:\"Salvar\"}),f(l.data.url),b(\"https://api.whatspark.com.br/public/\"+l.data.url),m(!0)):\"create\"===a?(A({title:\"Adicionar imagem ao fluxo\",btn:\"Adicionar\"}),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const x=()=>{i(null),m(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:d,onClose:x,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},h.title),o.a.createElement(Oo.a,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Oo.a,{gap:\"16px\"},g&&o.a.createElement(\"img\",{src:g,style:{width:\"552px\"}}),!u&&\"edit\"!==a&&o.a.createElement(ca.a,{variant:\"contained\",component:\"label\"},\"Enviar imagem\",o.a.createElement(\"input\",{type:\"file\",accept:\"image/png, image/jpg, image/jpeg\",disabled:u,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void w.b.error(\"Arquivo \\xe9 muito grande! 2MB m\\xe1ximo\");const a=Array.from(e.target.files);b(URL.createObjectURL(e.target.files[0])),v(a)}})),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Oo.a,{justifyContent:\"center\",alignSelf:\"center\"},o.a.createElement(Ba.a,null))))),o.a.createElement(nt.a,null,!u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,{onClick:()=>{x(),v([]),b()},color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),\"edit\"!==a&&o.a.createElement(ca.a,{type:\"submit\",disabled:u,color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>(async()=>{if(\"edit\"===a)return x(),void r({...l,data:{url:\"\"}});if(\"create\"===a){p(!0);const e=new FormData;e.append(\"fromMe\",!0),y.forEach(async(a,t)=>{const n=a;n&&(\"image\"==(null===a||void 0===a?void 0:a.type.split(\"/\")[0])?new pp.a(n,{quality:.7,async success(a){e.append(\"medias\",a),e.append(\"body\",a.name)},error(e){alert(\"erro\"),console.log(e.message)}}):(e.append(\"medias\",a),e.append(\"body\",a.name)))}),setTimeout(async()=>{console.log(e),await Ye.post(\"/flowbuilder/img\",e).then(e=>{x(),t({url:e.data.name}),w.b.success(\"Imagem adicionada com sucesso!\"),p(!1),v([]),b()})},1e3)}})()},\"\".concat(h.btn)))))))};const Ep=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var fp=e=>{let{open:a,onSave:t,data:r,onUpdate:l,close:i}=e;const s=Ep(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)();Object(n.useEffect)(()=>(\"edit\"===a?(async()=>{try{const{data:e}=await Ye.get(\"/queue\");p(e);const a=e.find(e=>e.id===r.data.id);console.log(\"queue\",a),a&&b(a.id),m(!0)}catch(e){console.log(e)}})():\"create\"===a&&(async()=>{try{const{data:e}=await Ye.get(\"/queue\");p(e),m(!0)}catch(e){console.log(e)}})(),()=>{c.current=!1}),[a]);const E=()=>{i(null),m(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:d,onClose:E,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"create\"===a?\"Adicionar um intervalo ao fluxo\":\"Editar intervalo\"),o.a.createElement(Oo.a,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(nn.a,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:g,style:{width:\"95%\"},onChange:e=>{b(e.target.value)},MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:()=>{if(\"\"===g)return\"Selecione uma Conex\\xe3o\";return u.find(e=>e.id===g).name}},u.length>0&&u.map((e,a)=>o.a.createElement(F.a,{dense:!0,key:a,value:e.id},e.name)))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:E,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>{if(!g)return w.b.error(\"Adicione uma fila\");if(\"edit\"===a){const e=u.find(e=>e.id===g);l({...r,data:e})}else if(\"create\"===a){const e=u.find(e=>e.id===g);t({data:e})}E()}},\"create\"===a?\"Adicionar\":\"Editar\")))))};const hp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var Ap=e=>{let{open:a,onSave:t,onUpdate:r,data:l,close:i}=e;const s=hp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(),[h,A]=Object(n.useState)({title:\"Adicionar audio ao fluxo\",btn:\"Adicionar\"}),[y,v]=Object(n.useState)(),[x,C]=Object(n.useState)([]);Object(n.useEffect)(()=>{\"edit\"===a?(A({title:\"Editar audio\",btn:\"Salvar\"}),f(\"https://api.whatspark.com.br/public/\"+l.data.url),b(l.data.record),m(!0)):\"create\"===a?(A({title:\"Adicionar audio ao fluxo\",btn:\"Adicionar\"}),v(\"\"),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const S=()=>{i(null),m(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:d,onClose:S,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},h.title),o.a.createElement(Oo.a,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Oo.a,{gap:\"16px\"},E&&o.a.createElement(Oo.a,{direction:\"row\",justifyContent:\"center\"},o.a.createElement(\"audio\",{controls:\"controls\"},o.a.createElement(\"source\",{src:E,type:\"audio/mp3\"}),\"seu navegador n\\xe3o suporta HTML5\")),E&&o.a.createElement(Oo.a,{direction:\"row\",justifyContent:\"center\"},o.a.createElement(nu.a,{checked:g,onChange:e=>b(e=>!e)}),o.a.createElement(Oo.a,{justifyContent:\"center\"},o.a.createElement(q.a,null,\"Enviar como audio gravado na hora\"))),!u&&\"edit\"!==a&&o.a.createElement(ca.a,{variant:\"contained\",component:\"label\"},\"Enviar audio\",o.a.createElement(\"input\",{type:\"file\",accept:\"audio/ogg, audio/mp3\",disabled:u,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void w.b.error(\"Arquivo \\xe9 muito grande! 5MB m\\xe1ximo\");const a=Array.from(e.target.files);f(URL.createObjectURL(e.target.files[0])),C(a)}})),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Oo.a,{justifyContent:\"center\",alignSelf:\"center\"},o.a.createElement(Ba.a,null))))),o.a.createElement(nt.a,null,!u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,{onClick:()=>{S(),C([]),f()},color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",disabled:u,color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>(async()=>{if(\"edit\"===a)return S(),void r({...l,data:{url:l.data.url,record:g}});if(\"create\"===a){p(!0);const e=new FormData;e.append(\"fromMe\",!0),x.forEach(async(a,t)=>{const n=a;n&&(\"image\"==(null===a||void 0===a?void 0:a.type.split(\"/\")[0])?new pp.a(n,{quality:.7,async success(a){e.append(\"medias\",a),e.append(\"body\",a.name)},error(e){alert(\"erro\"),console.log(e.message)}}):(e.append(\"medias\",a),e.append(\"body\",a.name)))}),setTimeout(async()=>{console.log(e),await Ye.post(\"/flowbuilder/audio\",e).then(e=>{S(),t({url:e.data.name,record:g}),w.b.success(\"Audio adicionada com sucesso!\"),p(!1),C([]),f()})},1e3)}})()},\"\".concat(h.btn)))))))},yp=t(1599);const vp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var xp=e=>{let{open:a,onSave:t,data:r,onUpdate:l,close:i}=e;const s=vp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>(\"edit\"===a?(m(r.data.percent),p(!0)):\"create\"===a&&(m(0),p(!0)),()=>{c.current=!1}),[a]);const g=()=>{i(null),p(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:u,onClose:g,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"create\"===a?\"Adicionar um randomizador ao fluxo\":\"Editar randomizador\"),o.a.createElement(Oo.a,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Oo.a,{direction:\"row\",minHeight:120,alignItems:\"center\",gap:4},o.a.createElement(q.a,null,d,\"%\"),o.a.createElement(yp.a,{\"aria-label\":\"Temperature\",defaultValue:d,valueLabelDisplay:\"auto\",onChange:(e,a)=>{m(a)},step:10,marks:!0,min:0,max:100}),o.a.createElement(q.a,null,100-d,\"%\"))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:g,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?w.b.error(\"Adicione o valor de intervalo\"):parseInt(d)>120?w.b.error(\"M\\xe1ximo de tempo atingido 120 segundos\"):(\"edit\"===a?l({...r,data:{percent:d}}):\"create\"===a&&t({percent:d}),void g()))()},\"create\"===a?\"Adicionar\":\"Editar\")))))};const Cp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var wp=e=>{let{open:a,onSave:t,onUpdate:r,data:l,close:i}=e;const s=Cp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(),[h,A]=Object(n.useState)({title:\"Adicionar video ao fluxo\",btn:\"Adicionar\"}),[y,v]=Object(n.useState)([]);Object(n.useEffect)(()=>{\"edit\"===a?(A({title:\"Editar video\",btn:\"Salvar\"}),f(\"https://api.whatspark.com.br/public/\"+l.data.url),b(l.data.record),m(!0)):\"create\"===a?(A({title:\"Adicionar video ao fluxo\",btn:\"Adicionar\"}),m(!0)):m(!1)},[a]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const x=()=>{i(null),m(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:d,onClose:x,fullWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},h.title),o.a.createElement(Oo.a,null,o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Oo.a,{gap:\"16px\"},E&&o.a.createElement(Oo.a,{direction:\"row\",justifyContent:\"center\"},o.a.createElement(\"video\",{controls:\"controls\",width:\"552px\"},o.a.createElement(\"source\",{src:E,type:\"video/mp4\"}),\"seu navegador n\\xe3o suporta HTML5\")),!u&&\"edit\"!==a&&!E&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,{variant:\"contained\",component:\"label\"},\"Enviar video\",o.a.createElement(\"input\",{type:\"file\",accept:\"video/mp4\",disabled:u,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void w.b.error(\"Arquivo \\xe9 muito grande! 20MB m\\xe1ximo\");const a=Array.from(e.target.files);f(URL.createObjectURL(e.target.files[0])),v(a)}})),o.a.createElement(q.a,null,\"ATEN\\xc7\\xc3O! Apenas videos em MP4!\")),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Oo.a,{justifyContent:\"center\",alignSelf:\"center\"},o.a.createElement(Ba.a,null))))),o.a.createElement(nt.a,null,!u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,{onClick:()=>{x(),v([]),f()},color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",disabled:u,color:\"primary\",variant:\"contained\",className:s.btnWrapper,onClick:()=>(async()=>{if(\"edit\"===a)return x(),void r({...l,data:{url:l.data.url,record:g}});if(\"create\"===a){p(!0);const e=new FormData;e.append(\"fromMe\",!0),y.forEach(async(a,t)=>{const n=a;n&&(\"image\"==(null===a||void 0===a?void 0:a.type.split(\"/\")[0])?new pp.a(n,{quality:.7,async success(a){e.append(\"medias\",a),e.append(\"body\",a.name)},error(e){alert(\"erro\"),console.log(e.message)}}):(e.append(\"medias\",a),e.append(\"body\",a.name)))}),setTimeout(async()=>{await Ye.post(\"/flowbuilder/audio\",e).then(e=>{x(),t({url:e.data.name}),w.b.success(\"Audio adicionada com sucesso!\"),p(!1),v([]),f()})},1e3)}})()},\"\".concat(h.btn)))))))};function Sp(e){return 0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}const Op=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var kp=e=>{let{open:a,onSave:t,onUpdate:r,data:l,close:i}=e;Op();const s=Object(n.useRef)(!0),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)(),[f,h]=Object(n.useState)([]),[A,y]=Object(n.useState)([]),[v,x]=Object(n.useState)([]),[C,S]=Object(n.useState)([]),[O,k]=Object(n.useState)(0),[T,j]=Object(n.useState)(0),[I,N]=Object(n.useState)(0),[P,R]=Object(n.useState)(0),[D,q]=Object(n.useState)(0),[L,F]=Object(n.useState)(0),[W,B]=Object(n.useState)(0),[z,H]=Object(n.useState)(0),[U,V]=Object(n.useState)(0),[Q,K]=Object(n.useState)(0),[G,Y]=Object(n.useState)(!1),[X,_]=Object(n.useState)([]),[Z,J]=Object(n.useState)([]),[$,ee]=Object(n.useState)([]),[ae,te]=Object(n.useState)([]),[ne,oe]=Object(n.useState)([]),[re,le]=Object(n.useState)({title:\"Adicionar conte\\xfado ao fluxo\",btn:\"Adicionar\"}),ie=e=>{let a=[];const t=A.filter(e=>e.includes(\"message\")),n=A.filter(e=>e.includes(\"interval\")),o=A.filter(e=>e.includes(\"img\")),r=A.filter(e=>e.includes(\"audio\")),l=A.filter(e=>e.includes(\"video\"));for(let i=0;i<O;i++){const e=document.querySelector(\".\".concat(t[i])).querySelector(\".MuiInputBase-input\").value;if(!e)throw w.b.error(\"Campos de mensagem vazio!\"),Y(!1),\"\";a.push({type:\"message\",value:e,number:t[i]}),console.log(\"text\")}for(let i=0;i<I;i++){const e=document.querySelector(\".\".concat(n[i])).querySelector(\".MuiInputBase-input\").value;if(0===parseInt(e)||parseInt(e)>120)throw w.b.error(\"Intervalo n\\xe3o pode ser 0 ou maior que 120!\"),Y(!1),\"\";a.push({type:\"interval\",value:e,number:n[i]}),console.log(\"int\")}for(let i=0;i<U;i++){const t=null!==e&&e.filter(e=>e.includes(\"png\")||e.includes(\"jpg\")||e.includes(\"jpeg\")),n=p.filter(e=>e.name.includes(\"png\")||e.name.includes(\"jpg\")||e.name.includes(\"jpeg\"));if(v.includes(o[i])){const e=C.filter(e=>e.number===o[i])[0];a.push({type:\"img\",value:e.value,original:e.original,number:e.number})}else{let e=0;e=v.filter(e=>e.includes(\"img\")).length>0?v.filter(e=>e.includes(\"img\")).length-i:i,a.push({type:\"img\",value:t[e],original:n[e].name,number:o[i]})}}for(let i=0;i<D;i++){const t=null!==e&&e.filter(e=>e.includes(\"mp3\")||e.includes(\"ogg\")||e.includes(\"mpeg\")||e.includes(\"opus\")),n=p.filter(e=>e.name.includes(\"mp3\")||e.name.includes(\"ogg\")||e.name.includes(\"mpeg\")||e.name.includes(\"opus\"));if(v.includes(r[i])){const e=C.filter(e=>e.number===r[i])[0];a.push({type:\"audio\",value:e.value,original:e.original,number:e.number,record:document.querySelector(\".check\".concat(r[i])).querySelector(\".PrivateSwitchBase-input\").checked})}else{let e=0;e=v.filter(e=>e.includes(\"audio\")).length>0?v.filter(e=>e.includes(\"audio\")).length-i:i,a.push({type:\"audio\",value:t[e],original:n[e].name,number:r[i],record:document.querySelector(\".check\".concat(r[i])).querySelector(\".PrivateSwitchBase-input\").checked})}}for(let i=0;i<W;i++){const t=null!==e&&e.filter(e=>e.includes(\"mp4\")||e.includes(\"avi\")),n=p.filter(e=>e.name.includes(\"mp4\")||e.name.includes(\"avi\"));if(v.includes(l[i])){const e=C.filter(e=>e.number===l[i])[0];a.push({type:\"video\",value:e.value,original:e.original,number:e.number})}else{let e=0;e=v.filter(e=>e.includes(\"video\")).length>0?v.filter(e=>e.includes(\"video\")).length-i:i,a.push({type:\"video\",value:t[e],original:n[e].name,number:l[i]})}}return console.log(a),a},se=(e,a)=>{\"message\"===a&&(k(e=>e-1),y(a=>a.filter(a=>a!==\"message\".concat(e))),x(a=>a.filter(a=>a!==\"message\".concat(e))),document.querySelector(\".stackMessage\".concat(e)).remove()),\"interval\"===a&&(N(e=>e-1),y(a=>a.filter(a=>a!==\"interval\".concat(e))),x(a=>a.filter(a=>a!==\"interval\".concat(e))),document.querySelector(\".stackInterval\".concat(e)).remove()),\"img\"===a&&(V(e=>e-1),_(a=>(g(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),y(a=>a.filter(a=>a!==\"img\".concat(e))),x(a=>a.filter(a=>a!==\"img\".concat(e))),document.querySelector(\".stackImg\".concat(e)).remove()),\"audio\"===a&&(q(e=>e-1),J(a=>(g(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),y(a=>a.filter(a=>a!==\"audio\".concat(e))),x(a=>a.filter(a=>a!==\"audio\".concat(e))),document.querySelector(\".stackAudio\".concat(e)).remove()),\"video\"===a&&(B(e=>e-1),ee(a=>(g(t=>{try{return t.filter(t=>t.name!==a.filter(a=>a.number===e)[0].name)}catch(n){return t}}),a.filter(a=>a.number!==e))),y(a=>a.filter(a=>a!==\"video\".concat(e))),x(a=>a.filter(a=>a!==\"video\".concat(e))),document.querySelector(\".stackVideo\".concat(e)).remove())};const ce=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void w.b.error(\"Arquivo \\xe9 muito grande! 2MB m\\xe1ximo\");const t=URL.createObjectURL(e.target.files[0]);_(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);const n=Array.from(e.target.files);g(e=>[...e,n[0]]),document.querySelector(\".img\".concat(a)).src=t,document.querySelector(\".btnImg\".concat(a)).remove()},de=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void w.b.error(\"Arquivo \\xe9 muito grande! 5MB m\\xe1ximo\");const t=URL.createObjectURL(e.target.files[0]);J(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);const n=Array.from(e.target.files);g(e=>[...e,n[0]]),document.querySelector(\".audio\".concat(a)).innerHTML='<audio controls=\"controls\">\\n    <source src=\"'.concat(t,'\" type=\"audio/mp3\" />\\n    seu navegador n\\xe3o suporta HTML5\\n  </audio>'),document.querySelector(\".btnAudio\".concat(a)).remove()},me=(e,a)=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void w.b.error(\"Arquivo \\xe9 muito grande! 20MB m\\xe1ximo\");const t=URL.createObjectURL(e.target.files[0]);ee(n=>[...n,{number:a,url:t,name:e.target.files[0].name}]);var n=document.createElement(\"div\");const o=Array.from(e.target.files);g(e=>[...e,o[0]]),n.innerHTML='<video controls=\"controls\" style=\"width: 200px;\">\\n    <source src=\"'.concat(t,'\" type=\"video/mp4\" />\\n    seu navegador n\\xe3o suporta HTML5\\n  </video>'),document.querySelector(\".video\".concat(a)).appendChild(n),document.querySelector(\".btnVideo\".concat(a)).remove()},ue=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";return o.a.createElement(Oo.a,{sx:{border:\"1px solid #0000FF\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackImg\".concat(e),key:\"stackImg\".concat(e)},o.a.createElement(Oo.a,{sx:{position:\"absolute\",right:6}},o.a.createElement(xu.a,{onClick:()=>se(e,\"img\")})),o.a.createElement(Qu.a,{textAlign:\"center\"},\"Imagem\"),o.a.createElement(Oo.a,{direction:\"row\",justifyContent:\"center\"},o.a.createElement(\"img\",{src:a.length>0?\"https://api.whatspark.com.br/public/\"+a:\"\",className:\"img\".concat(e),style:{width:\"200px\"}})),0===a.length&&o.a.createElement(ca.a,{variant:\"contained\",component:\"label\",className:\"btnImg\".concat(e)},\"Enviar imagem\",o.a.createElement(\"input\",{type:\"file\",accept:\"image/png, image/jpg, image/jpeg\",hidden:!0,onChange:a=>ce(a,e)})))},pe=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\";return o.a.createElement(Oo.a,{sx:{border:\"1px solid #0000FF\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackAudio\".concat(e),key:\"stackAudio\".concat(e)},o.a.createElement(Oo.a,{sx:{position:\"absolute\",right:6},direction:\"row\",gap:1},o.a.createElement(xu.a,{sx:{cursor:\"pointer\"},onClick:()=>se(e,\"audio\")})),o.a.createElement(Qu.a,{textAlign:\"center\"},\"Audio\"),o.a.createElement(\"div\",{className:\"audio\".concat(e),style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"}},a.length>0&&o.a.createElement(\"audio\",{controls:\"controls\"},o.a.createElement(\"source\",{src:\"https://api.whatspark.com.br/public/\"+a,type:\"audio/mp3\"}),\"seu navegador n\\xe3o suporta HTML5\")),0===a.length&&o.a.createElement(ca.a,{variant:\"contained\",component:\"label\",className:\"btnAudio\".concat(e)},\"Enviar audio\",o.a.createElement(\"input\",{type:\"file\",accept:\"audio/ogg, audio/mp3, audio/opus\",hidden:!0,onChange:a=>de(a,e)})),o.a.createElement(Oo.a,{direction:\"row\",justifyContent:\"center\"},o.a.createElement(nu.a,{className:\"checkaudio\".concat(e),defaultChecked:\"ok\"!==t}),o.a.createElement(Oo.a,{justifyContent:\"center\"},o.a.createElement(Qu.a,null,\"Enviar como audio gravado na hora\"))))},ge=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";return o.a.createElement(Oo.a,{sx:{border:\"1px solid #0000FF\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackVideo\".concat(e),key:\"stackVideo\".concat(e)},o.a.createElement(Oo.a,{sx:{position:\"absolute\",right:6}},o.a.createElement(xu.a,{onClick:()=>se(e,\"video\")})),o.a.createElement(Qu.a,{textAlign:\"center\"},\"Video\"),o.a.createElement(\"div\",{className:\"video\".concat(e),style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"}},a.length>0&&o.a.createElement(\"video\",{controls:\"controls\",style:{width:\"200px\"}},o.a.createElement(\"source\",{src:\"https://api.whatspark.com.br/public/\"+a,type:\"video/mp4\"}),\"seu navegador n\\xe3o suporta HTML5\")),0===a.length&&o.a.createElement(ca.a,{variant:\"contained\",component:\"label\",className:\"btnVideo\".concat(e)},\"Enviar video\",o.a.createElement(\"input\",{type:\"file\",accept:\"video/mp4\",hidden:!0,onChange:a=>me(a,e)})))},be=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";return o.a.createElement(Oo.a,{sx:{border:\"1px solid #0000FF\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackMessage\".concat(e),key:\"stackMessage\".concat(e)},o.a.createElement(Oo.a,{sx:{position:\"absolute\",right:6}},o.a.createElement(xu.a,{onClick:()=>se(e,\"message\")})),o.a.createElement(Qu.a,{textAlign:\"center\"},\"Texto\"),o.a.createElement(sa.a,{label:\"Mensagem\",defaultValue:a,multiline:!0,rows:7,className:\"message\".concat(e),name:\"text\",variant:\"outlined\",margin:\"dense\",style:{width:\"100%\"}}))},Ee=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.a.createElement(Oo.a,{sx:{border:\"1px solid #0000FF\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackInterval\".concat(e),key:\"stackInterval\".concat(e)},o.a.createElement(Oo.a,{sx:{position:\"absolute\",right:6}},o.a.createElement(xu.a,{onClick:()=>se(e,\"interval\")})),o.a.createElement(Qu.a,{textAlign:\"center\"},\"Intervalo\"),o.a.createElement(sa.a,{label:\"Tempo em segundos\",className:\"interval\".concat(e),defaultValue:a,type:\"number\",InputProps:{inputProps:{min:0,max:120}},variant:\"outlined\",margin:\"dense\",style:{width:\"100%\"}}))};Object(n.useEffect)(()=>{const e=localStorage.getItem(\"variables\");if(e&&oe(JSON.parse(e)),\"edit\"===a){if(le({title:\"Editar conte\\xfado\",btn:\"Salvar\"}),y(l.data.seq),x(l.data.seq),S(l.data.elements),l){const e=l.data.elements,a=l.data.seq;a.map(t=>{const n=e.filter(e=>e.number===t)[0];if(\"message\"===n.type){const e=parseInt(t.replace(\"message\",\"\"));h(a=>[...a,be(e,n.value)]),k(e=>{const t=a.filter(e=>e.includes(\"message\")).map(e=>parseInt(e.replace(\"message\",\"\")));return j(Math.max.apply(null,t)+1),e+1})}if(\"interval\"===n.type){const e=parseInt(t.replace(\"interval\",\"\"));h(a=>[...a,Ee(e,n.value)]),N(e=>{const t=a.filter(e=>e.includes(\"interval\")).map(e=>parseInt(e.replace(\"interval\",\"\")));return R(Math.max.apply(null,t)+1),e+1})}if(\"audio\"===n.type){const e=parseInt(t.replace(\"audio\",\"\"));h(a=>[...a,pe(e,n.value,n.record?\"\":\"ok\")]),q(e=>{const t=a.filter(e=>e.includes(\"audio\")).map(e=>parseInt(e.replace(\"audio\",\"\")));return F(Math.max.apply(null,t)+1),e+1})}if(\"img\"===n.type){const e=parseInt(t.replace(\"img\",\"\"));h(a=>[...a,ue(e,n.value)]),V(e=>{const t=a.filter(e=>e.includes(\"img\")).map(e=>parseInt(e.replace(\"img\",\"\")));return K(Math.max.apply(null,t)+1),e+1})}if(\"video\"===n.type){const e=parseInt(t.replace(\"video\",\"\"));h(a=>[...a,ge(e,n.value)]),B(e=>{const t=a.filter(e=>e.includes(\"video\")).map(e=>parseInt(e.replace(\"video\",\"\")));return H(Math.max.apply(null,t)+1),e+1})}})}d(!0)}\"create\"===a&&(le({title:\"Adicionar menu ao fluxo\",btn:\"Adicionar\"}),E(),te([]),d(!0))},[a]),Object(n.useEffect)(()=>()=>{s.current=!1},[]);const fe=async()=>{i(null),d(!1),setTimeout(()=>{g([]),_([]),J([]),ee([]),te([]),h([]),y([]),S([]),x([]),k(0),j(0),N(0),R(0),q(0),F(0),B(0),H(0),V(0),K(0)},500)},he=()=>{const e=A.filter(e=>e.includes(\"img\")),a=A.filter(e=>e.includes(\"audio\")),t=A.filter(e=>e.includes(\"video\"));for(let n=0;n<U;n++){if(document.querySelector(\".btn\".concat(Sp(e[n]))))return!0}for(let n=0;n<D;n++){if(document.querySelector(\".btn\".concat(Sp(a[n]))))return!0}for(let n=0;n<W;n++){if(document.querySelector(\".btn\".concat(Sp(t[n]))))return!0}},Ae=e=>{const a=document.querySelector(e);a.scrollTop=a.scrollHeight};return o.a.createElement(\"div\",null,o.a.createElement(tt.a,{open:c,fullWidth:\"md\",scroll:\"paper\"},!G&&o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"Adicionar conte\\xfado ao fluxo\"),o.a.createElement(Oo.a,null,o.a.createElement(Oo.a,{className:\"body-card\",style:{gap:\"8px\",padding:\"16px\",overflow:\"auto\",height:\"70vh\",scrollBehavior:\"smooth\",display:G&&\"none\"}},f.map(e=>o.a.createElement(o.a.Fragment,null,e)),o.a.createElement(Oo.a,{direction:\"row\",gap:1},o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{h(e=>[...e,be(T)]),k(e=>(y(e=>[...e,\"message\".concat(T)]),e+1)),j(e=>e+1),setTimeout(()=>{Ae(\".body-card\")},100)}},o.a.createElement(Nu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Texto\"),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{h(e=>[...e,Ee(P)]),N(e=>(y(e=>[...e,\"interval\".concat(P)]),e+1)),R(e=>e+1),setTimeout(()=>{Ae(\".body-card\")},100)}},o.a.createElement(Lu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Intervalo\"),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{h(e=>[...e,ue(Q)]),V(e=>(y(e=>[...e,\"img\".concat(Q)]),e+1)),K(e=>e+1),setTimeout(()=>{Ae(\".body-card\")},100)}},o.a.createElement(Wu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Imagem\"),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{h(e=>[...e,pe(L)]),q(e=>(y(e=>[...e,\"audio\".concat(L)]),e+1)),F(e=>e+1),setTimeout(()=>{Ae(\".body-card\")},100)}},o.a.createElement(Cu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Audio\"),o.a.createElement(ca.a,{variant:\"contained\",color:\"primary\",onClick:()=>{h(e=>[...e,ge(z)]),B(e=>(y(e=>[...e,\"video\".concat(z)]),e+1)),H(e=>e+1),setTimeout(()=>{Ae(\".body-card\")},100)}},o.a.createElement(Uu.a,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Video\")),o.a.createElement(M.a,null),o.a.createElement(Wa.a,{style:{width:\"100%\",textAlign:\"center\"}},o.a.createElement(Qu.a,null,\"Vari\\xe1veis\"),ne&&o.a.createElement(o.a.Fragment,null,ne.map(e=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Qu.a,null,(e=>\"{{\"+e+\"}}\")(e))))))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:fe,color:\"secondary\",variant:\"outlined\",style:{display:G&&\"none\"}},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",onClick:()=>(async()=>{if(\"edit\"===a){Y(!0);const e=new FormData;p.forEach(async(a,t)=>{const n=a;n&&(\"image\"==(null===a||void 0===a?void 0:a.type.split(\"/\")[0])?new pp.a(n,{quality:.7,async success(a){e.append(\"medias\",a),e.append(\"body\",a.name)},error(e){alert(\"erro\"),console.log(e.message)}}):(e.append(\"medias\",a),e.append(\"body\",a.name)))}),setTimeout(async()=>{if(0===D&&0===W&&0===U||0===p.length){try{const e={seq:A,elements:ie(null)};return console.log(\"QUI\",e),r({...l,data:e}),w.b.success(\"Conte\\xfado adicionada com sucesso!\"),fe(),void Y(!1)}catch(a){console.log(a),Y(!1)}return}if(he())return Y(!1),w.b.error(\"Delete os cards vazios(Imagem, Audio e Video)\");await Ye.post(\"/flowbuilder/content\",e).then(async e=>{const a={seq:A,elements:ie(e.data)};r({...l,data:a}),w.b.success(\"Conte\\xfado adicionada com sucesso!\"),await fe(),Y(!1)}).catch(e=>{console.log(e)})},1500)}else if(\"create\"===a){Y(!0);const e=new FormData;p.forEach(async(a,t)=>{const n=a;n&&(\"image\"==(null===a||void 0===a?void 0:a.type.split(\"/\")[0])?new pp.a(n,{quality:.7,async success(a){e.append(\"medias\",a),e.append(\"body\",a.name)},error(e){alert(\"erro\"),console.log(e.message)}}):(e.append(\"medias\",a),e.append(\"body\",a.name)))}),setTimeout(async()=>{if(0===D&&0===W&&0===U)try{const e={seq:A,elements:ie(null)};return t({...e}),w.b.success(\"Conte\\xfado adicionada com sucesso!\"),fe(),void Y(!1)}catch(a){Y(!1)}if(he())return Y(!1),w.b.error(\"Delete os cards vazios(Imagem, Audio e Video)\");await Ye.post(\"/flowbuilder/content\",e).then(e=>{const a={seq:A,elements:ie(e.data)};t({...a}),w.b.success(\"Conte\\xfado adicionada com sucesso!\"),fe(),Y(!1)}).catch(e=>{console.log(e)})},1500)}})(),style:{display:G&&\"none\"}},\"\".concat(re.btn)))),G&&o.a.createElement(Oo.a,{style:{gap:\"8px\",padding:\"16px\",height:\"70vh\",alignSelf:\"center\",justifyContent:\"center\"}},o.a.createElement(Oo.a,null,o.a.createElement(Qu.a,null,\"Subindo os arquivos e criando o conte\\xfado...\"),o.a.createElement(Oo.a,{style:{alignSelf:\"center\",marginTop:\"12px\"}},o.a.createElement(Ba.a,null))))))};const Tp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}})),jp=an.b().shape({name:an.d().min(2,\"Too Short!\").max(50,\"Too Long!\").required(\"Required\")});var Ip=e=>{let{open:a,onSave:t,data:r,onUpdate:l,close:i}=e;const s=Tp(),c=Object(n.useRef)(!0),d={type:\"typebot\",name:\"\",projectName:\"\",jsonContent:\"\",language:\"\",urlN8N:\"\",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:\"\",typebotKeywordRestart:\"\",typebotRestartMessage:\"\",typebotSlug:\"\",typebotUnknownMessage:\"\"},[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(),[b,E]=Object(n.useState)({title:\"Adicionar Typebot ao fluxo\",btn:\"Adicionar\"});Object(n.useEffect)(()=>(\"edit\"===a?(E({title:\"Editar Typebot ao fluxo\",btn:\"Salvar\"}),console.log(\"FlowTybebotEdit\",r),g({...r.data.typebotIntegration}),u(!0)):\"create\"===a&&(E({title:\"Editar Typebot do fluxo\",btn:\"Salvar\"}),g(d),u(!0)),()=>{c.current=!1}),[a]);const f=()=>{i(null),u(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:m,onClose:f,fullWidth:!0,maxWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"create\"===a?\"Adicionar Typebot ao fluxo\":\"Editar Typebot\"),o.a.createElement(tn.e,{initialValues:p,enableReinitialize:!0,validationSchema:jp,onSubmit:(e,n,o)=>{setTimeout(()=>{(e=>{\"edit\"===a?(f(),l({...r,data:{typebotIntegration:{...e}}})):\"create\"===a&&(e.projectName=e.name,f(),t({typebotIntegration:e}))})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:n,isSubmitting:r,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(Cn.a,{square:!0,className:s.mainPaper,elevation:1},o.a.createElement(pt.a,{dividers:!0},o.a.createElement(Zt.a,{container:!0,spacing:1},o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.name\"),autoFocus:!0,name:\"name\",error:t.name&&Boolean(n.name),helpertext:t.name&&n.name,variant:\"outlined\",margin:\"dense\",required:!0,fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.urlN8N\"),name:\"urlN8N\",error:t.urlN8N&&Boolean(n.urlN8N),helpertext:t.urlN8N&&n.urlN8N,variant:\"outlined\",margin:\"dense\",required:!0,fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotSlug\"),name:\"typebotSlug\",error:t.typebotSlug&&Boolean(n.typebotSlug),helpertext:t.typebotSlug&&n.typebotSlug,required:!0,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotExpires\"),name:\"typebotExpires\",error:t.typebotExpires&&Boolean(n.typebotExpires),helpertext:t.typebotExpires&&n.typebotExpires,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotDelayMessage\"),name:\"typebotDelayMessage\",error:t.typebotDelayMessage&&Boolean(n.typebotDelayMessage),helpertext:t.typebotDelayMessage&&n.typebotDelayMessage,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotKeywordFinish\"),name:\"typebotKeywordFinish\",error:t.typebotKeywordFinish&&Boolean(n.typebotKeywordFinish),helpertext:t.typebotKeywordFinish&&n.typebotKeywordFinish,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotKeywordRestart\"),name:\"typebotKeywordRestart\",error:t.typebotKeywordRestart&&Boolean(n.typebotKeywordRestart),helpertext:t.typebotKeywordRestart&&n.typebotKeywordRestart,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotUnknownMessage\"),name:\"typebotUnknownMessage\",error:t.typebotUnknownMessage&&Boolean(n.typebotUnknownMessage),helpertext:t.typebotUnknownMessage&&n.typebotUnknownMessage,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:s.textField})),o.a.createElement(Zt.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"queueIntegrationModal.form.typebotRestartMessage\"),name:\"typebotRestartMessage\",error:t.typebotRestartMessage&&Boolean(n.typebotRestartMessage),helpertext:t.typebotRestartMessage&&n.typebotRestartMessage,variant:\"outlined\",margin:\"dense\",fullWidth:!0,className:s.textField})))))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:f,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",disabled:r,variant:\"contained\",className:s.btnWrapper},\"create\"===a?\"Adicionar\":\"Editar\")))})))};const Np=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));an.b().shape({name:an.d().min(2,\"Too Short!\").max(50,\"Too Long!\").required(\"Required\")});var Mp=e=>{let{open:a,onSave:t,data:r,onUpdate:l,close:i}=e;const s=Np(),c=Object(n.useRef)(!0),d=()=>{p(!u)},m={name:\"\",prompt:\"\",voice:\"texto\",voiceKey:\"\",voiceRegion:\"\",maxTokens:100,temperature:1,apiKey:\"\",queueId:null,maxMessages:10},[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(\"texto\"),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(),[y,v]=Object(n.useState)({title:\"Adicionar OpenAI ao fluxo\",btn:\"Adicionar\"});Object(n.useEffect)(()=>(\"edit\"===a?(v({title:\"Editar OpenAI do fluxo\",btn:\"Salvar\"}),console.log(\"FlowTybebotEdit\",r),A({...r.data.typebotIntegration}),f(!0)):\"create\"===a&&(v({title:\"Cria OpenAI no fluxo\",btn:\"Salvar\"}),A(m),f(!0)),()=>{c.current=!1}),[a]);const x=()=>{i(null),f(!1)},C=e=>{b(e.target.value)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:E,onClose:x,fullWidth:!0,maxWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"create\"===a?\"Adicionar OpenAI ao fluxo\":\"Editar OpenAI\"),o.a.createElement(tn.e,{initialValues:h,enableReinitialize:!0,onSubmit:(e,n)=>{setTimeout(()=>{(e=>{\"edit\"===a?(x(),l({...r,data:{typebotIntegration:{...e,voice:g}}})):\"create\"===a&&(e.projectName=e.name,x(),t({typebotIntegration:{...e,voice:g}}))})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:n,isSubmitting:r,values:l}=e;return o.a.createElement(tn.d,{style:{width:\"100%\"}},o.a.createElement(pt.a,{dividers:!0},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.name\"),name:\"name\",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:\"outlined\",margin:\"dense\",fullWidth:!0,required:!0}),o.a.createElement(rn.a,{fullWidth:!0,margin:\"dense\",variant:\"outlined\"},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.apikey\"),name:\"apiKey\",type:u?\"text\":\"password\",error:t.apiKey&&Boolean(n.apiKey),helperText:t.apiKey&&n.apiKey,variant:\"outlined\",margin:\"dense\",fullWidth:!0,required:!0,InputProps:{endAdornment:o.a.createElement(Kl.a,{position:\"end\"},o.a.createElement(N.a,{onClick:d},u?o.a.createElement(vm.a,null):o.a.createElement(xm.a,null)))}})),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.prompt\"),name:\"prompt\",error:t.prompt&&Boolean(n.prompt),helperText:t.prompt&&n.prompt,variant:\"outlined\",margin:\"dense\",fullWidth:!0,required:!0,rows:10,multiline:!0}),o.a.createElement(\"div\",{className:s.multFieldLine},o.a.createElement(rn.a,{fullWidth:!0,margin:\"dense\",variant:\"outlined\"},o.a.createElement(on.a,null,We.a.t(\"promptModal.form.voice\")),o.a.createElement(nn.a,{id:\"type-select\",labelWidth:60,name:\"voice\",value:g,onChange:C,multiple:!1},o.a.createElement(F.a,{key:\"texto\",value:\"texto\"},\"Texto\"),o.a.createElement(F.a,{key:\"pt-BR-FranciscaNeural\",value:\"pt-BR-FranciscaNeural\"},\"Francisa\"),o.a.createElement(F.a,{key:\"pt-BR-AntonioNeural\",value:\"pt-BR-AntonioNeural\"},\"Ant\\xf4nio\"),o.a.createElement(F.a,{key:\"pt-BR-BrendaNeural\",value:\"pt-BR-BrendaNeural\"},\"Brenda\"),o.a.createElement(F.a,{key:\"pt-BR-DonatoNeural\",value:\"pt-BR-DonatoNeural\"},\"Donato\"),o.a.createElement(F.a,{key:\"pt-BR-ElzaNeural\",value:\"pt-BR-ElzaNeural\"},\"Elza\"),o.a.createElement(F.a,{key:\"pt-BR-FabioNeural\",value:\"pt-BR-FabioNeural\"},\"F\\xe1bio\"),o.a.createElement(F.a,{key:\"pt-BR-GiovannaNeural\",value:\"pt-BR-GiovannaNeural\"},\"Giovanna\"),o.a.createElement(F.a,{key:\"pt-BR-HumbertoNeural\",value:\"pt-BR-HumbertoNeural\"},\"Humberto\"),o.a.createElement(F.a,{key:\"pt-BR-JulioNeural\",value:\"pt-BR-JulioNeural\"},\"Julio\"),o.a.createElement(F.a,{key:\"pt-BR-LeilaNeural\",value:\"pt-BR-LeilaNeural\"},\"Leila\"),o.a.createElement(F.a,{key:\"pt-BR-LeticiaNeural\",value:\"pt-BR-LeticiaNeural\"},\"Let\\xedcia\"),o.a.createElement(F.a,{key:\"pt-BR-ManuelaNeural\",value:\"pt-BR-ManuelaNeural\"},\"Manuela\"),o.a.createElement(F.a,{key:\"pt-BR-NicolauNeural\",value:\"pt-BR-NicolauNeural\"},\"Nicolau\"),o.a.createElement(F.a,{key:\"pt-BR-ValerioNeural\",value:\"pt-BR-ValerioNeural\"},\"Val\\xe9rio\"),o.a.createElement(F.a,{key:\"pt-BR-YaraNeural\",value:\"pt-BR-YaraNeural\"},\"Yara\"))),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.voiceKey\"),name:\"voiceKey\",error:t.voiceKey&&Boolean(n.voiceKey),helperText:t.voiceKey&&n.voiceKey,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.voiceRegion\"),name:\"voiceRegion\",error:t.voiceRegion&&Boolean(n.voiceRegion),helperText:t.voiceRegion&&n.voiceRegion,variant:\"outlined\",margin:\"dense\",fullWidth:!0})),o.a.createElement(\"div\",{className:s.multFieldLine},o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.temperature\"),name:\"temperature\",error:t.temperature&&Boolean(n.temperature),helperText:t.temperature&&n.temperature,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.max_tokens\"),name:\"maxTokens\",error:t.maxTokens&&Boolean(n.maxTokens),helperText:t.maxTokens&&n.maxTokens,variant:\"outlined\",margin:\"dense\",fullWidth:!0}),o.a.createElement(tn.b,{as:sa.a,label:We.a.t(\"promptModal.form.max_messages\"),name:\"maxMessages\",error:t.maxMessages&&Boolean(n.maxMessages),helperText:t.maxMessages&&n.maxMessages,variant:\"outlined\",margin:\"dense\",fullWidth:!0}))),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:x,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:s.btnWrapper,disabled:r},\"create\"===a?\"Adicionar\":\"Editar\")))})))};const Pp=Object(T.a)(e=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:Ra.a[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));var Rp=e=>{let{open:a,onSave:t,onUpdate:r,data:l,close:i}=e;const s=Pp(),c=Object(n.useRef)(!0),d={message:\"\",answerKey:\"\"},[m,u]=Object(n.useState)(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(),[f,h]=Object(n.useState)({title:\"Adicionar Perguta ao fluxo\",btn:\"Adicionar\"});Object(n.useEffect)(()=>(\"edit\"===a?(h({title:\"Editar Perguta do fluxo\",btn:\"Salvar\"}),console.log(\"FlowTybebotEdit\",l.data.typebotIntegration),u(l.data.typebotIntegration.message),E({...l.data.typebotIntegration}),g(!0)):\"create\"===a&&(h({title:\"Cria Perguta no fluxo\",btn:\"Salvar\"}),E(d),g(!0)),()=>{c.current=!1}),[a]);const A=()=>{i(null),g(!1)};return o.a.createElement(\"div\",{className:s.root},o.a.createElement(tt.a,{open:p,onClose:A,fullWidth:!0,maxWidth:\"md\",scroll:\"paper\"},o.a.createElement(gt.a,{id:\"form-dialog-title\"},\"create\"===a?\"Adicionar Perguta ao fluxo\":\"Editar Perguta\"),o.a.createElement(tn.e,{initialValues:b,enableReinitialize:!0,onSubmit:(e,n)=>{setTimeout(()=>{(e=>{if(\"edit\"===a){let a=localStorage.getItem(\"variables\");const t=l.data.typebotIntegration.answerKey;a=a?JSON.parse(a):[],a=a.filter(e=>e!==t),localStorage.setItem(\"variables\",JSON.stringify([...a,e.answerKey])),A(),r({...l,data:{typebotIntegration:{...e,message:m}}})}else if(\"create\"===a){let a=localStorage.getItem(\"variables\");a=a?JSON.parse(a):[],a=a.filter(a=>a!==e.answerKey),localStorage.setItem(\"variables\",JSON.stringify([...a,e.answerKey])),A(),t({typebotIntegration:{...e,message:m}})}})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:n,isSubmitting:r,values:l}=e;return o.a.createElement(tn.d,{style:{width:\"100%\"}},o.a.createElement(pt.a,{dividers:!0},o.a.createElement(sa.a,{label:\"Mensagem\",multiline:!0,rows:7,name:\"message\",error:t.message&&Boolean(n.message),helperText:t.message&&n.message,variant:\"outlined\",margin:\"dense\",value:m,onChange:e=>u(e.target.value),fullWidth:!0,required:!0}),o.a.createElement(tn.b,{as:sa.a,label:\"Salvar resposta\",name:\"answerKey\",error:t.answerKey&&Boolean(n.answerKey),helperText:t.answerKey&&n.answerKey,variant:\"outlined\",margin:\"dense\",fullWidth:!0,required:!0})),o.a.createElement(nt.a,null,o.a.createElement(ca.a,{onClick:A,color:\"secondary\",variant:\"outlined\"},We.a.t(\"contactModal.buttons.cancel\")),o.a.createElement(ca.a,{type:\"submit\",color:\"primary\",variant:\"contained\",className:s.btnWrapper,disabled:r},\"create\"===a?\"Adicionar\":\"Editar\")))})))},Dp=t(1592);const qp=Object(T.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),position:\"relative\",backgroundColor:\"#F8F9FA\",overflowY:\"scroll\",...e.scrollbarStyles},speeddial:{backgroundColor:\"red\"}}));function Lp(e){for(var a=\"\",t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}const Fp={message:Mu,start:Ru,menu:qu,interval:Fu,img:Bu,audio:ku,randomizer:Hu,video:Vu,singleBlock:_u,ticket:Ju,typebot:ju,openai:Iu,question:Yu},Wp={buttonedge:function(e){let{id:a,sourceX:t,sourceY:n,targetX:r,targetY:l,sourcePosition:i,targetPosition:s,style:c={},data:d,arrowHeadType:m,markerEndId:u}=e;const p=Object(wu.c)({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:l,targetPosition:s}),g=Object(wu.e)(m,u),[b,E]=Object(wu.d)({sourceX:t,sourceY:n,targetX:r,targetY:l});return o.a.createElement(o.a.Fragment,null,o.a.createElement(\"path\",{id:a,style:c,className:\"react-flow__edge-path\",d:p,markerEnd:g}),o.a.createElement(\"foreignObject\",{width:40,height:40,x:b-20,y:E-20,className:\"edgebutton-foreignobject\",requiredExtensions:\"http://www.w3.org/1999/xhtml\"},o.a.createElement(\"body\",null)))}},Bp=[{id:\"1\",position:{x:250,y:100},data:{label:\"Inicio do fluxo\"},type:\"start\"}],zp=[];var Hp=()=>{const e=qp(),{id:a}=(Object(C.useHistory)(),Object(Tm.useParams)()),t=Ou(),{user:r}=Object(n.useContext)(ea),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(!1),[h,A]=Object(n.useState)(null),[y,v]=Object(n.useState)(null),[x,S]=Object(n.useState)(null),[O,k]=Object(n.useState)(null),[T,j]=Object(n.useState)(null),[I,N]=Object(n.useState)(null),[M,P]=Object(n.useState)(null),[R,D]=Object(n.useState)(null),[q,L]=Object(n.useState)(null),[F,W]=Object(n.useState)(null),B=(e,a)=>{const t=z[z.length-1].position.y,n=z[z.length-1].position.x+z[z.length-1].width+40;return\"start\"===e?H(e=>[...e.filter(e=>\"1\"!==e.id),{id:\"1\",position:{x:n,y:t},data:{label:\"Inicio do fluxo\"},type:\"start\"}]):\"text\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{label:a.text},type:\"message\"}]):\"interval\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{label:\"Intervalo \".concat(a.sec,\" seg.\"),sec:a.sec},type:\"interval\"}]):\"condition\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{key:a.key,condition:a.condition,value:a.value},type:\"condition\"}]):\"menu\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{message:a.message,arrayOption:a.arrayOption},type:\"menu\"}]):\"img\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{url:a.url},type:\"img\"}]):\"audio\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{url:a.url,record:a.record},type:\"audio\"}]):\"randomizer\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{percent:a.percent},type:\"randomizer\"}]):\"video\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{url:a.url},type:\"video\"}]):\"singleBlock\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{...a},type:\"singleBlock\"}]):\"ticket\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{...a},type:\"ticket\"}]):\"typebot\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{...a},type:\"typebot\"}]):\"openai\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{...a},type:\"openai\"}]):\"question\"===e?H(e=>[...e,{id:Lp(30),position:{x:n,y:t},data:{...a},type:\"question\"}]):void 0},[z,H,U]=Object(wu.g)(Bp),[V,Q,K]=Object(wu.f)(zp),G=Object(n.useCallback)(e=>Q(a=>Object(tp.n)(e,a)),[Q]),Y=e=>{H(a=>a.map(a=>a.id===e.id?e:a)),b(null),f(null),A(null),L(null),D(null)},X=[{icon:o.a.createElement(Pu.a,{sx:{color:\"#3ABA38\"}}),name:\"Inicio\",type:\"start\"},{icon:o.a.createElement(Xu.a,{sx:{color:\"#EC5858\"}}),name:\"Conte\\xfado\",type:\"content\"},{icon:o.a.createElement(Du.a,{sx:{color:\"#683AC8\"}}),name:\"Menu\",type:\"menu\"},{icon:o.a.createElement(zu.a,{sx:{color:\"#1FBADC\"}}),name:\"Randomizador\",type:\"random\"},{icon:o.a.createElement(Lu.a,{sx:{color:\"#F7953B\"}}),name:\"Intervalo\",type:\"interval\"},{icon:o.a.createElement(Dp.a,{sx:{color:\"#F7953B\"}}),name:\"Ticket\",type:\"ticket\"},{icon:o.a.createElement(Wa.a,{component:\"img\",sx:{width:24,height:24,color:\"#3aba38\"},src:yu.a,alt:\"icon\"}),name:\"TypeBot\",type:\"typebot\"},{icon:o.a.createElement(hu.a,{sx:{color:\"#F7953B\"}}),name:\"OpenAI\",type:\"openai\"},{icon:o.a.createElement(Gu.a,{sx:{color:\"#F7953B\"}}),name:\"Pergunta\",type:\"question\"}];return Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ye.get(\"/flowbuilder/flow/\".concat(a));if(null!==e.flow.flow){const a=e.flow.flow.nodes;H(a),Q(e.flow.flow.connections);const t=a.filter(e=>\"question\"===e.type).map(e=>e.data.typebotIntegration.answerKey);localStorage.setItem(\"variables\",JSON.stringify(t))}i(!1)}catch(e){Ue(e)}})()},500);return()=>clearTimeout(e)},[a]),Object(n.useEffect)(()=>{if(\"delete\"===t.action&&(H(e=>e.filter(e=>e.id!==t.node)),Q(e=>e.filter(e=>e.source!==t.node).filter(e=>e.target!==t.node)),t.setNodesStorage(\"\"),t.setAct(\"idle\")),\"duplicate\"===t.action){const e=z.filter(e=>e.id===t.node)[0],a=z.map(e=>e.position.x),n=Math.max(...a),o=z[z.length-1].position.y,r={...e,id:Lp(30),position:{x:n+240,y:o},selected:!1,style:{backgroundColor:\"#555555\",padding:0,borderRadius:8}};H(e=>[...e,r]),t.setNodesStorage(\"\"),t.setAct(\"idle\")}},[t.action]),o.a.createElement(Oo.a,{sx:{height:\"100vh\"}},o.a.createElement(ip,{open:g,onSave:e=>{B(\"text\",e)},data:d,onUpdate:Y,close:b}),o.a.createElement(cp,{open:E,onSave:e=>{B(\"interval\",e)},data:d,onUpdate:Y,close:f}),o.a.createElement(mp,{open:h,onSave:e=>{B(\"menu\",e)},data:d,onUpdate:Y,close:A}),o.a.createElement(bp,{open:y,onSave:e=>{B(\"img\",e)},data:d,onUpdate:Y,close:v}),o.a.createElement(Ap,{open:x,onSave:e=>{B(\"audio\",e)},data:d,onUpdate:Y,close:S}),o.a.createElement(xp,{open:O,onSave:e=>{B(\"randomizer\",e)},data:d,onUpdate:Y,close:k}),o.a.createElement(wp,{open:T,onSave:e=>{B(\"video\",e)},data:d,onUpdate:Y,close:j}),o.a.createElement(kp,{open:I,onSave:e=>{B(\"singleBlock\",e)},data:d,onUpdate:Y,close:N}),o.a.createElement(fp,{open:M,onSave:e=>{B(\"ticket\",e)},data:d,onUpdate:Y,close:P}),o.a.createElement(Mp,{open:q,onSave:e=>{B(\"openai\",e)},data:d,onUpdate:Y,close:L}),o.a.createElement(Ip,{open:R,onSave:e=>{B(\"typebot\",e)},data:d,onUpdate:Y,close:D}),o.a.createElement(Rp,{open:F,onSave:e=>{B(\"question\",e)},data:d,onUpdate:Y,close:W}),o.a.createElement(ci,null,o.a.createElement(ui,null,\"Desenhe seu fluxo\")),!l&&o.a.createElement(Cn.a,{className:e.mainPaper,variant:\"outlined\",onScroll:e=>{if(!u||l)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&c(e=>e+1)}},o.a.createElement(Oo.a,null,o.a.createElement($u.a,{ariaLabel:\"SpeedDial basic example\",sx:{position:\"absolute\",top:16,left:16},icon:o.a.createElement(ep.a,null),direction:\"down\"},X.map(e=>o.a.createElement(ap.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,tooltipPlacement:\"right\",onClick:()=>{console.log(e.type),(e=>{switch(e){case\"start\":B(\"start\");break;case\"menu\":A(\"create\");break;case\"content\":N(\"create\");break;case\"random\":k(\"create\");break;case\"interval\":f(\"create\");break;case\"ticket\":P(\"create\");break;case\"typebot\":D(\"create\");break;case\"openai\":L(\"create\");break;case\"question\":W(\"create\")}})(e.type)}})))),o.a.createElement(Oo.a,{sx:{position:\"absolute\",justifyContent:\"center\",flexDirection:\"row\",width:\"100%\"}},o.a.createElement(Qu.a,{style:{color:\"#010101\",textShadow:\"#010101 1px 0 10px\"}},\"N\\xe3o se esque\\xe7a de salvar seu fluxo!\")),o.a.createElement(Oo.a,{direction:\"row\",justifyContent:\"end\"},o.a.createElement(ca.a,{sx:{textTransform:\"none\"},variant:\"contained\",color:\"primary\",onClick:()=>(async()=>{await Ye.post(\"/flowbuilder/flow\",{idFlow:a,nodes:z,connections:V}).then(e=>{w.b.success(\"Fluxo salvo com sucesso\")})})()},\"Salvar\")),o.a.createElement(Oo.a,{direction:\"row\",style:{width:\"100%\",height:\"90%\",position:\"relative\",display:\"flex\"}},o.a.createElement(wu.b,{nodes:z,edges:V,deleteKeyCode:[\"Backspace\",\"Delete\"],onNodesChange:U,onEdgesChange:K,onNodeDoubleClick:(e,a)=>{console.log(\"NODE\",a),m(a),\"message\"===a.type&&b(\"edit\"),\"interval\"===a.type&&f(\"edit\"),\"menu\"===a.type&&A(\"edit\"),\"img\"===a.type&&v(\"edit\"),\"audio\"===a.type&&S(\"edit\"),\"randomizer\"===a.type&&k(\"edit\"),\"singleBlock\"===a.type&&N(\"edit\"),\"ticket\"===a.type&&P(\"edit\"),\"typebot\"===a.type&&D(\"edit\"),\"openai\"===a.type&&L(\"edit\"),\"question\"===a.type&&W(\"edit\")},onNodeClick:(e,a)=>{H(e=>e.map(e=>e.id===a.id?{...e,style:{backgroundColor:\"#0000FF\",padding:1,borderRadius:8}}:{...e,style:{backgroundColor:\"#13111C\",padding:0,borderRadius:8}}))},onEdgeClick:(e,a)=>{H(e=>e.map(e=>({...e,style:{backgroundColor:\"#13111C\",padding:0,borderRadius:8}})))},onConnect:G,nodeTypes:Fp,fitView:!0,connectionLineStyle:{stroke:\"#2b2b2b\",strokeWidth:\"6px\"},style:{backgroundColor:\"#F8F9FA\"},edgeTypes:Wp,variant:\"cross\",defaultEdgeOptions:{style:{color:\"#ff0000\",strokeWidth:\"6px\"},animated:!1}},o.a.createElement(np.b,null),o.a.createElement(op.a,null),o.a.createElement(rp.a,{variant:\"dots\",gap:12,size:-1})),o.a.createElement(Oo.a,{style:{backgroundColor:\"#FAFAFA\",height:\"20px\",width:\"58px\",position:\"absolute\",bottom:0,right:0,zIndex:1111}}))),l&&o.a.createElement(Oo.a,{justifyContent:\"center\",alignItems:\"center\",height:\"70vh\"},o.a.createElement(Ba.a,null)))};var Up=()=>{const[e,a]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{void 0!==localStorage.getItem(\"cshow\")&&a(!0)},[]),o.a.createElement(x.a,null,o.a.createElement(aa,null,o.a.createElement(_a,null,o.a.createElement(C.Switch,null,o.a.createElement(vd,{exact:!0,path:\"/login\",component:Jl}),o.a.createElement(vd,{exact:!0,path:\"/signup\",component:Ql}),o.a.createElement(vd,{exact:!0,path:\"/forgetpsw\",component:_m}),o.a.createElement(Je,null,o.a.createElement(Hn,null,o.a.createElement(vd,{exact:!0,path:\"/\",component:Ro,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/tickets/:ticketId?\",component:Bl,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/connections\",component:Ci,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/quick-messages\",component:Ed,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/todolist\",component:Ea,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/schedules\",component:kd,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/tags\",component:Wc,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/contacts\",component:bc,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/helps\",component:Vc,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/users\",component:lc,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/files\",component:ym,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/prompts\",component:Nm,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/queue-integration\",component:Qm,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/messages-api\",component:zc,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/settings\",component:Ji,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/kanban\",component:yd,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/financeiro\",component:nc,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/queues\",component:Mc,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/announcements\",component:nm,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/subscription\",component:gm,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/chats/:id?\",component:mm,isPrivate:!0}),e&&o.a.createElement(o.a.Fragment,null,o.a.createElement(vd,{exact:!0,path:\"/contact-lists\",component:ed,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/contact-lists/:contactListId/contacts\",component:cd,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/campaigns\",component:Wd,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/campaign/:campaignId/report\",component:Zd,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/campaigns-config\",component:Hd,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/phrase-lists\",component:iu,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/flowbuilders\",component:fu,isPrivate:!0}),o.a.createElement(vd,{exact:!0,path:\"/flowbuilder/:id?\",component:Hp,isPrivate:!0}))))),o.a.createElement(w.a,{autoClose:3e3}))))};const Vp=new s.QueryClient;var Qp=()=>{const[e,a]=Object(n.useState)(),t=Object(p.a)(\"(prefers-color-scheme: dark)\"),r=window.localStorage.getItem(\"preferredTheme\"),[l,i]=Object(n.useState)(r||(t?\"dark\":\"light\")),m=o.a.useMemo(()=>({toggleColorMode:()=>{i(e=>\"light\"===e?\"dark\":\"light\")}}),[]),b=u(l,e);return Object(n.useEffect)(()=>{var e;const t=localStorage.getItem(\"i18nextLng\"),n=null!==(e=null===t||void 0===t?void 0:t.substring(0,2))&&void 0!==e?e:\"pt\";\"pt\"===n?a(c.ptBR):\"en\"===n?a(c.enUS):\"es\"===n&&a(c.esES)},[]),Object(n.useEffect)(()=>{window.localStorage.setItem(\"preferredTheme\",l)},[l]),o.a.createElement(g.Provider,{value:{colorMode:m}},o.a.createElement(d.a,{theme:b},o.a.createElement(s.QueryClientProvider,{client:Vp},o.a.createElement(v.Provider,{value:y},o.a.createElement(Up,null)))))};l.a.render(o.a.createElement(i.a,null,o.a.createElement(Qp,null)),document.getElementById(\"root\"))},166:function(e,a,t){e.exports=t.p+\"static/media/logo.a89e7bf5.png\"},531:function(e,a,t){e.exports=t.p+\"static/media/planilha.549edeba.xlsx\"},532:function(e,a){e.exports=\"data:image/png;base64,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\"},768:function(e,a,t){},824:function(e,a,t){e.exports=t.p+\"static/media/wa-background.2675a051.png\"},825:function(e,a,t){e.exports=t.p+\"static/media/wa-background-dark.8244f042.png\"},827:function(e,a,t){e.exports=t.p+\"static/media/sound.9fd5812c.mp3\"},834:function(e,a,t){e.exports=t.p+\"static/media/chat_notify.2529c259.mp3\"},898:function(e,a,t){e.exports=t.p+\"static/media/n8n.5c788b8d.png\"},899:function(e,a){e.exports=\"data:image/png;base64,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\"},900:function(e,a,t){e.exports=t.p+\"static/media/webhook.e5374d73.png\"},901:function(e,a){e.exports=\"data:image/jpeg;base64,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\"},987:function(e,a,t){e.exports=t(1348)},997:function(e,a){},999:function(e,a){}},[[987,1,2]]]);","extractedComments":[]}