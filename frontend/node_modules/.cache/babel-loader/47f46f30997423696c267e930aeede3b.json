{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"react-toastify/dist/ReactToastify.css\";import{QueryClient,QueryClientProvider}from\"react-query\";import{enUS,ptBR,esES}from\"@material-ui/core/locale\";import{ThemeProvider}from\"@material-ui/core/styles\";import createAppTheme from\"./theme\";import{useMediaQuery}from\"@material-ui/core\";import ColorModeContext from\"./layout/themeContext\";import{SocketContext,SocketManager}from'./context/Socket/SocketContext';import Routes from\"./routes\";const queryClient=new QueryClient();const App=()=>{const[locale,setLocale]=useState();const prefersDarkMode=useMediaQuery(\"(prefers-color-scheme: dark)\");const preferredTheme=window.localStorage.getItem(\"preferredTheme\");const[mode,setMode]=useState(preferredTheme?preferredTheme:prefersDarkMode?\"dark\":\"light\");const colorMode=React.useMemo(()=>({toggleColorMode:()=>{setMode(prevMode=>prevMode===\"light\"?\"dark\":\"light\");}}),[]);// Usando o tema personalizado criado em src/theme/index.js\nconst theme=createAppTheme(mode,locale);useEffect(()=>{var _i18nlocale$substring;const i18nlocale=localStorage.getItem(\"i18nextLng\");const browserLocale=(_i18nlocale$substring=i18nlocale===null||i18nlocale===void 0?void 0:i18nlocale.substring(0,2))!==null&&_i18nlocale$substring!==void 0?_i18nlocale$substring:'pt';if(browserLocale===\"pt\"){setLocale(ptBR);}else if(browserLocale===\"en\"){setLocale(enUS);}else if(browserLocale===\"es\")setLocale(esES);},[]);useEffect(()=>{window.localStorage.setItem(\"preferredTheme\",mode);},[mode]);return/*#__PURE__*/React.createElement(ColorModeContext.Provider,{value:{colorMode}},/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(QueryClientProvider,{client:queryClient},/*#__PURE__*/React.createElement(SocketContext.Provider,{value:SocketManager},/*#__PURE__*/React.createElement(Routes,null)))));};export default App;","map":null,"metadata":{},"sourceType":"module"}